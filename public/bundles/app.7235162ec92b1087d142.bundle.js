webpackJsonp([0],[,,,,,,,,,,function(e,t,a){var n,r,o;!function(a,i){r=[],n=i,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(0,function(){function e(e,t){for(var a=0,n=t-1,r={escape:!0};n>=0&&r&&r.escape;)r=s[e.charAt(n)],a+=r&&r.escape?1:0,n--;return a>0&&a%2==1}function t(e,t){var a=e.replace(/[^0]/g,"").length;return t.replace(/[^\d]/g,"").length-a}function a(e,t,a,n){return n&&"function"==typeof n.transform&&(t=n.transform(t)),a.reverse?t+e:e+t}function n(e,t,a){var r=e.charAt(t),o=s[r];return""!==r&&(!(!o||o.escape)||n(e,t+a,a))}function r(e,t,a){var n=e.charAt(t),o=s[n];return""!==n&&(!(!o||!o.recursive)||r(e,t+a,a))}function o(e,t,a){var n=e.split("");return n.splice(a,0,t),n.join("")}function i(e,t){this.options=t||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=e}var s={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/},U:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},L:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},$:{escape:!0}};return i.prototype.process=function(i){if(!i)return{result:"",valid:!1};i+="";var l=this.pattern,c=!0,u="",d=this.options.reverse?i.length-1:0,p=0,m=t(l,i),f=!1,g=[],v=!1,h={start:this.options.reverse?l.length-1:0,end:this.options.reverse?-1:l.length,inc:this.options.reverse?-1:1};for(p=h.start;function(e){if(!v&&!g.length&&n(l,p,h.inc))return!0;if(!v&&g.length&&r(l,p,h.inc))return!0;if(v||(v=g.length>0),v){var t=g.shift();if(g.push(t),e.reverse&&d>=0)return p++,l=o(l,t,p),!0;if(!e.reverse&&d<i.length)return l=o(l,t,p),!0}return p<l.length&&p>=0}(this.options);p+=h.inc){var y=i.charAt(d),S=l.charAt(p),P=s[S];if(g.length&&P&&!P.recursive&&(P=null),!v||y){if(this.options.reverse&&e(l,p)){u=a(u,S,this.options,P),p+=h.inc;continue}if(!this.options.reverse&&f){u=a(u,S,this.options,P),f=!1;continue}if(!this.options.reverse&&P&&P.escape){f=!0;continue}}if(!v&&P&&P.recursive)g.push(S);else{if(v&&!y){u=a(u,S,this.options,P);continue}if(!v&&g.length>0&&!y)continue}if(P)if(P.optional){if(P.pattern.test(y)&&m)u=a(u,y,this.options,P),d+=h.inc,m--;else if(g.length>0&&y){c=!1;break}}else if(P.pattern.test(y))u=a(u,y,this.options,P),d+=h.inc;else{if(y||!P._default||!this.options.usedefaults){c=!1;break}u=a(u,P._default,this.options,P)}else u=a(u,S,this.options,P),!v&&g.length&&g.push(S)}return{result:u,valid:c}},i.prototype.apply=function(e){return this.process(e).result},i.prototype.validate=function(e){return this.process(e).valid},i.process=function(e,t,a){return new i(t,a).process(e)},i.apply=function(e,t,a){return new i(t,a).apply(e)},i.validate=function(e,t,a){return new i(t,a).validate(e)},i})},,,function(e,t,a){"use strict";function n(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var a=t||{},n=void 0===a.additionalDigits?p:Number(a.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date)return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var c=r(e),u=o(c.date,n),m=u.year,f=u.restDateString,g=i(f,m);if(g){var v,h=g.getTime(),y=0;return c.time&&(y=s(c.time)),c.timezone?v=l(c.timezone):(v=new Date(h+y).getTimezoneOffset(),v=new Date(h+y+v*d).getTimezoneOffset()),new Date(h+y+v*d)}return new Date(e)}function r(e){var t,a={},n=e.split(m.dateTimeDelimeter);if(m.plainTime.test(n[0])?(a.date=null,t=n[0]):(a.date=n[0],t=n[1]),t){var r=m.timezone.exec(t);r?(a.time=t.replace(r[1],""),a.timezone=r[1]):a.time=t}return a}function o(e,t){var a,n=m.YYY[t],r=m.YYYYY[t];if(a=m.YYYY.exec(e)||r.exec(e)){var o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=m.YY.exec(e)||n.exec(e)){var i=a[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}function i(e,t){if(null===t)return null;var a,n,r,o;if(0===e.length)return n=new Date(0),n.setUTCFullYear(t),n;if(a=m.MM.exec(e))return n=new Date(0),r=parseInt(a[1],10)-1,n.setUTCFullYear(t,r),n;if(a=m.DDD.exec(e)){n=new Date(0);var i=parseInt(a[1],10);return n.setUTCFullYear(t,0,i),n}if(a=m.MMDD.exec(e)){n=new Date(0),r=parseInt(a[1],10)-1;var s=parseInt(a[2],10);return n.setUTCFullYear(t,r,s),n}if(a=m.Www.exec(e))return o=parseInt(a[1],10)-1,c(t,o);if(a=m.WwwD.exec(e)){o=parseInt(a[1],10)-1;return c(t,o,parseInt(a[2],10)-1)}return null}function s(e){var t,a,n;if(t=m.HH.exec(e))return(a=parseFloat(t[1].replace(",",".")))%24*u;if(t=m.HHMM.exec(e))return a=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),a%24*u+n*d;if(t=m.HHMMSS.exec(e)){a=parseInt(t[1],10),n=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return a%24*u+n*d+1e3*r}return null}function l(e){var t,a;return(t=m.timezoneZ.exec(e))?0:(t=m.timezoneHH.exec(e))?(a=60*parseInt(t[2],10),"+"===t[1]?-a:a):(t=m.timezoneHHMM.exec(e),t?(a=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-a:a):0)}function c(e,t,a){t=t||0,a=a||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,o=7*t+a+1-r;return n.setUTCDate(n.getUTCDate()+o),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var u=36e5,d=6e4,p=2,m={dateTimeDelimeter:/[T ]/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};e.exports=t.default},,function(e,t,a){"use strict";e.exports=function(e){return function(){return{restrict:"A",require:"ngModel",link:function(t,a,n,r){r.$formatters.push(function(t){if(r.$isEmpty(t))return t;var a=e.clearValue(t.toString());return e.format(a)}),r.$parsers.push(function(t){if(r.$isEmpty(t))return t;var a=e.clearValue(t.toString()),n=e.format(a);if(r.$viewValue!==n&&(r.$setViewValue(n),r.$render()),angular.isUndefined(e.getModelValue))return a;var o=typeof r.$modelValue;return e.getModelValue(n,o)}),angular.forEach(e.validations,function(e,t){r.$validators[t]=function(t,a){return r.$isEmpty(t)||e(t,a)}})}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){var a=(0,o.default)(e,t),n=a.getUTCDay(),r=(n<1?7:0)+n-1;return a.setUTCDate(a.getUTCDate()-r),a.setUTCHours(0,0,0,0),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){var n,r,o;/**
 * br-validations
 * A library of validations applicable to several Brazilian data like I.E., CNPJ, CPF and others
 * @version v0.3.0
 * @link http://github.com/the-darc/br-validations
 * @license MIT
 */
!function(a,i){r=[],n=i,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(0,function(){function e(e,t){var a=t.algorithmSteps,n=i.handleStr[a[0]](e),r=i.sum[a[1]](n,t.pesos),o=i.rest[a[2]](r);return parseInt(n[t.dvpos])===i.expectedDV[a[3]](o,n)}function t(t,a){for(var n=0;n<a.dvs.length;n++)if(!e(t,a.dvs[n]))return!1;return!0}var a={};a.validate=function(e){var t=[6,5,4,3,2,9,8,7,6,5,4,3,2];e=e.replace(/[^\d]/g,"");var a=/^(0{14}|1{14}|2{14}|3{14}|4{14}|5{14}|6{14}|7{14}|8{14}|9{14})$/;if(!e||14!==e.length||a.test(e))return!1;e=e.split("");for(var n=0,r=0;n<12;n++)r+=e[n]*t[n+1];if(r=11-r%11,r=r>=10?0:r,parseInt(e[12])!==r)return!1;for(n=0,r=0;n<=12;n++)r+=e[n]*t[n];return r=11-r%11,r=r>=10?0:r,parseInt(e[13])===r};var n={};n.validate=function(e){function t(t){for(var a=0,n=t-9,r=0;r<9;r++)a+=parseInt(e.charAt(r+n))*(r+1);return a%11%10===parseInt(e.charAt(t))}e=e.replace(/[^\d]+/g,"");var a=/^(0{11}|1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11})$/;return!(!e||11!==e.length||a.test(e))&&(t(9)&&t(10))};var r=function(e){if(!(this instanceof r))return new r(e);this.rules=o[e]||[],this.rule,r.prototype._defineRule=function(e){this.rule=void 0;for(var t=0;t<this.rules.length&&void 0===this.rule;t++){var a=e.replace(/[^\d]/g,""),n=this.rules[t];a.length!==n.chars||n.match&&!n.match.test(e)||(this.rule=n)}return!!this.rule},r.prototype.validate=function(e){return!(!e||!this._defineRule(e))&&this.rule.validate(e)}},o={},i={handleStr:{onlyNumbers:function(e){return e.replace(/[^\d]/g,"").split("")},mgSpec:function(e){var t=e.replace(/[^\d]/g,"");return t=t.substr(0,3)+"0"+t.substr(3,t.length),t.split("")}},sum:{normalSum:function(e,t){for(var a=e,n=0,r=0;r<t.length;r++)n+=parseInt(a[r])*t[r];return n},individualSum:function(e,t){for(var a=e,n=0,r=0;r<t.length;r++){var o=parseInt(a[r])*t[r];n+=o%10+parseInt(o/10)}return n},apSpec:function(e,t){var a=this.normalSum(e,t),n=e.join("");return n>="030000010"&&n<="030170009"?a+5:n>="030170010"&&n<="030190229"?a+9:a}},rest:{mod11:function(e){return e%11},mod10:function(e){return e%10},mod9:function(e){return e%9}},expectedDV:{minusRestOf11:function(e){return e<2?0:11-e},minusRestOf11v2:function(e){return e<2?11-e-10:11-e},minusRestOf10:function(e){return e<1?0:10-e},mod10:function(e){return e%10},goSpec:function(e,t){var a=t.join("");return 1===e?a>="101031050"&&a<="101199979"?1:0:0===e?0:11-e},apSpec:function(e,t){var a=t.join("");return 0===e?a>="030170010"&&a<="030190229"?1:0:1===e?0:11-e},voidFn:function(e){return e}}};o.PE=[{chars:9,dvs:[{dvpos:7,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}},{chars:14,pesos:[[1,2,3,4,5,9,8,7,6,5,4,3,2]],dvs:[{dvpos:13,pesos:[5,4,3,2,1,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11v2"]}],validate:function(e){return t(e,this)}}],o.RS=[{chars:10,dvs:[{dvpos:9,pesos:[2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.AC=[{chars:13,match:/^01/,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MG=[{chars:13,dvs:[{dvpos:12,pesos:[1,2,1,2,1,2,1,2,1,2,1,2],algorithmSteps:["mgSpec","individualSum","mod10","minusRestOf10"]},{dvpos:12,pesos:[3,2,11,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.SP=[{chars:12,match:/^[0-9]/,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]},{dvpos:11,pesos:[3,2,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(e){return t(e,this)}},{chars:12,match:/^P/i,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(e){return t(e,this)}}],o.DF=[{chars:13,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.ES=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.BA=[{chars:8,match:/^[0123458]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(e){return t(e,this)}},{chars:8,match:/^[679]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}},{chars:9,match:/^[0-9][0123458]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(e){return t(e,this)}},{chars:9,match:/^[0-9][679]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.AM=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RN=[{chars:9,match:/^20/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}},{chars:10,match:/^20/,dvs:[{dvpos:8,pesos:[10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RO=[{chars:14,dvs:[{dvpos:13,pesos:[6,5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11v2"]}],validate:function(e){return t(e,this)}}],o.PR=[{chars:10,dvs:[{dvpos:8,pesos:[3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:9,pesos:[4,3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.SC=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RJ=[{chars:8,dvs:[{dvpos:7,pesos:[2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PA=[{chars:9,match:/^15/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.SE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PB=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.CE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PI=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MA=[{chars:9,match:/^12/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MT=[{chars:11,dvs:[{dvpos:10,pesos:[3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MS=[{chars:9,match:/^28/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.TO=[{chars:11,match:/^[0-9]{2}((0[123])|(99))/,dvs:[{dvpos:10,pesos:[9,8,0,0,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.AL=[{chars:9,match:/^24[03578]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RR=[{chars:9,match:/^24/,dvs:[{dvpos:8,pesos:[1,2,3,4,5,6,7,8],algorithmSteps:["onlyNumbers","normalSum","mod9","voidFn"]}],validate:function(e){return t(e,this)}}],o.GO=[{chars:9,match:/^1[015]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","goSpec"]}],validate:function(e){return t(e,this)}}],o.AP=[{chars:9,match:/^03/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","apSpec","mod11","apSpec"]}],validate:function(e){return t(e,this)}}];var s={};return s.validate=function(e){e=e.replace(/[^\d]+/g,"");var t=/^(0{11}|1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11})$/;if(!e||11!==e.length||t.test(e))return!1;var a=e.substring(0,10),n=e.substring(10);return Number(n)===function(e){for(var t=[3,2,9,8,7,6,5,4,3,2],a=0,n=0;n<=9;n++)a+=parseInt(e.charAt(n))*t[n];var r=11-a%11;return 10===r||11===r?0:r}(a)},{ie:r,cpf:n,cnpj:a,pis:s}})},,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,i.default)(e,t),n=new Date(0);return n.setUTCFullYear(a,0,4),n.setUTCHours(0,0,0,0),(0,l.default)(n,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=a(90),i=n(o),s=a(43),l=n(s);e.exports=t.default},function(e,t,a){"use strict";e.exports={maxNumber:function(e,t,a){var n=parseFloat(a,10);return e.$isEmpty(t)||isNaN(n)||t<=n},minNumber:function(e,t,a){var n=parseFloat(a,10);return e.$isEmpty(t)||isNaN(n)||t>=n}}},function(e,t,a){"use strict";function n(e){return"0"===e?"0":e.toString().replace(/^-/,"").replace(/^0*/,"").replace(/[^0-9]/g,"")}function r(e,t){return n(parseFloat(e).toFixed(t))}e.exports={clearDelimitersAndLeadingZeros:n,prepareNumberToFormatter:r}},function(e,t,a){(function(t){function a(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files;var a=document.getElementById("myCanvas").getContext("2d");a.clearRect(0,0,300,130);var n=new Image;n.src=scope.filepreview,n.onload=function(){a.drawImage(n,0,0)}})}}}function n(){return{scope:{fileinput:"=",filepreview:"="},link:function(e,t,a){t.bind("change",function(t){e.fileinput=t.target.files[0],e.filepreview="";var a=new FileReader;a.onload=function(t){e.$apply(function(){e.filepreview=t.target.result;var a=document.getElementById("myCanvas").getContext("2d");a.clearRect(0,0,300,130);var n=new Image;n.src=e.filepreview,n.onload=function(){a.drawImage(n,0,0)}})},a.readAsDataURL(e.fileinput)})}}}var r={templateUrl:"modules/ComparableModule/SalesComparable/comparableComponent/comparable.component.html",controllerAs:"comparableComponent",controller:["ComparablePropService","User_Config","$timeout","$scope","$state","AOTCService","Upload","ComparableSelectionService",function(e,a,n,r,o,i,s,l){function c(){n(function(){for(var e=0;e<r.savedComaprables.length;e++){t("#card_"+e).flip({trigger:"manual"})}},100)}function u(e){t(e).flip(!1)}function d(e){t(e).flip(!0)}function p(){v.formData={},r.manualForm.$setPristine(),r.manualForm.$setUntouched(),r.picFile=null,r.isSubmitting=!1}function m(){t("#successModal").modal("hide"),o.go("updateIERR")}function f(){v.formData={},r.manualForm.$setPristine(),r.manualForm.$setUntouched(),t("#successModal").modal("toggle")}function g(){t("#preloader").css("display","block"),v.formData.compScore=v.formData.compScore,v.formData.taxAssessment=v.formData.taxAssessment.toString(),v.formData.percentile=v.formData.percentileValue.toString(),v.formData.rentLastUpdate=v.formData.rentLastUpdate.toString(),v.formData.rentValueChangeDuration=v.formData.rentValueChangeDuration.toString(),v.formData.taxAssessmentYear=v.formData.taxAssessmentYear.toString(),v.formData.rentValueChange=v.formData.rentValueChange.toString(),v.formData.finishedSqFt=v.formData.finishedSqFt.toString(),v.formData.lastUpdate=v.formData.lastUpdate.toString(),v.formData.amount=v.PrinciplePropData.zEstimate.toString(),v.formData.valueChange=v.PrinciplePropData.valueChange.toString(),v.formData.valueChangeDuration=v.PrinciplePropData.valueChangeDuration.toString(),v.formData.valuationRangeHigh=v.PrinciplePropData.valuationRangeHigh.toString(),v.formData.valuationRangeLow=v.PrinciplePropData.valuationRangeLow.toString(),v.formData.lotSizeSqFt=v.PrinciplePropData.lotSizeSf.toString(),v.formData.lastSoldDate=v.PrinciplePropData.lastSoldDate.toString(),v.formData.lastSoldPrice=v.PrinciplePropData.lastSoldPrice.toString(),v.formData.yearBuilt=v.PrinciplePropData.yearBuilt.toString(),v.formData.imageFileName=r.imagePath,v.PrinciplePropData.valueChangeDuration=v.formData.valueChangeDuration,v.PrinciplePropData.rentValueChangeDuration=v.formData.rentValueChangeDuration,v.PrinciplePropData.valueChangeDuration=v.formData.valueChangeDuration,r.savedComaprables.push(v.formData),c();var e={};e.principal=[],e.comps=[],e.principal.push(v.PrinciplePropData),e.comps=r.savedComaprables,e.propId=localStorage.getItem("propertyId");i.postDataToServer("salesComps/addCompsToPropManual",e).then(function(e){e.data.success?(r.$emit("success",e.data.message),r.manualForm.$setPristine(),r.manualForm.$setUntouched(),t("#compsForm").modal("hide"),p()):r.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}var v=this;t("#preloader").css("display","block");JSON.parse(localStorage.getItem("propertyDetails"));v.zillowData=[],v.imageArr=[],v.flipBack=u,v.flipFront=d;localStorage.getItem("role");t("#mydiv").hide();var v=this;t("#preloader").css("display","none"),v.submitManualData=g,v.property=JSON.parse(localStorage.getItem("propertyDetails")),v.formData={},v.PrinciplePropData=JSON.parse(localStorage.getItem("principalForm")),v.modalYesbutton=f,v.gotoPropertyDetails=m,v.resetForm=p,r.savedComaprables=[];var h=0;r.getSavedComparables=function(){t("#preloader").css("display","block"),l.getSavedComparables().then(function(e){var a=e.data;t("#preloader").css("display","none"),a.success&&(h=1,r.savedComaprables=a.result.comparables,n(function(){c()},200))},function(e){t("#preloader").css("display","none")})},t("#sandbox-container input").datepicker({autoclose:!0}),t("#sandbox-container input").on("show",function(e){console.debug("show",e.date,t(this).data("stickyDate")),e.date?t(this).data("stickyDate",e.date):t(this).data("stickyDate",null)}),t("#sandbox-container input").on("hide",function(e){console.debug("hide",e.date,t(this).data("stickyDate"));var a=t(this).data("stickyDate");!e.date&&a&&(console.debug("restore stickyDate",a),t(this).datepicker("setDate",a),t(this).data("stickyDate",null))}),r.uploadImage=function(e){e&&(e.upload=s.upload({url:"salesComps/addCompsImageManual",data:{file:e}}),e.upload.then(function(t){n(function(){e.result=t.data,r.isSubmitting=!0,r.imagePath=e.result,g()})},function(e){e.status>0&&(r.errorMsg=e.status+": "+e.data)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))}))}}]};e.exports={comparableComponent:r,fileinput:n,ngImageSelect:a}}).call(t,a(2))},,function(e,t,a){(function(t){function a(){return{link:function(e,t,a){t.draggable({connectToSortable:a.myDraggable,helper:"clone",revert:"invalid"}),t.disableSelection()}}}function n(){return function(e){var t=(new Array,0),a=[];for(var n in e)e[n]&&(e[n].id=t,t++,a.push(e[n]));return a}}var r={};r={templateUrl:"modules/SurveyModule/EditSurvey/EditableSurveysMenu/EditArrangeSurvey/EditArrangeSurvey.component.html",controllerAs:"EditArrangeSurveyCtrl",controller:["$scope","sharedService","ArrangeSurveyService","CreateSurveyService","$state","FillSurveyService","$stateParams",function(e,a,n,r,o,i,s){function l(){n.getAllSections().then(function(t){var a=t.data;if(a.success&&a){u.sections=a.result;for(var n=0;n<u.sections.length;++n)e.example1data[n]={id:u.sections[n].section,label:u.sections[n].section,sectionId:u.sections[n].sectionId}}},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})}function c(){var t=e.tempSelections;if(t[0])for(var a in t)e.example1model.push({id:t[a][t[a].length-1].key,label:t[a][t[a].length-1].key,sectionId:t[a][t[a].length-1].sectionID});e.len=e.example1model.length,console.log(e.len)}var u=this;console.log(e.tempSelections),e.tempSelections=null;var d=null;if(e.models={selected:null,lists:{},restoreList:{}},e.len=0,e.example1data=[{}],e.example1model=[],e.setSections={A:[]},e.models={selected:null,lists:{},restoreList:{}},e.models2={selected:null,lists:{B:[]}},localStorage.getItem("section")){console.log(localStorage.getItem("section"));var p=JSON.parse(localStorage.getItem("section"));e.models.lists=p,e.tempSelections=p,console.log(e.models.lists);var p=e.models.lists;for(var m in p)for(var f=0;f<p[m].length;f++)for(var g=0;g<r.validateQuestions.length;g++)p[m][f]&&p[m][f].id==r.validateQuestions[g].id&&(console.log(p[m][f]),p[m].splice(f,1));c()}else!function(){t("#preloader").css("display","block"),i.getEditSurveyDetails(s.id).then(function(a){if(console.log(a),!a.data.success)return void e.$emit("error",a.data.message);t("#preloader").css("display","none"),console.log(r.selectQuestions),e.tempSelections=a.data.result,e.models.lists=e.tempSelections,d=e.models.lists,c()},function(e){t("#preloader").css("display","none")})}();if(e.service=r.validateQuestions,e.enableList=!0,e.user={name:""},t("#dropOut").click(function(e){e.stopPropagation()}),e.sectionData={sectionText:""},e.example14settings={externalIdProp:"",closeOnBlur:!0},e.killDropDown=function(){t(".dropdown ul").remove()},e.name="",e.sectionName=[],e.loadings=!1,e.enableListFunction=function(){1==e.enableList?e.enableList=!1:e.enableList=!0},e.removed=[{}],l(),!r.editQuestions&&!r.editQuestions[0].question){var f=0;r.editQuestions.splice(f,1)}e.inits=function(){r.editQuestions?(u.data=r.editQuestions,e.models2.lists.B=r.editQuestions):e.error="You have not yet selected any question",console.log(e.service)},e.gotoSectionSettings=function(){o.go("SectionSettings")},t(function(){t(".grid").sortable({})}),list=[],e.onItemSelect=function(t,a){if(console.log(e.len),t.length<e.len){var o=0;if(0==o){var i=0;for(var s in e.models.lists){restoreLen=0;for(var l in e.models.restoreList){var c=e.models.lists[s],u=e.models.restoreList[l];if(c&&u&&c[c.length-1].key==u[u.length-1].key){1;break}restoreLen++}e.models.restoreList[restoreLen]=e.models.lists[i],i++,restoreLen++}if(e.removed)var p=e.removed.length;else var p=0;e.removed[p]=t;for(var m=0;m<e.len;m++){for(var f=0,l=0;l<t.length;l++){for(var g=0;g<e.models.lists[m].length;g++){var v=e.models.lists[m][g].key;if(v)break}if(v==t[l].id){f=1;break}}if(0==t.length)for(var g=0;g<e.models.lists[m].length;g++){var v=e.models.lists[m][g].key;if(v)break}if(0==f){for(var h=!1,y=e.models.lists,S=+Object.keys(y).sort().reverse()[0]+1,m=0;m<S-1;m++)for(var g=0;g<y[m].length;g++){var P=e.models.lists[g],D=y[m][g].key;D&&(v===D||h)&&(h=!0,y[m]=y[m+1])}for(var l in y[m])if(y[m][l].key){var b=y[m][l].key;break}(b===v||h)&&delete y[m],e.models.lists=y,e.len--;break}}0==t.length&&(e.models.lists={},e.len=0)}}else{o=0;var C=0;if(0==C){for(var l in e.models.restoreList){var R=e.models.restoreList[l];if(R&&t[t.length-1]&&R[R.length-1].key==t[t.length-1].id){var I=0;o=1;var x=0;for(g in e.models.lists){var P=e.models.lists[g];P[P.length-1].key==t[t.length-1].id&&(x=1),I++}if(0==x){e.models.lists[I]=R,e.len=t.length,o=I++;break}}C++}e.models.restoreList;if(0==o)for(var m=0;m<t.length;m++)e.models.lists[m]||(e.models.lists[m]=[{key:t[m].id,sectionID:t[m].sectionId}],e.len=t.length);C++}}d=e.models.lists,r.variableSelected=e.models.restoreList,localStorage.setItem("section",angular.toJson(d)),n.selectQuestions=e.models.lists},e.dragoverCallback=function(t,a,n,r){return e.logListEvent("dragged over",t,a,n),"container"!=n||a||console.log("Container being dragged contains "+r()+" items"),t<10},e.dropCallback=function(t,a,n,r){return e.logListEvent("dropped at",t,n,r),a},e.logEvent=function(e){console.log(e)},e.logListEvent=function(e,t,a,n){var r=a?"External ":"";r+=n+" element was "+e+" position "+t},e.save=function(){},Array.prototype.insert=function(e,t){this.splice(e,0,t)},e.$on("my-sorted",function(t,a){console.log(a.from+" "+a.to);var n=[];e.myObj=e.models.lists,e.model3=[];for(var r in e.myObj)e.myObj.hasOwnProperty(r)&&e.model3.push(e.myObj[r]);n=e.model3.splice(parseInt(a.from),1),e.model3.insert(parseInt(a.to),n[0]);for(var r=0;r<e.model3.length;r++)e.myObj[r]=e.model3[r]}),e.$on("my-created",function(e,t){}),e.addSection=function(e){n.addSection(e).then(function(e){var t=e.data;t.success&&t&&l()},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})},t(function(){t(".sortable_list").sortable({connectWith:".connectedSortable",drop:function(e,a){t(this).droppable("destroy")}}).disableSelection()}),t(".sortable_list").sortable({cancel:".fixed"})}]},a.$inject=[],n.$inject=[],e.exports={myDraggable:a,nameFilter:n,editArrangeSurveyComponent:r}}).call(t,a(2))},function(e,t,a){(function(t){function a(){return function(e){var t=(new Array,0),a=[];for(var n in e)e[n].id=t,t++,a.push(e[n]);return a}}function n(){return{link:function(e,t,a){t.draggable({connectToSortable:a.myDraggable,helper:"clone",revert:"invalid"}),t.disableSelection()}}}var r={templateUrl:"modules/SurveyModule/Wizards/ArrangeSurvey/ArrangeSurvey.html",controllerAs:"ArrangeSurveyCtrl",controller:["$scope","sharedService","ArrangeSurveyService","CreateSurveyService","$state",function(e,a,n,r,o){function i(){n.getAllSections().then(function(t){var a=t.data;if(a.success&&a){s.sections=a.result,console.log(s.sections);for(var n=0;n<s.sections.length;++n)e.example1data[n]={id:s.sections[n].section,label:s.sections[n].section,sectionId:s.sections[n].sectionId}}},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})}var s=this;if(e.enableList=!0,e.user={name:""},t("#dropOut").click(function(e){e.stopPropagation()}),e.sectionData={sectionText:""},e.example14settings={externalIdProp:"",closeOnBlur:!0},e.killDropDown=function(){console.log("aaaaaaaaaaaa"),t(".dropdown ul").remove()},e.name="",e.sectionName=[],e.loadings=!1,e.enableListFunction=function(){console.log(e.enableList),1==e.enableList?e.enableList=!1:e.enableList=!0},e.example1model=[],e.removed=[{}],e.example1data=[{}],i(),!r.questions&&!r.questions[0].question){r.questions.splice(0,1)}e.init=function(){console.log(r.questions),r.questions?(s.data=r.questions,e.models2.lists.B=r.questions,console.log("question")):e.error="You have not yet selected any question"},e.gotoSectionSettings=function(){o.go("SectionSettings")},e.setSections={A:[]},e.models={selected:null,lists:{},restoreList:{}},e.models2={selected:null,lists:{B:[]}},e.restoreList={},t(function(){t(".grid").sortable({})}),list=[],e.len=0;var l=0;n.selectQuestions=e.models.lists,e.onItemSelect=function(t,a){if(t.length<e.len){var r=0;if(0==r){var o=0;for(var i in e.models.lists){l=0;for(var s in e.models.restoreList){var c=e.models.lists[i],u=e.models.restoreList[s];if(c&&u&&c[c.length-1].key==u[u.length-1].key){1;break}l++}e.models.restoreList[l]=e.models.lists[o],o++,l++}if(e.removed)var d=e.removed.length;else var d=0;e.removed[d]=t;for(var p=0;p<e.len;p++){for(var m=0,s=0;s<t.length;s++){for(var f=0;f<e.models.lists[p].length;f++){var g=e.models.lists[p][f].key;if(g)break}if(console.log(g+t[s].id),g==t[s].id){m=1;break}}if(0==t.length)for(var f=0;f<e.models.lists[p].length;f++){var g=e.models.lists[p][f].key;if(g)break}if(0==m){for(var v=!1,h=e.models.lists,y=+Object.keys(h).sort().reverse()[0]+1,p=0;p<y-1;p++)for(var f=0;f<h[p].length;f++){var S=e.models.lists[f],P=h[p][f].key;P&&(g===P||v)&&(v=!0,h[p]=h[p+1])}for(var s in h[p])if(h[p][s].key){var D=h[p][s].key;break}console.log(D+g),(D===g||v)&&delete h[p],e.models.lists=h,e.len--;break}}0==t.length&&(e.models.lists={},e.len=0)}}else{r=0;var b=0;if(0==b){for(var s in e.models.restoreList){var C=e.models.restoreList[s];if(C&&t[t.length-1]&&C[C.length-1].key==t[t.length-1].id){var R=0;r=1;var I=0;for(f in e.models.lists){var S=e.models.lists[f];S[S.length-1].key==t[t.length-1].id&&(I=1),R++}if(0==I){e.models.lists[R]=C,e.len=t.length,r=R++;break}}b++}e.models.restoreList;if(0==r)for(var p=0;p<t.length;p++)console.log("in-------"),e.models.lists[p]||(e.models.lists[p]=[{key:t[p].id,sectionID:t[p].sectionId}],e.len=t.length);b++}}n.selectQuestions=e.models.lists},e.dragoverCallback=function(t,a,n,r){return e.logListEvent("dragged over",t,a,n),"container"!=n||a||console.log("Container being dragged contains "+r()+" items"),t<10},e.dropCallback=function(t,a,n,r){return e.logListEvent("dropped at",t,n,r),a},e.logEvent=function(e){console.log(e)},e.logListEvent=function(e,t,a,n){var r=a?"External ":"";r+=n+" element was "+e+" position "+t},e.save=function(){},Array.prototype.insert=function(e,t){this.splice(e,0,t)},e.$on("my-sorted",function(t,a){console.log(a.from+" "+a.to);var n=[];e.myObj=e.models.lists,e.model3=[];for(var r in e.myObj)e.myObj.hasOwnProperty(r)&&e.model3.push(e.myObj[r]);n=e.model3.splice(parseInt(a.from),1),e.model3.insert(parseInt(a.to),n[0]);for(var r=0;r<e.model3.length;r++)e.myObj[r]=e.model3[r]}),e.$on("my-created",function(e,t){}),e.addSection=function(e){console.log("sss"),n.addSection(e).then(function(e){var t=e.data;console.log(t),t.success&&t&&(console.log("sss"),i())},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})}}]};e.exports={nameFilter:a,myDraggable:n,arrangeSurveyComponent:r}}).call(t,a(2))},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var a=(0,o.default)(e,t);return!isNaN(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(154),o=n(r),i=a(155),s=n(i),l=a(157),c=n(l),u=a(158),d=n(u),p=a(161),m=n(p),f={formatDistance:o.default,formatLong:s.default,formatRelative:c.default,localize:d.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=f,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,i.default)(e,t),n=(0,l.default)(a,t).getTime()-(0,u.default)(a,t).getTime();return Math.round(n/d)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=a(13),i=n(o),s=a(43),l=n(s),c=a(60),u=n(c),d=6048e5;e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=(0,i.default)(e,t),n=a.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=(0,l.default)(r,t),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var c=(0,l.default)(s,t);return a.getTime()>=o.getTime()?n+1:a.getTime()>=c.getTime()?n:n-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=a(13),i=n(o),s=a(43),l=n(s);e.exports=t.default},function(e,t,a){"use strict";function n(e){e=e||{};var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){var n="#"+a+"##0";if(e>0){n+=t;for(var r=0;r<e;r++)n+="0"}return new o(n,{reverse:!0})}function r(e){var t="###0";if(e>0){t+=".";for(var a=0;a<e;a++)t+="0"}return new o(t,{reverse:!0})}var o=a(10);e.exports={viewMask:n,modelMask:r}},,function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l){function c(){for(var t=0;t<e.financialAndNonFinancialTerms.length;t++){var a=e.financialAndNonFinancialTerms[t].label;console.log("label=>",a);var n=u(a,e.content);n.startIndex&&(console.log("data=>",n),e.content=e.content.substring(0,n.startIndex)+e.financialAndNonFinancialTerms[t].value+e.content.substring(n.endIndex+1,e.content.length))}i.dataContent=e.content}function u(e,t){for(var a=!1,n=!0,r={},o={},i=t,s=0;s<i.length;s++){if(n&&"["===i[s]&&"["===i[s+1]){if(a){n=!1;break}a=!0,r={},r.startIndex=s}if(n&&"]"===i[s]&&"]"===i[s+1]){if(!a){n=!1;break}if(a=!1,r.endIndex=s+1,r.text=d(i.substring(r.startIndex+2,r.endIndex-1)).trim(),r.text==e.replace(/[^a-zA-Z ]/g,"").trim().toLowerCase()){o=r;break}}}return console.log("validSyntax = ",n),a?(n=!1,null):o}function d(e){return p(e?String(e).replace(/<[^>]+>/gm,""):"").replace(/[^a-zA-Z ]/g,"").toLowerCase()}function p(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}function m(){t("#preloader").css("display","block"),i.getContracts().then(function(a){t("#preloader").css("display","none"),console.log(a),e.contractFiles=[],a.success&&(e.contractFiles=a.result)},function(e){t("#preloader").css("display","none"),console.log(e)})}e.content="",e.contractFiles=[],e.financialAndNonFinancialTerms=[],e.contractId=s.id||null,e.IsViewMode=!!s.id,e.saveDatatoService=function(e){i.dataContent=e};var f=[{name:"Test Clause 1",description:"</br><p>00.00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A standard contract for the construction of a house will contain drawings and specifications as approved by the Board, General Conditions for the execution of the Works which include the house itself and the exterior works such as the septic tank, drainage, water cistern, access roads and landscaping where required.</p>"},{name:"Test Clause 2",description:"<p>&nbsp;</p><p>00.00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The plans drawn are in accordance with the requirements of the Board and the relevant Regulations in all respects, and include adequate information on items such as the structure of the building, electricity, plumbing, septic tank, drainage, water cistern and guttering, access roadways, landscaping and descriptions of the materials to be used.&nbsp;&nbsp;</p>"},{name:"Choice of Law and Forum Clause",description:"this agreement shall be interpreted under the laws.."}];e.articles=f,e.savedContract=i.getContractData(e.contractId);try{e.contractId&&function(){t("#preloader").css("display","block"),i.getContractsByUserId(e.contractId).then(function(a){t("#preloader").css("display","none"),i.contractDataByUserId=a.result,l.$broadcast("contractDataByUserId-added");var n=i.contractDataByUserId.contract.properties;e.contractName=n.contractName,e.agentName=n.agentName,e.content=n.body},function(e){console.log(e)})}()}catch(e){}m(),e.$on("updateDocument",function(t,a){console.log(i.getFinancialAndNonFinancialTerms()),e.financialAndNonFinancialTerms=i.getFinancialAndNonFinancialTerms(),c()}),e.saveSelection=-1,e.openContractModel=function(){e.saveSelection=1,e.contractLabel="New Contract.",t("#newFormat").modal("toggle")},e.openContractFormatModel=function(){e.saveSelection=0,e.contractLabel="New Contract Format.",t("#newFormat").modal("toggle")},e.options={language:"en",allowedContent:!0,entities:!1},e.clearFile=function(){o.clearFile()},e.onReady=function(){console.log("done I am ready")},e.fileUploaded=function(){e.FileNames=[];var a=document.getElementById("file-1").files;e.fileData=a;for(var n=0;n<a.length;n++)e.FileNames.push({name:a[n].name});e.$apply(),t("#uploadedContracts").modal("toggle")},e.uploadSelectedFiles=function(){e.fileData.length>0&&(t("#preloader").css("display","block"),i.uploadContractsFiles(e.fileData).then(function(a){console.log(a),t("#uploadedContracts").modal("toggle"),t("#preloader").css("display","none"),e.$emit("success",a.data.message),m()},function(e){t("#preloader").css("display","none"),console.log(result)}))}}function n(e){return{require:"?ngModel",link:function(t,a,n,r){function o(){console.log("updateModel"),e(function(){r.$setViewValue(s.getData())},200)}var i={allowedContent:!0,height:450},s=window.CKEDITOR.replace(a[0],i);r&&(CKEDITOR.on("instanceReady",function(){console.log("instanceReady"),CKEDITOR.document.getById("contactList").on("dragstart",function(e){var a=e.data.getTarget().getAscendant("div",!0);CKEDITOR.plugins.clipboard.initDragDataTransfer(e);var n=e.data.dataTransfer;console.log("data is => ",a.data("contact")),n.setData("text/html",t.articles[a.data("contact")].description)}),CKEDITOR.document.getById("contractList").on("dragstart",function(e){var a=e.data.getTarget().getAscendant("div",!0);CKEDITOR.plugins.clipboard.initDragDataTransfer(e),e.data.dataTransfer.setData("text/html",t.contractFiles[a.data("contact")].body)})}),r.$render=function(){console.log("render"),s.setData(r.$viewValue)},s.on("change",o),s.on("key",o),s.on("dataReady",o),s.on("dragstart",function(e){console.log("dragstart")}),s.on("dragenter",function(e){console.log("dragenter")}),s.on("dragover",function(e){console.log("dragover")}),CKEDITOR.disableAutoInline=!0)}}}var r={templateUrl:"modules/ContractModule/components/contract-editor/contract-editor.html",controllerAs:"ContractEditor",controller:["$scope","$timeout","$location","$state","UtilService","newContractService","$stateParams","$rootScope",a]};n.$inject=["$timeout"],e.exports={contractEditor:r,directiveFunction:n}}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){return{require:"ngModel",link:function(a,n,r,o){var i=function(){var t=n.val().replace(/[^0-9]/g,"");n.val(e("tel")(t,!1))};o.$parsers.push(function(e){return e.replace(/[^0-9]/g,"").slice(0,10)}),o.$render=function(){n.val(e("tel")(o.$viewValue,!1))},n.bind("change",i),n.bind("keydown",function(e){var a=e.keyCode;91==a||15<a&&a<19||37<=a&&a<=40||t.defer(i)}),n.bind("paste cut",function(){t.defer(i)})}}}function r(){return function(e){if(!e)return"";var t=e.toString().trim().replace(/^\+/,"");if(t.match(/[^0-9]/))return e;var a,n;switch(t.length){case 1:case 2:case 3:a=t;break;default:a=t.slice(0,3),n=t.slice(3)}return n?(n=n.length>3?n.slice(0,3)+"-"+n.slice(3,7):n,("("+a+") "+n).trim()):"("+a}}n.$inject=["$filter","$browser"],e.exports={phoneInput:n,tel:r}},function(e,t,a){"use strict";(function(t){function n(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files,e.getImages()})}}}function r(e,a,n,r,i,s,l,c,u,d,p,m){function f(e,t){var a=I.images.length;a===s._Index+1&&s.showPhoto(a-2),p.deleteImageById(e,t).then(function(e){e.data.success?(s._Index=0,D(!1),s.$emit("success","Record deleted successfully")):s.$emit("error","Record deleted unsuccessfull")},function(e){})}function g(e){t("#propCard").flip(!1)}function v(e){t("#propCard").flip(!0)}function h(e,t,a){I.modelMessage.title="Delete Picture",I.modelMessage.message="Are you sure you want to delete picture “"+e+"” from this property?",I.imageDeleteId=t,I.imageDeleteTag=a}function y(){I.isDeleting=!0,null!=I.imageDeleteId&&f(I.imageDeleteId,I.imageDeleteTag)}function S(e){m(function(){var e=I.images.length,a=0;e>7&&(a=-100*(e-7)),t(".nav").draggable({axis:"x",stop:function(){var e=parseInt(t(this).css("left"));e>0&&t(this).animate({left:"0px"}),e<a&&t(this).animate({left:a+"px"})}})},500)}function P(e){var t=localStorage.getItem("propertyId");p.setMainImage(t,e).then(function(e){e.data.success?(D(!0),S(!1),s.$emit("success","Main picture set successfully")):s.$emit("error","Main picture set unsuccessfull")},function(e){})}function D(a){I.images=[],p.getAllImages().then(function(t){var n=t.data;if(n.success){var r=n.result;r.length>0?(I.noImage=!1,I.images=r,S(!1),I.isDeleting=!1,a&&(s._Index=0)):(I.noImage=!0,I.images=[{properties:{fileName:e.NO_IMAGE_AVAILABLE}}])}},function(e){t("#preloader").css("display","none")})}function b(e){for(var t=0;t<s.imageSrc.length;t++)s.imageSrc[t]==e&&s.imageSrc.splice(t,1)}function C(){I.newUploadedImages=[];for(var e=0;e<s.imageSrc.length;e++)I.newUploadedImages.push(s.imageSrc[e].file);var t=I.images.length+I.newUploadedImages.length;if(I.noImage&&(t=I.newUploadedImages.length),t>10)return void s.$emit("danger","Can not add more than 10 pictures");R()}function R(){if(I.newUploadedImages){t("#preloader").css("display","block");var e="/propertyImages/addImages?propId="+I.propertyId;d.uploadFiles(e,I.newUploadedImages).then(function(e){t("#preloader").css("display","none");var a=e.data;if(1!=a.success)return void $scpoe.$emit("error",a.message);t("#imageModal").modal("toggle"),s.$emit("success",a.message),D(!1)},function(e){t("#preloader").css("display","none")})}else $scpoe.$emit("error","Please upload a picture")}/*! flip - v1.1.2 - 2016-10-20
* https://github.com/nnattawat/flip
* Copyright (c) 2016 Nattawat Nonsung; Licensed MIT */
var I=this;s.isArray=function(e){try{if(Array.isArray(e)){for(var t="",a=0;a<e.length;a++)a!=e.length-1?t+=e[a]+", ":t+=e[a];return t}return e}catch(t){return e}},I.deleteImageById=f,I.flipBack=g,I.flipFront=v,I.isDeleting=!1,t(document).ready(function(){t("#propCard").flip({trigger:"manual"})}),I.propertyDetails=JSON.parse(localStorage.getItem("propertyDetails")),I.propertyId=JSON.parse(localStorage.getItem("propertyId")),I.images=[],I.properties=[],I.showAllData=!1,I.myModelCheck=y,I.deleteByID=h,I.setMainImage=P,I.imageDeleteId="",I.imageDeleteTag="",I.deleteByIDImage=null,I.modelMessage={title:"",message:""},I.publicProperty=null,null!=I.propertyDetails.publicProperty&&(I.publicProperty=I.propertyDetails.publicProperty),s._Index=0,s.map={center:{latitude:I.propertyDetails.latitude,longitude:I.propertyDetails.longitude},zoom:15},s.marker={id:1,coords:{latitude:I.propertyDetails.latitude,longitude:I.propertyDetails.longitude},options:{draggable:!1,icon:"assets/img/marker.png"},events:{}},s.imageSrc=[],I.newUploadedImages=[],I.uploadImages=C,I.removeUploadedPicture=b,s.toggleImageLoader=!1,D(!1),s.isActive=function(e){return s._Index===e};!function(){l.get("/modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/propertyDetails/propertyData.json").then(function(e){I.publicProperty=e.data.propertyData0})}();s.showPhoto=function(e){s._Index=e},s.showPrev=function(){s._Index>6&&t("#drag").animate({right:"-=100px"}),s._Index=s._Index>0?--s._Index:I.images.length-1},s.showNext=function(){s._Index=s._Index<I.images.length-1?++s._Index:0,s._Index>6&&t("#drag").animate({right:"+=100px"})},I.showImageModal=function(){s.imageSrc=[],t("#imageModal").modal("toggle")},s.getImages=function(){s.toggleImageLoader=!1,s.file.length>0&&(s.imageSrc=[]),o.forEach(s.file,function(e,t){a.readAsDataUrl(e,s).then(function(a){var n={imageSrc:a,file:e};s.imageSrc.push(n),t()})},function(e){if(e)return next(e);s.toggleImageLoader=!0})}}r.$inject=["User_Config","fileReader","UtilService","$stateParams","$location","$scope","$http","__env","$log","AOTCService","PropertyDetailsTabService","$timeout"],e.exports={PropertyDetailsTab:r,ngPropertyImageSelect:n};var o=a(97)}).call(t,a(2))},function(e,t,a){(function(e,a,n,r){!function(e,a){a(t)}(0,function(t){"use strict";function o(e,t){t|=0;for(var a=Math.max(e.length-t,0),n=Array(a),r=0;r<a;r++)n[r]=e[t+r];return n}function i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function s(e){setTimeout(e,0)}function l(e){return function(t){var a=o(arguments,1);e(function(){t.apply(null,a)})}}function c(e){return st(function(t,a){var n;try{n=e.apply(this,t)}catch(e){return a(e)}i(n)&&"function"==typeof n.then?n.then(function(e){u(a,null,e)},function(e){u(a,e.message?e:new Error(e))}):a(null,n)})}function u(e,t,a){try{e(t,a)}catch(e){ut(d,e)}}function d(e){throw e}function p(e){return dt&&"AsyncFunction"===e[Symbol.toStringTag]}function m(e){return p(e)?c(e):e}function f(e){return function(t){var a=o(arguments,1),n=st(function(a,n){var r=this;return e(t,function(e,t){m(e).apply(r,a.concat(t))},n)});return a.length?n.apply(this,a):n}}function g(e){var t=ht.call(e,St),a=e[St];try{e[St]=void 0;var n=!0}catch(e){}var r=yt.call(e);return n&&(t?e[St]=a:delete e[St]),r}function v(e){return Dt.call(e)}function h(e){return null==e?void 0===e?Ct:bt:Rt&&Rt in Object(e)?g(e):v(e)}function y(e){if(!i(e))return!1;var t=h(e);return t==xt||t==wt||t==It||t==Ft}function S(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=At}function P(e){return null!=e&&S(e.length)&&!y(e)}function D(){}function b(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function C(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}function R(e){return null!=e&&"object"==typeof e}function I(e){return R(e)&&h(e)==Ot}function x(){return!1}function w(e,t){return!!(t=null==t?zt:t)&&("number"==typeof e||Yt.test(e))&&e>-1&&e%1==0&&e<t}function F(e){return R(e)&&S(e.length)&&!!Gt[h(e)]}function A(e,t){var a=Bt(e),n=!a&&Vt(e),r=!a&&!n&&Jt(e),o=!a&&!n&&!r&&ea(e),i=a||n||r||o,s=i?C(e.length,String):[],l=s.length;for(var c in e)!t&&!aa.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||w(c,l))||s.push(c);return s}function T(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||na)}function k(e){if(!T(e))return ra(e);var t=[];for(var a in Object(e))ia.call(e,a)&&"constructor"!=a&&t.push(a);return t}function E(e){return P(e)?A(e):k(e)}function O(e){var t=-1,a=e.length;return function(){return++t<a?{value:e[t],key:t}:null}}function $(e){var t=-1;return function(){var a=e.next();return a.done?null:(t++,{value:a.value,key:t})}}function M(e){var t=E(e),a=-1,n=t.length;return function(){var r=t[++a];return a<n?{value:e[r],key:r}:null}}function N(e){if(P(e))return O(e);var t=Et(e);return t?$(t):M(e)}function V(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function B(e){return function(t,a,n){function r(e,t){if(l-=1,e)s=!0,n(e);else{if(t===Tt||s&&l<=0)return s=!0,n(null);o()}}function o(){for(;l<e&&!s;){var t=i();if(null===t)return s=!0,void(l<=0&&n(null));l+=1,a(t.value,t.key,V(r))}}if(n=b(n||D),e<=0||!t)return n(null);var i=N(t),s=!1,l=0;o()}}function L(e,t,a,n){B(t)(e,m(a),n)}function _(e,t){return function(a,n,r){return e(a,t,n,r)}}function U(e,t,a){function n(e,t){e?a(e):++o!==i&&t!==Tt||a(null)}a=b(a||D);var r=0,o=0,i=e.length;for(0===i&&a(null);r<i;r++)t(e[r],r,V(n))}function j(e){return function(t,a,n){return e(la,t,m(a),n)}}function q(e,t,a,n){n=n||D,t=t||[];var r=[],o=0,i=m(a);e(t,function(e,t,a){var n=o++;i(e,function(e,t){r[n]=t,a(e)})},function(e){n(e,r)})}function J(e){return function(t,a,n,r){return e(B(a),t,m(n),r)}}function z(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}function Y(e,t){return e&&fa(e,t,E)}function G(e,t,a,n){for(var r=e.length,o=a+(n?1:-1);n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Q(e){return e!==e}function W(e,t,a){for(var n=a-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}function H(e,t,a){return t===t?W(e,t,a):G(e,Q,a)}function Z(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function K(e){return"symbol"==typeof e||R(e)&&h(e)==va}function X(e){if("string"==typeof e)return e;if(Bt(e))return Z(e,X)+"";if(K(e))return Sa?Sa.call(e):"";var t=e+"";return"0"==t&&1/e==-ha?"-0":t}function ee(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),a=a>r?r:a,a<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(r);++n<r;)o[n]=e[n+t];return o}function te(e,t,a){var n=e.length;return a=void 0===a?n:a,!t&&a>=n?e:ee(e,t,a)}function ae(e,t){for(var a=e.length;a--&&H(t,e[a],0)>-1;);return a}function ne(e,t){for(var a=-1,n=e.length;++a<n&&H(t,e[a],0)>-1;);return a}function re(e){return e.split("")}function oe(e){return Pa.test(e)}function ie(e){return e.match(Aa)||[]}function se(e){return oe(e)?ie(e):re(e)}function le(e){return null==e?"":X(e)}function ce(e,t,a){if((e=le(e))&&(a||void 0===t))return e.replace(Ta,"");if(!e||!(t=X(t)))return e;var n=se(e),r=se(t);return te(n,ne(n,r),ae(n,r)+1).join("")}function ue(e){return e=e.toString().replace($a,""),e=e.match(ka)[2].replace(" ",""),e=e?e.split(Ea):[],e=e.map(function(e){return ce(e.replace(Oa,""))})}function de(e,t){var a={};Y(e,function(e,t){function n(t,a){var n=Z(r,function(e){return t[e]});n.push(a),m(e).apply(null,n)}var r,o=p(e),i=!o&&1===e.length||o&&0===e.length;if(Bt(e))r=e.slice(0,-1),e=e[e.length-1],a[t]=r.concat(r.length>0?n:e);else if(i)a[t]=e;else{if(r=ue(e),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),a[t]=r.concat(n)}}),ga(a,t)}function pe(){this.head=this.tail=null,this.length=0}function me(e,t){e.length=1,e.head=e.tail=t}function fe(e,t,a){function n(e,t,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");if(u.started=!0,Bt(e)||(e=[e]),0===e.length&&u.idle())return ut(function(){u.drain()});for(var n=0,r=e.length;n<r;n++){var o={data:e[n],callback:a||D};t?u._tasks.unshift(o):u._tasks.push(o)}l||(l=!0,ut(function(){l=!1,u.process()}))}function r(e){return function(t){i-=1;for(var a=0,n=e.length;a<n;a++){var r=e[a],o=H(s,r,0);0===o?s.shift():o>0&&s.splice(o,1),r.callback.apply(r,arguments),null!=t&&u.error(t,r.data)}i<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=m(e),i=0,s=[],l=!1,c=!1,u={_tasks:new pe,concurrency:t,payload:a,saturated:D,unsaturated:D,buffer:t/4,empty:D,drain:D,error:D,started:!1,paused:!1,push:function(e,t){n(e,!1,t)},kill:function(){u.drain=D,u._tasks.empty()},unshift:function(e,t){n(e,!0,t)},remove:function(e){u._tasks.remove(e)},process:function(){if(!c){for(c=!0;!u.paused&&i<u.concurrency&&u._tasks.length;){var e=[],t=[],a=u._tasks.length;u.payload&&(a=Math.min(a,u.payload));for(var n=0;n<a;n++){var l=u._tasks.shift();e.push(l),s.push(l),t.push(l.data)}i+=1,0===u._tasks.length&&u.empty(),i===u.concurrency&&u.saturated();var d=V(r(e));o(t,d)}c=!1}},length:function(){return u._tasks.length},running:function(){return i},workersList:function(){return s},idle:function(){return u._tasks.length+i===0},pause:function(){u.paused=!0},resume:function(){!1!==u.paused&&(u.paused=!1,ut(u.process))}};return u}function ge(e,t){return fe(e,1,t)}function ve(e,t,a,n){n=b(n||D);var r=m(a);Na(e,function(e,a,n){r(t,e,function(e,a){t=a,n(e)})},function(e){n(e,t)})}function he(){var e=Z(arguments,m);return function(){var t=o(arguments),a=this,n=t[t.length-1];"function"==typeof n?t.pop():n=D,ve(e,t,function(e,t,n){t.apply(a,e.concat(function(e){var t=o(arguments,1);n(e,t)}))},function(e,t){n.apply(a,[e].concat(t))})}}function ye(e){return e}function Se(e,t){return function(a,n,r,o){o=o||D;var i,s=!1;a(n,function(a,n,o){r(a,function(n,r){n?o(n):e(r)&&!i?(s=!0,i=t(!0,a),o(null,Tt)):o()})},function(e){e?o(e):o(null,s?i:t(!1))})}}function Pe(e,t){return t}function De(e){return function(t){var a=o(arguments,1);a.push(function(t){var a=o(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&z(a,function(t){console[e](t)}))}),m(t).apply(null,a)}}function be(e,t,a){function n(e){if(e)return a(e);var t=o(arguments,1);t.push(r),s.apply(this,t)}function r(e,t){return e?a(e):t?void i(n):a(null)}a=V(a||D);var i=m(e),s=m(t);r(null,!0)}function Ce(e,t,a){a=V(a||D);var n=m(e),r=function(e){if(e)return a(e);var i=o(arguments,1);if(t.apply(this,i))return n(r);a.apply(null,[null].concat(i))};n(r)}function Re(e,t,a){Ce(e,function(){return!t.apply(this,arguments)},a)}function Ie(e,t,a){function n(e){if(e)return a(e);i(r)}function r(e,t){return e?a(e):t?void o(n):a(null)}a=V(a||D);var o=m(t),i=m(e);i(r)}function xe(e){return function(t,a,n){return e(t,n)}}function we(e,t,a){la(e,xe(m(t)),a)}function Fe(e,t,a,n){B(t)(e,xe(m(a)),n)}function Ae(e){return p(e)?e:st(function(t,a){var n=!0;t.push(function(){var e=arguments;n?ut(function(){a.apply(null,e)}):a.apply(null,e)}),e.apply(this,t),n=!1})}function Te(e){return!e}function ke(e){return function(t){return null==t?void 0:t[e]}}function Ee(e,t,a,n){var r=new Array(t.length);e(t,function(e,t,n){a(e,function(e,a){r[t]=!!a,n(e)})},function(e){if(e)return n(e);for(var a=[],o=0;o<t.length;o++)r[o]&&a.push(t[o]);n(null,a)})}function Oe(e,t,a,n){var r=[];e(t,function(e,t,n){a(e,function(a,o){a?n(a):(o&&r.push({index:t,value:e}),n())})},function(e){e?n(e):n(null,Z(r.sort(function(e,t){return e.index-t.index}),ke("value")))})}function $e(e,t,a,n){(P(t)?Ee:Oe)(e,t,m(a),n||D)}function Me(e,t){function a(e){if(e)return n(e);r(a)}var n=V(t||D),r=m(Ae(e));a()}function Ne(e,t,a,n){n=b(n||D);var r={},o=m(a);L(e,t,function(e,t,a){o(e,t,function(e,n){if(e)return a(e);r[t]=n,a()})},function(e){n(e,r)})}function Ve(e,t){return t in e}function Be(e,t){var a=Object.create(null),n=Object.create(null);t=t||ye;var r=m(e),i=st(function(e,i){var s=t.apply(null,e);Ve(a,s)?ut(function(){i.apply(null,a[s])}):Ve(n,s)?n[s].push(i):(n[s]=[i],r.apply(null,e.concat(function(){var e=o(arguments);a[s]=e;var t=n[s];delete n[s];for(var r=0,i=t.length;r<i;r++)t[r].apply(null,e)})))});return i.memo=a,i.unmemoized=e,i}function Le(e,t,a){a=a||D;var n=P(t)?[]:{};e(t,function(e,t,a){m(e)(function(e,r){arguments.length>2&&(r=o(arguments,1)),n[t]=r,a(e)})},function(e){a(e,n)})}function _e(e,t){Le(la,e,t)}function Ue(e,t,a){Le(B(t),e,a)}function je(e,t){if(t=b(t||D),!Bt(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var a=0,n=e.length;a<n;a++)m(e[a])(t)}function qe(e,t,a,n){ve(o(e).reverse(),t,a,n)}function Je(e){var t=m(e);return st(function(e,a){return e.push(function(e,t){if(e)a(null,{error:e});else{var n;n=arguments.length<=2?t:o(arguments,1),a(null,{value:n})}}),t.apply(this,e)})}function ze(e){var t;return Bt(e)?t=Z(e,Je):(t={},Y(e,function(e,a){t[a]=Je.call(this,e)})),t}function Ye(e,t,a,n){$e(e,t,function(e,t){a(e,function(e,a){t(e,!a)})},n)}function Ge(e){return function(){return e}}function Qe(e,t,a){function n(){s(function(e){e&&l++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(n,i.intervalFunc(l)):a.apply(null,arguments)})}var r=5,o=0,i={times:r,intervalFunc:Ge(o)};if(arguments.length<3&&"function"==typeof e?(a=t||D,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:Ge(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}(i,e),a=a||D),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var s=m(t),l=1;n()}function We(e,t){Le(Na,e,t)}function He(e,t,a){function n(e,t){var a=e.criteria,n=t.criteria;return a<n?-1:a>n?1:0}var r=m(t);ca(e,function(e,t){r(e,function(a,n){if(a)return t(a);t(null,{value:e,criteria:n})})},function(e,t){if(e)return a(e);a(null,Z(t.sort(n),ke("value")))})}function Ze(e,t,a){var n=m(e);return st(function(r,o){function i(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",a&&(n.info=a),l=!0,o(n)}var s,l=!1;r.push(function(){l||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(i,t),n.apply(null,r)})}function Ke(e,t,a,n){for(var r=-1,o=yn(hn((t-e)/(a||1)),0),i=Array(o);o--;)i[n?o:++r]=e,e+=a;return i}function Xe(e,t,a,n){var r=m(a);da(Ke(0,e,1),t,r,n)}function et(e,t,a,n){arguments.length<=3&&(n=a,a=t,t=Bt(e)?[]:{}),n=b(n||D);var r=m(a);la(e,function(e,a,n){r(t,e,a,n)},function(e){n(e,t)})}function tt(e,t){var a,n=null;t=t||D,Ga(e,function(e,t){m(e)(function(e,r){a=arguments.length>2?o(arguments,1):r,n=e,t(!e)})},function(){t(n,a)})}function at(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function nt(e,t,a){a=V(a||D);var n=m(t);if(!e())return a(null);var r=function(t){if(t)return a(t);if(e())return n(r);var i=o(arguments,1);a.apply(null,[null].concat(i))};n(r)}function rt(e,t,a){nt(function(){return!e.apply(this,arguments)},t,a)}var ot,it=function(e){var t=o(arguments,1);return function(){var a=o(arguments);return e.apply(null,t.concat(a))}},st=function(e){return function(){var t=o(arguments),a=t.pop();e.call(this,t,a)}},lt="function"==typeof e&&e,ct="object"==typeof a&&"function"==typeof a.nextTick;ot=lt?e:ct?a.nextTick:s;var ut=l(ot),dt="function"==typeof Symbol,pt="object"==typeof n&&n&&n.Object===Object&&n,mt="object"==typeof self&&self&&self.Object===Object&&self,ft=pt||mt||Function("return this")(),gt=ft.Symbol,vt=Object.prototype,ht=vt.hasOwnProperty,yt=vt.toString,St=gt?gt.toStringTag:void 0,Pt=Object.prototype,Dt=Pt.toString,bt="[object Null]",Ct="[object Undefined]",Rt=gt?gt.toStringTag:void 0,It="[object AsyncFunction]",xt="[object Function]",wt="[object GeneratorFunction]",Ft="[object Proxy]",At=9007199254740991,Tt={},kt="function"==typeof Symbol&&Symbol.iterator,Et=function(e){return kt&&e[kt]&&e[kt]()},Ot="[object Arguments]",$t=Object.prototype,Mt=$t.hasOwnProperty,Nt=$t.propertyIsEnumerable,Vt=I(function(){return arguments}())?I:function(e){return R(e)&&Mt.call(e,"callee")&&!Nt.call(e,"callee")},Bt=Array.isArray,Lt="object"==typeof t&&t&&!t.nodeType&&t,_t=Lt&&"object"==typeof r&&r&&!r.nodeType&&r,Ut=_t&&_t.exports===Lt,jt=Ut?ft.Buffer:void 0,qt=jt?jt.isBuffer:void 0,Jt=qt||x,zt=9007199254740991,Yt=/^(?:0|[1-9]\d*)$/,Gt={};Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Arguments]"]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object Boolean]"]=Gt["[object DataView]"]=Gt["[object Date]"]=Gt["[object Error]"]=Gt["[object Function]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt["[object Object]"]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object WeakMap]"]=!1;var Qt="object"==typeof t&&t&&!t.nodeType&&t,Wt=Qt&&"object"==typeof r&&r&&!r.nodeType&&r,Ht=Wt&&Wt.exports===Qt,Zt=Ht&&pt.process,Kt=function(){try{return Zt&&Zt.binding&&Zt.binding("util")}catch(e){}}(),Xt=Kt&&Kt.isTypedArray,ea=Xt?function(e){return function(t){return e(t)}}(Xt):F,ta=Object.prototype,aa=ta.hasOwnProperty,na=Object.prototype,ra=function(e,t){return function(a){return e(t(a))}}(Object.keys,Object),oa=Object.prototype,ia=oa.hasOwnProperty,sa=_(L,1/0),la=function(e,t,a){(P(e)?U:sa)(e,m(t),a)},ca=j(q),ua=f(ca),da=J(q),pa=_(da,1),ma=f(pa),fa=function(e){return function(t,a,n){for(var r=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++r];if(!1===a(o[l],l,o))break}return t}}(),ga=function(e,t,a){function n(e,t){h.push(function(){l(e,t)})}function r(){if(0===h.length&&0===f)return a(null,p);for(;h.length&&f<t;){h.shift()()}}function i(e,t){var a=v[e];a||(a=v[e]=[]),a.push(t)}function s(e){z(v[e]||[],function(e){e()}),r()}function l(e,t){if(!g){var n=V(function(t,n){if(f--,arguments.length>2&&(n=o(arguments,1)),t){var r={};Y(p,function(e,t){r[t]=e}),r[e]=n,g=!0,v=Object.create(null),a(t,r)}else p[e]=n,s(e)});f++;var r=m(t[t.length-1]);t.length>1?r(p,n):r(n)}}function c(t){var a=[];return Y(e,function(e,n){Bt(e)&&H(e,t,0)>=0&&a.push(n)}),a}"function"==typeof t&&(a=t,t=null),a=b(a||D);var u=E(e),d=u.length;if(!d)return a(null);t||(t=d);var p={},f=0,g=!1,v=Object.create(null),h=[],y=[],S={};Y(e,function(t,a){if(!Bt(t))return n(a,[t]),void y.push(a);var r=t.slice(0,t.length-1),o=r.length;if(0===o)return n(a,t),void y.push(a);S[a]=o,z(r,function(s){if(!e[s])throw new Error("async.auto task `"+a+"` has a non-existent dependency `"+s+"` in "+r.join(", "));i(s,function(){0===--o&&n(a,t)})})}),function(){for(var e,t=0;y.length;)e=y.pop(),t++,z(c(e),function(e){0==--S[e]&&y.push(e)});if(t!==d)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),r()},va="[object Symbol]",ha=1/0,ya=gt?gt.prototype:void 0,Sa=ya?ya.toString:void 0,Pa=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Da="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ba="\\ud83c[\\udffb-\\udfff]",Ca="(?:\\ud83c[\\udde6-\\uddff]){2}",Ra="[\\ud800-\\udbff][\\udc00-\\udfff]",Ia="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",xa="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Ca,Ra].join("|")+")[\\ufe0e\\ufe0f]?"+Ia+")*",wa="[\\ufe0e\\ufe0f]?"+Ia+xa,Fa="(?:"+["[^\\ud800-\\udfff]"+Da+"?",Da,Ca,Ra,"[\\ud800-\\udfff]"].join("|")+")",Aa=RegExp(ba+"(?="+ba+")|"+Fa+wa,"g"),Ta=/^\s+|\s+$/g,ka=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Ea=/,/,Oa=/(=.+)?(\s*)$/,$a=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;pe.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},pe.prototype.empty=function(){for(;this.head;)this.shift();return this},pe.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},pe.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},pe.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):me(this,e)},pe.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):me(this,e)},pe.prototype.shift=function(){return this.head&&this.removeLink(this.head)},pe.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},pe.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,a=0;a<this.length;a++)e[a]=t.data,t=t.next;return e},pe.prototype.remove=function(e){for(var t=this.head;t;){var a=t.next;e(t)&&this.removeLink(t),t=a}return this};var Ma,Na=_(L,1),Va=function(){return he.apply(null,o(arguments).reverse())},Ba=Array.prototype.concat,La=function(e,t,a,n){n=n||D;var r=m(a);da(e,t,function(e,t){r(e,function(e){return e?t(e):t(null,o(arguments,1))})},function(e,t){for(var a=[],r=0;r<t.length;r++)t[r]&&(a=Ba.apply(a,t[r]));return n(e,a)})},_a=_(La,1/0),Ua=_(La,1),ja=function(){var e=o(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}},qa=j(Se(ye,Pe)),Ja=J(Se(ye,Pe)),za=_(Ja,1),Ya=De("dir"),Ga=_(Fe,1),Qa=j(Se(Te,Te)),Wa=J(Se(Te,Te)),Ha=_(Wa,1),Za=j($e),Ka=J($e),Xa=_(Ka,1),en=function(e,t,a,n){n=n||D;var r=m(a);da(e,t,function(e,t){r(e,function(a,n){return a?t(a):t(null,{key:n,val:e})})},function(e,t){for(var a={},r=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var i=t[o].key,s=t[o].val;r.call(a,i)?a[i].push(s):a[i]=[s]}return n(e,a)})},tn=_(en,1/0),an=_(en,1),nn=De("log"),rn=_(Ne,1/0),on=_(Ne,1);Ma=ct?a.nextTick:lt?e:s;var sn=l(Ma),ln=function(e,t){var a=m(e);return fe(function(e,t){a(e[0],t)},t,1)},cn=function(e,t){var a=ln(e,t);return a.push=function(e,t,n){if(null==n&&(n=D),"function"!=typeof n)throw new Error("task callback must be a function");if(a.started=!0,Bt(e)||(e=[e]),0===e.length)return ut(function(){a.drain()});t=t||0;for(var r=a._tasks.head;r&&t>=r.priority;)r=r.next;for(var o=0,i=e.length;o<i;o++){var s={data:e[o],priority:t,callback:n};r?a._tasks.insertBefore(r,s):a._tasks.push(s)}ut(a.process)},delete a.unshift,a},un=j(Ye),dn=J(Ye),pn=_(dn,1),mn=function(e,t){t||(t=e,e=null);var a=m(t);return st(function(t,n){function r(e){a.apply(null,t.concat(e))}e?Qe(e,r,n):Qe(r,n)})},fn=j(Se(Boolean,ye)),gn=J(Se(Boolean,ye)),vn=_(gn,1),hn=Math.ceil,yn=Math.max,Sn=_(Xe,1/0),Pn=_(Xe,1),Dn=function(e,t){function a(t){var a=m(e[r++]);t.push(V(n)),a.apply(null,t)}function n(n){if(n||r===e.length)return t.apply(null,arguments);a(o(arguments,1))}if(t=b(t||D),!Bt(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;a([])},bn={apply:it,applyEach:ua,applyEachSeries:ma,asyncify:c,auto:ga,autoInject:de,cargo:ge,compose:Va,concat:_a,concatLimit:La,concatSeries:Ua,constant:ja,detect:qa,detectLimit:Ja,detectSeries:za,dir:Ya,doDuring:be,doUntil:Re,doWhilst:Ce,during:Ie,each:we,eachLimit:Fe,eachOf:la,eachOfLimit:L,eachOfSeries:Na,eachSeries:Ga,ensureAsync:Ae,every:Qa,everyLimit:Wa,everySeries:Ha,filter:Za,filterLimit:Ka,filterSeries:Xa,forever:Me,groupBy:tn,groupByLimit:en,groupBySeries:an,log:nn,map:ca,mapLimit:da,mapSeries:pa,mapValues:rn,mapValuesLimit:Ne,mapValuesSeries:on,memoize:Be,nextTick:sn,parallel:_e,parallelLimit:Ue,priorityQueue:cn,queue:ln,race:je,reduce:ve,reduceRight:qe,reflect:Je,reflectAll:ze,reject:un,rejectLimit:dn,rejectSeries:pn,retry:Qe,retryable:mn,seq:he,series:We,setImmediate:ut,some:fn,someLimit:gn,someSeries:vn,sortBy:He,timeout:Ze,times:Sn,timesLimit:Xe,timesSeries:Pn,transform:et,tryEach:tt,unmemoize:at,until:rt,waterfall:Dn,whilst:nt,all:Qa,allLimit:Wa,allSeries:Ha,any:fn,anyLimit:gn,anySeries:vn,find:qa,findLimit:Ja,findSeries:za,forEach:we,forEachSeries:Ga,forEachLimit:Fe,forEachOf:la,forEachOfSeries:Na,forEachOfLimit:L,inject:ve,foldl:ve,foldr:qe,select:Za,selectLimit:Ka,selectSeries:Xa,wrapSync:c};t.default=bn,t.apply=it,t.applyEach=ua,t.applyEachSeries=ma,t.asyncify=c,t.auto=ga,t.autoInject=de,t.cargo=ge,t.compose=Va,t.concat=_a,t.concatLimit=La,t.concatSeries=Ua,t.constant=ja,t.detect=qa,t.detectLimit=Ja,t.detectSeries=za,t.dir=Ya,t.doDuring=be,t.doUntil=Re,t.doWhilst=Ce,t.during=Ie,t.each=we,t.eachLimit=Fe,t.eachOf=la,t.eachOfLimit=L,t.eachOfSeries=Na,t.eachSeries=Ga,t.ensureAsync=Ae,t.every=Qa,t.everyLimit=Wa,t.everySeries=Ha,t.filter=Za,t.filterLimit=Ka,t.filterSeries=Xa,t.forever=Me,t.groupBy=tn,t.groupByLimit=en,t.groupBySeries=an,t.log=nn,t.map=ca,t.mapLimit=da,t.mapSeries=pa,t.mapValues=rn,t.mapValuesLimit=Ne,t.mapValuesSeries=on,t.memoize=Be,t.nextTick=sn,t.parallel=_e,t.parallelLimit=Ue,t.priorityQueue=cn,t.queue=ln,t.race=je,t.reduce=ve,t.reduceRight=qe,t.reflect=Je,t.reflectAll=ze,t.reject=un,t.rejectLimit=dn,t.rejectSeries=pn,t.retry=Qe,t.retryable=mn,t.seq=he,t.series=We,t.setImmediate=ut,t.some=fn,t.someLimit=gn,t.someSeries=vn,t.sortBy=He,t.timeout=Ze,t.times=Sn,t.timesLimit=Xe,t.timesSeries=Pn,t.transform=et,t.tryEach=tt,t.unmemoize=at,t.until=rt,t.waterfall=Dn,t.whilst=nt,t.all=Qa,t.allLimit=Wa,t.allSeries=Ha,t.any=fn,t.anyLimit=gn,t.anySeries=vn,t.find=qa,t.findLimit=Ja,t.findSeries=za,t.forEach=we,t.forEachSeries=Ga,t.forEachLimit=Fe,t.forEachOf=la,t.forEachOfSeries=Na,t.forEachOfLimit=L,t.inject=ve,t.foldl=ve,t.foldr=qe,t.select=Za,t.selectLimit=Ka,t.selectSeries=Xa,t.wrapSync=c,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,a(260).setImmediate,a(98),a(45),a(64)(e))},function(e,t){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===a||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){g&&m&&(g=!1,m.length?f=m.concat(f):v=-1,f.length&&s())}function s(){if(!g){var e=r(i);g=!0;for(var t=f.length;t;){for(m=f,f=[];++v<t;)m&&m[v].run();v=-1,t=f.length}m=null,g=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:a}catch(e){u=a}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var m,f=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];f.push(new l(e,t)),1!==f.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,a){"use strict";(function(t){function n(e,a,n,r,i,s,l,c,u){function d(){X.deductAndCapex={freeRent:"",leasingCommision:"",tenantImprovement:"",lostRent:"",exessRent:"",capex:"",TDA:"",VDC:"",VDL:""},X.valuationPropertyData={SFLPetitioner:0,MRPetitioner:"",ARPetitioner:0,GPRPetitioner:0,VacancyPerPetitioner:"",VacancyDolarPetitioner:0,ERPetitioner:0,expensePerPetitioner:"",expenseDolarPetitioner:0,expensePerSFPetitioner:"",otherIncomePetitioner:"",NOIPetitioner:0,BCRPetitioner:"",ETRPetitioner:"",OCRPetitioner:0,VDCPetitioner:0,VPSFPetitioner:0},X.assessorValuationData={SFLPetitioner:0,MRPetitioner:"",ARPetitioner:0,GPRPetitioner:0,VacancyPerPetitioner:"",VacancyDolarPetitioner:0,ERPetitioner:0,expensePerPetitioner:"",expenseDolarPetitioner:0,expensePerSFPetitioner:"",otherIncomePetitioner:"",NOIPetitioner:0,BCRPetitioner:"",ETRPetitioner:"",OCRPetitioner:0,VDCPetitioner:0,VPSFPetitioner:0},X.modalAssessorValues={SFLPetitioner:0,MRPetitioner:"",ARPetitioner:0,GPRPetitioner:0,VacancyPerPetitioner:"",VacancyDolarPetitioner:0,ERPetitioner:0,expensePerPetitioner:"",expenseDolarPetitioner:0,expensePerSFPetitioner:"",otherIncomePetitioner:"",NOIPetitioner:0,BCRPetitioner:"",ETRPetitioner:"",OCRPetitioner:0,VDCPetitioner:0,VPSFPetitioner:0},X.modalPetitionerValues={SFLPetitioner:0,MRPetitioner:"",ARPetitioner:0,GPRPetitioner:0,VacancyPerPetitioner:"",VacancyDolarPetitioner:0,ERPetitioner:0,expensePerPetitioner:"",expenseDolarPetitioner:0,expensePerSFPetitioner:"",otherIncomePetitioner:"",NOIPetitioner:0,BCRPetitioner:"",ETRPetitioner:"",OCRPetitioner:0,VDCPetitioner:0,VPSFPetitioner:0},X.attachNotes=[{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""}]}function p(){X.assessorModalData=[],l.getPetitionerModalsData().then(function(e){X.assessorModalData=e.data.result[0].models},function(e){}),y(function(e,t){})}function m(){X.allEvidenceFiles=[],t("#preloader").css("display","block");var e={propId:parseInt(localStorage.getItem("propertyId"))};i.postDataToServer("/valuation/get-evidence-files",e).then(function(e){var a=e.data;if(a.success){X.allEvidenceFiles=a.result[0].evidences,localStorage.removeItem("evidenceFilesAtServer"),localStorage.setItem("evidenceFilesAtServer",angular.toJson(X.allEvidenceFiles));for(var n=0;n<X.allEvidenceFiles.length;n++)for(var r=X.allEvidenceFiles[n],o=0;o<X.selectedEvidences.length;o++){var i=X.selectedEvidences[o];i._id==r._id&&(X.allEvidenceFiles.splice(n,1),n-=1)}}t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}function f(){X.createNew=!0,localStorage.setItem("valuationYear",X.valuationYear);var e={propId:X.propertyId,valuationYear:parseInt(localStorage.getItem("valuationYear"))};t("#preloader").css("display","block");l.getValuationForms("/valuation/get-forms-by-propertyId",e).then(function(e){X.formsList=e.data.result,t("#preloader").css("display","none"),t("#myModal").modal("hide")})}function g(){t("#myModal").modal("hide"),v()}function v(){X.createNew=!1,X.forms=!1,t("#preloader").css("display","block"),o.series([function(e){h(e)},function(e){y(e)}],function(e,a){t("#preloader").css("display","none")})}function h(e){X.showYear=!1;var t={propertyId:X.propertyId,year:X.valuationYear};l.getEvaluationData(t).then(function(t){var a=t.data;try{if(a.success){X.hideBeforeSelection=!1,X.showYear=a.result.differentData,X.yearOfData=a.result.year,X.valuationData=t.data;var n=X.valuationData.result.data.totalSF[1];X.valuationPropertyData.SFLPetitioner=n,X.assessorValuationData.SFLPetitioner=n,X.modalAssessorValues.SFLPetitioner=n,X.modalPetitionerValues.SFLPetitioner=n}else X.hideBeforeSelection=!1,X.valuationPropertyData.SFLPetitioner=253,X.assessorValuationData.SFLPetitioner=253,X.modalAssessorValues.SFLPetitioner=253,X.modalPetitionerValues.SFLPetitioner=253}catch(e){X.hideBeforeSelection=!1,X.valuationPropertyData.SFLPetitioner=253,X.assessorValuationData.SFLPetitioner=253,X.modalAssessorValues.SFLPetitioner=253,X.modalPetitionerValues.SFLPetitioner=253}e()},function(t){e()})}function y(e){X.mriShow=!0,X.yardiShow=!0,X.showYear=!1,X.valuationYear=localStorage.getItem("valuationYear");var t={year:parseInt(localStorage.getItem("valuationYear")),propId:parseInt(localStorage.getItem("propertyId"))};l.getConsolidatedData(t).then(function(t){if(t.data.success){var a=t.data;try{X.yardiIEData=a.result.yardiIEData,X.yardiIEYear=X.yardiIEData[X.yardiIEData.length-1],X.mriIEData=a.result.mriIEData,X.mriIEYear=X.mriIEData[X.mriIEData.length-1],0==X.mriIEData.length?X.mriShow=!1:0==X.yardiIEData.length&&(X.yardiShow=!1)}catch(e){X.mriShow=!1,X.yardiShow=!1}}else X.mriShow=!1,X.yardiShow=!1;e()},function(t){e()})}function S(){1==X.useValuesSelection&&(X.assessorValuationData.SFLPetitioner=parseFloat(X.modalAssessorValues.SFLPetitioner).toFixed(0),X.assessorValuationData.MRPetitioner=parseFloat(X.modalAssessorValues.MRPetitioner).toFixed(0),X.assessorValuationData.ARPetitioner=parseFloat(X.modalAssessorValues.ARPetitioner).toFixed(0),X.assessorValuationData.GPRPetitioner=parseFloat(X.modalAssessorValues.GPRPetitioner).toFixed(0),X.assessorValuationData.VacancyPerPetitioner=parseFloat(X.modalAssessorValues.VacancyPerPetitioner).toFixed(0),X.assessorValuationData.VacancyDolarPetitioner=parseFloat(X.modalAssessorValues.VacancyDolarPetitioner).toFixed(0),X.assessorValuationData.ERPetitioner=parseFloat(X.modalAssessorValues.ERPetitioner).toFixed(0),X.assessorValuationData.expensePerPetitioner=parseFloat(X.modalAssessorValues.expensePerPetitioner).toFixed(0),X.assessorValuationData.expenseDolarPetitioner=parseFloat(X.modalAssessorValues.expenseDolarPetitioner).toFixed(0),X.assessorValuationData.expensePerSFPetitioner=parseFloat(X.modalAssessorValues.expensePerSFPetitioner).toFixed(0),X.assessorValuationData.otherIncomePetitioner=parseFloat(X.modalAssessorValues.otherIncomePetitioner).toFixed(0),X.assessorValuationData.NOIPetitioner=parseFloat(X.modalAssessorValues.NOIPetitioner).toFixed(0),X.assessorValuationData.BCRPetitioner=parseFloat(X.modalAssessorValues.BCRPetitioner).toFixed(0),X.assessorValuationData.ETRPetitioner=parseFloat(X.modalAssessorValues.ETRPetitioner).toFixed(0),X.assessorValuationData.OCRPetitioner=parseFloat(X.modalAssessorValues.OCRPetitioner).toFixed(0),X.assessorValuationData.VDCPetitioner=parseFloat(X.modalAssessorValues.VDCPetitioner).toFixed(0),X.assessorValuationData.VPSFPetitioner=parseFloat(X.modalAssessorValues.VPSFPetitioner).toFixed(0)),2==X.useValuesSelection&&(X.valuationPropertyData.SFLPetitioner=parseFloat(X.modalPetitionerValues.SFLPetitioner).toFixed(0),X.valuationPropertyData.MRPetitioner=parseFloat(X.modalPetitionerValues.MRPetitioner).toFixed(0),X.valuationPropertyData.ARPetitioner=parseFloat(X.modalPetitionerValues.ARPetitioner).toFixed(0),X.valuationPropertyData.GPRPetitioner=parseFloat(X.modalPetitionerValues.GPRPetitioner).toFixed(0),X.valuationPropertyData.VacancyPerPetitioner=parseFloat(X.modalPetitionerValues.VacancyPerPetitioner).toFixed(0),X.valuationPropertyData.VacancyDolarPetitioner=parseFloat(X.modalPetitionerValues.VacancyDolarPetitioner).toFixed(0),X.valuationPropertyData.ERPetitioner=parseFloat(X.modalPetitionerValues.ERPetitioner).toFixed(0),X.valuationPropertyData.expensePerPetitioner=parseFloat(X.modalPetitionerValues.expensePerPetitioner).toFixed(0),X.valuationPropertyData.expenseDolarPetitioner=parseFloat(X.modalPetitionerValues.expenseDolarPetitioner).toFixed(0),X.valuationPropertyData.expensePerSFPetitioner=parseFloat(X.modalPetitionerValues.expensePerSFPetitioner).toFixed(0),X.valuationPropertyData.otherIncomePetitioner=parseFloat(X.modalPetitionerValues.otherIncomePetitioner).toFixed(0),X.valuationPropertyData.NOIPetitioner=parseFloat(X.modalPetitionerValues.NOIPetitioner).toFixed(0),X.valuationPropertyData.BCRPetitioner=parseFloat(X.modalPetitionerValues.BCRPetitioner).toFixed(0),X.valuationPropertyData.ETRPetitioner=parseFloat(X.modalPetitionerValues.ETRPetitioner).toFixed(0),X.valuationPropertyData.OCRPetitioner=parseFloat(X.modalPetitionerValues.OCRPetitioner).toFixed(0),X.valuationPropertyData.VDCPetitioner=parseFloat(X.modalPetitionerValues.VDCPetitioner).toFixed(0),X.valuationPropertyData.VPSFPetitioner=parseFloat(X.modalPetitionerValues.VPSFPetitioner).toFixed(0))}function P(e){s.showBoxTwo=!0,t(this).toggleClass("active"),X.modalSelected=!1,X.useValuesSelection=2,X.modalPetitionerValues.SFLPetitioner=e.petitionerLeasableSF,X.modalPetitionerValues.MRPetitioner=e.petitionerMarketRentSF,X.modalPetitionerValues.ARPetitioner=e.petitionerAnnualRent,X.modalPetitionerValues.GPRPetitioner=e.petitionerGPR,X.modalPetitionerValues.VacancyPerPetitioner=e.petitionerVacancyPercentage,X.modalPetitionerValues.VacancyDolarPetitioner=e.petitionerVacancy,X.modalPetitionerValues.ERPetitioner=e.petitionerEffectiveRent,X.modalPetitionerValues.expensePerPetitioner=e.petitionerExpensePercentage,X.modalPetitionerValues.expenseDolarPetitioner=e.petitionerExpense,X.modalPetitionerValues.expensePerSFPetitioner=e.petitionerExpenseSF,X.modalPetitionerValues.otherIncomePetitioner=e.petitionerOI,X.modalPetitionerValues.NOIPetitioner=e.NOI,X.modalPetitionerValues.BCRPetitioner=e.BCR,X.modalPetitionerValues.ETRPetitioner=e.petitionerETR,X.modalPetitionerValues.OCRPetitioner=e.petitionerOCR,X.modalPetitionerValues.VDCPetitioner=e.petitionerVDC,X.modalPetitionerValues.VPSFPetitioner=e.assessedValueSF}function D(e){X.useValuesSelection=1,s.showBoxOne=!0,t(this).toggleClass("active"),X.modalSelected=!1,X.modalAssessorValues.SFLPetitioner=e.petitionerLeasableSF,X.modalAssessorValues.MRPetitioner=e.petitionerMarketRentSF,X.modalAssessorValues.ARPetitioner=e.petitionerAnnualRent,X.modalAssessorValues.GPRPetitioner=e.petitionerGPR,X.modalAssessorValues.VacancyPerPetitioner=e.petitionerVacancyPercentage,X.modalAssessorValues.VacancyDolarPetitioner=e.petitionerVacancy,X.modalAssessorValues.ERPetitioner=e.petitionerEffectiveRent,X.modalAssessorValues.expensePerPetitioner=e.petitionerExpensePercentage,X.modalAssessorValues.expenseDolarPetitioner=e.petitionerExpense,X.modalAssessorValues.expensePerSFPetitioner=e.petitionerExpenseSF,X.modalAssessorValues.otherIncomePetitioner=e.petitionerOI,X.modalAssessorValues.NOIPetitioner=e.NOI,X.modalAssessorValues.BCRPetitioner=e.BCR,X.modalAssessorValues.ETRPetitioner=e.petitionerETR,X.modalAssessorValues.OCRPetitioner=e.petitionerOCR,X.modalAssessorValues.VDCPetitioner=e.petitionerVDC,X.modalAssessorValues.VPSFPetitioner=e.assessedValueSF}function b(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push(n._id)}return t}function C(){var e=X.searchWordAllFile.toLowerCase();if(e.length>0){for(var t=[],a=0;a<X.allEvidenceFiles.length;a++){var n=X.allEvidenceFiles[a],r=n.properties.type?n.properties.type[1].toLowerCase():"Not Specified",o=n.properties.fileName?n.properties.fileName[1].toLowerCase():"Not Specified",i=n.properties.createdDate?n.properties.createdDate[1].toLowerCase():"Not Specified";(r.indexOf(e)>-1||o.indexOf(e)>-1||i.indexOf(e)>-1)&&t.push(n)}return t}return X.allEvidenceFiles}function R(){var e=X.searchWordSelectedFile.toLowerCase();if(e.length>0){for(var t=[],a=0;a<X.selectedEvidences.length;a++){var n=X.selectedEvidences[a],r=n.properties.type?n.properties.type[1].toLowerCase():"Not Specified",o=n.properties.fileName?n.properties.fileName[1].toLowerCase():"Not Specified",i=n.properties.createdDate?n.properties.createdDate[1].toLowerCase():"Not Specified";(r.indexOf(e)>-1||o.indexOf(e)>-1||i.indexOf(e)>-1)&&t.push(n)}return t}return X.selectedEvidences}function I(e){w(),X.sortKey=e,X.allEvidenceFiles="fileName"==e?u.sortArrayByKey(X.allEvidenceFiles,X.sortKey):u.sortByKey(X.allEvidenceFiles,X.sortKey),C()}function x(e){A(X.attachFileSelection),X.sortKeySelected=e,X.selectedEvidences="fileName"==e?u.sortArrayByKey(X.selectedEvidences,X.sortKeySelected):u.sortByKey(X.selectedEvidences,X.sortKeySelected),R()}function w(){var e=localStorage.getItem("evidenceFilesAtServer");X.allEvidenceFiles=JSON.parse(e);for(var t=0;t<X.allEvidenceFiles.length;t++)for(var a=X.allEvidenceFiles[t],n=0;n<X.selectedEvidences.length;n++){var r=X.selectedEvidences[n];r._id==a._id&&(X.allEvidenceFiles.splice(t,1),t-=1)}}function F(){X.toggleLabelInputs=!X.toggleLabelInputs}function A(e){X.attachFileSelection=e,X.selectedEvidences=[],1==X.attachFileSelection?X.selectedEvidences=X.MREvidences:2==X.attachFileSelection?X.selectedEvidences=X.VacancyEvidences:3==X.attachFileSelection?X.selectedEvidences=X.ExpEvidences:4==X.attachFileSelection?X.selectedEvidences=X.ExpPSFEvidences:5==X.attachFileSelection?X.selectedEvidences=X.OIEvidences:6==X.attachFileSelection?X.selectedEvidences=X.BCREvidences:7==X.attachFileSelection?X.selectedEvidences=X.ETREvidences:8==X.attachFileSelection?X.selectedEvidences=X.FreeRentEvidences:9==X.attachFileSelection?X.selectedEvidences=X.LeasingEvidences:10==X.attachFileSelection?X.selectedEvidences=X.TenantImprovementEvidences:11==X.attachFileSelection?X.selectedEvidences=X.LostRentEvidences:12==X.attachFileSelection?X.selectedEvidences=X.AddBackEvidences:13==X.attachFileSelection?X.selectedEvidences=X.CapexEvidences:14==X.attachFileSelection&&(X.selectedEvidences=X.DeductionEvidences);var a=localStorage.getItem("evidenceFilesAtServer");X.allEvidenceFiles=JSON.parse(a);for(var n=0;n<X.allEvidenceFiles.length;n++)for(var r=X.allEvidenceFiles[n],o=0;o<X.selectedEvidences.length;o++){var i=X.selectedEvidences[o];i._id==r._id&&(X.allEvidenceFiles.splice(n,1),n-=1)}I("createdDate"),u.sortByKey(X.selectedEvidences,"createdDate"),t("#myModalEvidence").modal("show")}function T(e){for(var t={},a=0;a<X.allEvidenceFiles.length;a++){var n=X.allEvidenceFiles[a];if(n._id==e){t=n;break}}return t}function k(){var e=JSON.parse(localStorage.getItem("selectedValuationForm"));X.selectedEvidences=[],w(),X.MREvidences=[],X.ExpPSFEvidences=[],X.OIEvidences=[],X.BCREvidences=[],X.ETREvidences=[],X.FreeRentEvidences=[],X.LeasingEvidences=[],X.TenantImprovementEvidences=[],X.LostRentEvidences=[],X.AddBackEvidences=[],X.CapexEvidences=[],X.DeductionEvidences=[],X.VacancyEvidences=[],X.ExpEvidences=[];for(var t=0;t<e.valuationForm.properties.marketRentPerSFEvidence.length;t++){var a=e.valuationForm.properties.marketRentPerSFEvidence[t],n=T(a);n&&X.MREvidences.push(n)}for(var t=0;t<e.valuationForm.properties.vacancyPercentageEvidence.length;t++){var a=e.valuationForm.properties.vacancyPercentageEvidence[t],n=T(a);n&&X.VacancyEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.expensePercentageEvidence.length;t++){var a=e.valuationForm.properties.expensePercentageEvidence[t],n=T(a);n&&X.ExpEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.expensePerSFEvidence.length;t++){var a=e.valuationForm.properties.expensePerSFEvidence[t],n=T(a);n&&X.ExpPSFEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.otherIncomeEvidence.length;t++){var a=e.valuationForm.properties.otherIncomeEvidence[t],n=T(a);n&&X.OIEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.baseCapRateEvidence.length;t++){var a=e.valuationForm.properties.baseCapRateEvidence[t],n=T(a);n&&X.BCREvidences.push(n)}for(var t=0;t<e.valuationForm.properties.effectiveTaxRateEvidence.length;t++){var a=e.valuationForm.properties.effectiveTaxRateEvidence[t],n=T(a);n&&X.ETREvidences.push(n)}for(var t=0;t<e.valuationForm.properties.freeRentEvidence.length;t++){var a=e.valuationForm.properties.freeRentEvidence[t],n=T(a);n&&X.FreeRentEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.leasingCommissionEvidence.length;t++){var a=e.valuationForm.properties.leasingCommissionEvidence[t],n=T(a);n&&X.LeasingEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.tenantsImprovementsEvidence.length;t++){var a=e.valuationForm.properties.tenantsImprovementsEvidence[t],n=T(a);n&&X.TenantImprovementEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.lostRentEvidence.length;t++){var a=e.valuationForm.properties.lostRentEvidence[t],n=T(a);n&&X.LostRentEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.addBackExcessRentEvidence.length;t++){var a=e.valuationForm.properties.addBackExcessRentEvidence[t],n=T(a);n&&X.AddBackEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.capExEvidence.length;t++){var a=e.valuationForm.properties.capExEvidence[t],n=T(a);n&&X.CapexEvidences.push(n)}for(var t=0;t<e.valuationForm.properties.totalDeductionsAddtionsEvidence.length;t++){var a=e.valuationForm.properties.totalDeductionsAddtionsEvidence[t],n=T(a);n&&X.DeductionEvidences.push(n)}}function E(e,t){localStorage.setItem("formId",e.valuationForm._id),localStorage.setItem("selectedValuationForm",angular.toJson(e)),k(),X.createNew=!1,X.formId=e.valuationForm._id;var a=e.valuationForm.properties;X.valuationPropertyData.SFLPetitioner=253,X.valuationPropertyData.MRPetitioner=a.marketRentPerSF[1],X.valuationPropertyData.ARPetitioner=u.Petitioner.annualRent(X.valuationPropertyData.SFLPetitioner,X.valuationPropertyData.MRPetitioner),X.valuationPropertyData.GPRPetitioner=X.valuationPropertyData.ARPetitioner,X.valuationPropertyData.VacancyPerPetitioner=a.vacancyPercentage[1],X.valuationPropertyData.VacancyDolarPetitioner=u.Petitioner.vacancy(X.valuationPropertyData.GPRPetitioner,X.valuationPropertyData.VacancyPerPetitioner/100),X.valuationPropertyData.ERPetitioner=u.Petitioner.effectiveRent(X.valuationPropertyData.ARPetitioner,X.valuationPropertyData.VacancyDolarPetitioner/100),X.valuationPropertyData.expensePerPetitioner=a.expensePercentage[1],X.valuationPropertyData.expenseDolarPetitioner=u.Petitioner.expenses(X.valuationPropertyData.ERPetitioner,X.valuationPropertyData.expensePerPetitioner/100),X.valuationPropertyData.expensePerSFPetitioner=a.expensePerSF[1],X.valuationPropertyData.otherIncomePetitioner=a.otherIncome[1],X.valuationPropertyData.NOIPetitioner=u.Petitioner.netOperatingIncome(X.valuationPropertyData.ERPetitioner,X.valuationPropertyData.expenseDolarPetitioner),X.valuationPropertyData.BCRPetitioner=a.baseCapRate[1],X.valuationPropertyData.ETRPetitioner=a.effectiveTaxRate[1],X.valuationPropertyData.OCRPetitioner=u.Petitioner.overAllCapRate(parseInt(X.valuationPropertyData.BCRPetitioner),parseInt(X.valuationPropertyData.ETRPetitioner)),X.valuationPropertyData.VDCPetitioner=u.Petitioner.valueDirectCap(X.valuationPropertyData.OCRPetitioner,X.valuationPropertyData.NOIPetitioner),X.valuationPropertyData.VPSFPetitioner=u.Petitioner.valuePerSqFt(X.valuationPropertyData.VDCPetitioner,X.valuationPropertyData.SFLPetitioner),X.assessorValuationData.MRPetitioner=a.marketRentPerSF[0],X.assessorValuationData.ARPetitioner=u.Petitioner.annualRent(X.assessorValuationData.SFLPetitioner,X.assessorValuationData.MRPetitioner),X.assessorValuationData.GPRPetitioner=X.assessorValuationData.ARPetitioner,X.assessorValuationData.VacancyPerPetitioner=a.vacancyPercentage[0],X.assessorValuationData.VacancyDolarPetitioner=u.Petitioner.vacancy(X.assessorValuationData.GPRPetitioner,X.assessorValuationData.VacancyPerPetitioner/100),X.assessorValuationData.ERPetitioner=u.Petitioner.effectiveRent(X.assessorValuationData.ARPetitioner,X.assessorValuationData.VacancyDolarPetitioner/100),X.assessorValuationData.expensePerPetitioner=a.expensePercentage[0],X.assessorValuationData.expenseDolarPetitioner=u.Petitioner.expenses(X.assessorValuationData.ERPetitioner,X.assessorValuationData.expensePerPetitioner/100),X.assessorValuationData.expensePerSFPetitioner=a.expensePerSF[0],X.assessorValuationData.otherIncomePetitioner=a.otherIncome[0],X.assessorValuationData.NOIPetitioner=u.Petitioner.netOperatingIncome(X.assessorValuationData.ERPetitioner,X.assessorValuationData.expenseDolarPetitioner),X.assessorValuationData.BCRPetitioner=a.baseCapRate[0],X.assessorValuationData.ETRPetitioner=a.effectiveTaxRate[0],X.assessorValuationData.OCRPetitioner=u.Petitioner.overAllCapRate(parseInt(X.assessorValuationData.BCRPetitioner),parseInt(X.assessorValuationData.ETRPetitioner)),X.assessorValuationData.VDCPetitioner=u.Petitioner.valueDirectCap(X.assessorValuationData.OCRPetitioner,X.assessorValuationData.NOIPetitioner),X.assessorValuationData.VPSFPetitioner=u.Petitioner.valuePerSqFt(X.assessorValuationData.VDCPetitioner,X.assessorValuationData.SFLPetitioner),X.deductAndCapex.freeRent=a.freeRent,X.deductAndCapex.leasingCommision=a.leasingCommission,X.deductAndCapex.tenantImprovement=a.tenantsImprovements,X.deductAndCapex.lostRent=a.lostRent,X.deductAndCapex.exessRent=a.addBackExcessRent,X.deductAndCapex.capex=a.capEx,X.deductAndCapex.TDA=a.totalDeductionsAddtions,X.deductAndCapex.VDC=u.Petitioner.vdcPostDeduction(X.valuationPropertyData.VDCPetitioner,X.deductAndCapex.TDA),X.deductAndCapex.VDL=u.Petitioner.vdcPostDeductionPerSF(X.deductAndCapex.VDC,X.valuationPropertyData.SFLPetitioner),X.valuationPropertyData.OCRPetitioner=X.valuationPropertyData.OCRPetitioner?X.valuationPropertyData.OCRPetitioner:0,X.valuationPropertyData.VDCPetitioner=X.valuationPropertyData.VDCPetitioner?X.valuationPropertyData.VDCPetitioner:0,X.valuationPropertyData.VPSFPetitioner=X.valuationPropertyData.VPSFPetitioner?X.valuationPropertyData.VPSFPetitioner:0,X.assessorValuationData.OCRPetitioner=X.assessorValuationData.OCRPetitioner?X.assessorValuationData.OCRPetitioner:0,X.assessorValuationData.VDCPetitioner=X.assessorValuationData.VDCPetitioner?X.assessorValuationData.VDCPetitioner:0,X.assessorValuationData.VPSFPetitioner=X.assessorValuationData.VPSFPetitioner?X.assessorValuationData.VPSFPetitioner:0,t()}function O(){X.alreadyExists=!1,X.isReplace=!1,d(),X.hideBeforeSelection=!0,X.createNew=!0}function $(){var e=u.Petitioner.annualRent(X.modalPetitionerValues.SFLPetitioner,X.modalPetitionerValues.MRPetitioner);X.modalPetitionerValues.ARPetitioner=e,X.modalPetitionerValues.GPRPetitioner=e}function M(e){var t=u.Petitioner.annualRent(e.SFLPetitioner,e.MRPetitioner);e.ARPetitioner=t,e.GPRPetitioner=t}function N(e){var t=e.VacancyPerPetitioner/100,a=u.Petitioner.vacancy(e.GPRPetitioner,t),n=u.Petitioner.effectiveRent(e.ARPetitioner,t);e.VacancyDolarPetitioner=a,e.ERPetitioner=n}function V(e){if(e.expensePerPetitioner){X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!0;var t=e.expensePerPetitioner/100,a=u.Petitioner.expenses(e.ERPetitioner,t),n=u.Petitioner.expensesPerSf(a,e.SFLPetitioner);e.expenseDolarPetitioner=a,e.expensePerSFPetitioner=parseFloat(n).toFixed(0)}else X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!1}function B(e){if(e.expensePerSFPetitioner){X.disableExpenseFieldsPer=!0,X.disableExpenseFieldsSF=!1;var t=u.Petitioner.expensesDolar(e.SFLPetitioner,e.expensePerSFPetitioner),a=u.Petitioner.expensesPercentage(t,e.ERPetitioner);e.expensePerPetitioner=a,e.expenseDolarPetitioner=t}else X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!1}function L(e){var t=u.Petitioner.netOperatingIncome(e.ERPetitioner,e.expenseDolarPetitioner);e.NOIPetitioner=t}function _(e){if(e.ETRPetitioner.toString().length>0){var t=u.Petitioner.overAllCapRate(parseInt(e.BCRPetitioner),parseInt(e.ETRPetitioner)),a=u.Petitioner.valueDirectCap(t,e.NOIPetitioner),n=u.Petitioner.valuePerSqFt(a,e.SFLPetitioner);e.OCRPetitioner=t,e.VDCPetitioner=a,e.VPSFPetitioner=n}}function U(){var e=X.modalPetitionerValues.VacancyPerPetitioner/100,t=u.Petitioner.vacancy(X.modalPetitionerValues.GPRPetitioner,e),a=u.Petitioner.effectiveRent(X.modalPetitionerValues.ARPetitioner,e);X.modalPetitionerValues.VacancyDolarPetitioner=t,X.modalPetitionerValues.ERPetitioner=a}function j(){if(X.modalPetitionerValues.expensePerPetitioner.toString().length>0){X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!0;var e=X.modalPetitionerValues.expensePerPetitioner/100,t=u.Petitioner.expenses(X.modalPetitionerValues.ERPetitioner,e),a=u.Petitioner.expensesPerSf(t,X.modalPetitionerValues.SFLPetitioner);X.modalPetitionerValues.expenseDolarPetitioner=t,X.modalPetitionerValues.expensePerSFPetitioner=parseFloat(a).toFixed(0)}else X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!1}function q(){var e=u.Petitioner.netOperatingIncome(X.modalPetitionerValues.ERPetitioner,X.modalPetitionerValues.expenseDolarPetitioner);X.modalPetitionerValues.NOIPetitioner=e}function J(){if(X.modalPetitionerValues.ETRPetitioner.toString().length>0){var e=u.Petitioner.overAllCapRate(parseInt(X.modalPetitionerValues.BCRPetitioner),parseInt(X.modalPetitionerValues.ETRPetitioner)),t=u.Petitioner.valueDirectCap(e,X.modalPetitionerValues.NOIPetitioner),a=u.Petitioner.valuePerSqFt(t,X.modalPetitionerValues.SFLPetitioner);X.modalPetitionerValues.OCRPetitioner=e,X.modalPetitionerValues.VDCPetitioner=t,X.modalPetitionerValues.VPSFPetitioner=a}}function z(){var e=u.Petitioner.annualRent(X.modalAssessorValues.SFLPetitioner,X.modalAssessorValues.MRPetitioner);X.modalAssessorValues.ARPetitioner=e,X.modalAssessorValues.GPRPetitioner=e}function Y(){var e=X.modalAssessorValues.VacancyPerPetitioner/100,t=u.Petitioner.vacancy(X.modalAssessorValues.GPRPetitioner,e),a=u.Petitioner.effectiveRent(X.modalAssessorValues.ARPetitioner,e);X.modalAssessorValues.VacancyDolarPetitioner=t,X.modalAssessorValues.ERPetitioner=a}function G(){if(X.modalAssessorValues.expensePerPetitioner.toString().length>0){X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!0;var e=X.modalAssessorValues.expensePerPetitioner/100,t=u.Petitioner.expenses(X.modalAssessorValues.ERPetitioner,e),a=u.Petitioner.expensesPerSf(t,X.modalAssessorValues.SFLPetitioner);X.modalAssessorValues.expenseDolarPetitioner=t,X.modalAssessorValues.expensePerSFPetitioner=parseFloat(a).toFixed(0)}else X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!1}function Q(){if(X.assessorValuationData.expensePerSFPetitioner.length>0){X.disableExpenseFieldsPer=!0,X.disableExpenseFieldsSF=!1;var e=u.Petitioner.expensesDolar(X.assessorValuationData.SFLPetitioner,X.assessorValuationData.expensePerSFPetitioner),t=u.Petitioner.expensesPercentage(e,X.assessorValuationData.ERPetitioner);X.assessorValuationData.expensePerPetitioner=t,X.assessorValuationData.expenseDolarPetitioner=e}else X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!1}function W(){var e=u.Petitioner.netOperatingIncome(X.modalAssessorValues.ERPetitioner,X.modalAssessorValues.expenseDolarPetitioner);X.modalAssessorValues.NOIPetitioner=e}function H(){if(X.modalAssessorValues.ETRPetitioner.toString().length>0){var e=u.Petitioner.overAllCapRate(parseInt(X.modalAssessorValues.BCRPetitioner),parseInt(X.modalAssessorValues.ETRPetitioner)),t=u.Petitioner.valueDirectCap(e,X.modalAssessorValues.NOIPetitioner),a=u.Petitioner.valuePerSqFt(t,X.modalAssessorValues.SFLPetitioner);X.modalAssessorValues.OCRPetitioner=e,X.modalAssessorValues.VDCPetitioner=t,X.modalAssessorValues.VPSFPetitioner=a}}function Z(){var e=u.Petitioner.vdcPostDeduction(X.valuationPropertyData.VDCPetitioner,X.deductAndCapex.TDA),t=u.Petitioner.vdcPostDeductionPerSF(e,X.valuationPropertyData.SFLPetitioner);X.deductAndCapex.VDC=e,X.deductAndCapex.VDL=t}function K(e){try{var t=document.createElement("a");t.target="_blank";var a=location.protocol+"//"+location.host,n=window.URL||window.webkitURL,r=a+"/users/downloadAppealPackage?path="+e.data.result;t.href=r,document.body.appendChild(t),t.click(),document.body.removeChild(t),n.revokeObjectURL(r)}catch(e){}}var X=this;X.calculateMRPetitioner=$,X.calculateERandVacPetitioner=U,X.calculateExpensesPetitioner=j,X.calculateNOIPetitioner=q,X.calculateBCRPetitioner=J,X.calculateMRAssessor=z,X.calculateERandVacAssessor=Y,X.calculateExpensesAssessor=G,X.calculateNOIAssessor=W,X.calculateBCRAssessor=H,X.calculateExpensesAssessorSF=Q,X.selectedValuationYear=v,X.calculateDeductAndCapex=Z,X.petitionerModalSelected=P,X.assessorModalOneSelected=D,X.selectedValuationYearModal=g,X.getAllValuationForms=f,X.calculateMRInput=M,X.calculateERandVacInput=N,X.calculateExpensesInput=V,X.calculateExpensesSFInput=B,X.calculateNOIInput=L,X.calculateBCRInput=_,X.ToggleLabelInputs=F,X.addPetitionerEvidence=A,X.sortBy=I,X.useModalValues=S,X.currentForm=null,X.formId=null,X.formStatus=!1,X.noFormsFound=!1,X.isReplace=!1,X.alreadyExists=!1,X.formName="",X.formsList=[],X.forms=!1,X.createNew=!1,X.yardiIEData={},X.mriIEData={},X.yearOfData="",X.showYear=!1,X.petitionerModalOne={},X.petitionerModalTwo={},X.petitionerModalThree={},X.assessorModalOne={},X.assessorModalTwo={},X.assessorModalThree={},X.selectedEvidences=[],X.attachFileSelection=0,X.MREvidences=[],X.VacancyEvidences=[],X.ExpEvidences=[],X.ExpPSFEvidences=[],X.OIEvidences=[],X.BCREvidences=[],X.ETREvidences=[],X.FreeRentEvidences=[],X.LeasingEvidences=[],X.TenantImprovementEvidences=[],X.LostRentEvidences=[],X.AddBackEvidences=[],X.CapexEvidences=[],X.DeductionEvidences=[],X.allEvidenceFiles=[],X.selectedEvidences=[],X.buttonAOTCLabel="Hide AOTC Column",X.buttonYearLabel="Hide Year Column ",X.sortKey="",X.sortKeySelected="",X.sortBySelected=x,X.searchWordAllFile="",X.searchWordSelectedFile="",X.yearChecked=!0,X.recomendationChecked=!0,X.buttonAOTCLabelToggle=!0,X.valuationYear="selected",X.valuationData={},X.modalSelected=!0,X.hideBeforeSelection=!0,X.disableExpenseFieldsPer=!1,X.disableExpenseFieldsSF=!1,X.toggleLabelInputs=!0,X.useValuesSelection=0,d(),X.property=JSON.parse(localStorage.getItem("propertyDetails")),X.propertyId=JSON.parse(localStorage.getItem("propertyId")),X.selectedScenario=JSON.parse(localStorage.getItem("selectedScenario")),X.selectedScenario?(X.hideBeforeSelection=!1,X.createNew=!1,X.formName=localStorage.getItem("formName"),X.valuationPropertyData.SFLPetitioner=X.selectedScenario.petitionerLeasableSF,X.valuationPropertyData.MRPetitioner=X.selectedScenario.petitionerMarketRentSF,X.valuationPropertyData.ARPetitioner=X.selectedScenario.petitionerAnnualRent,X.valuationPropertyData.GPRPetitioner=X.selectedScenario.petitionerGPR,X.valuationPropertyData.VacancyPerPetitioner=X.selectedScenario.petitionerVacancyPercentage,X.valuationPropertyData.VacancyDolarPetitioner=X.selectedScenario.petitionerVacancy,X.valuationPropertyData.ERPetitioner=X.selectedScenario.petitionerEffectiveRent,X.valuationPropertyData.expensePerPetitioner=X.selectedScenario.petitionerExpensePercentage,X.valuationPropertyData.expenseDolarPetitioner=X.selectedScenario.petitionerExpense,X.valuationPropertyData.expensePerSFPetitioner=X.selectedScenario.petitionerExpenseSF,X.valuationPropertyData.otherIncomePetitioner=X.selectedScenario.petitionerOI,X.valuationPropertyData.NOIPetitioner=X.selectedScenario.NOI,X.valuationPropertyData.BCRPetitioner=X.selectedScenario.BCR,X.valuationPropertyData.ETRPetitioner=X.selectedScenario.petitionerETR,X.valuationPropertyData.OCRPetitioner=X.selectedScenario.petitionerOCR,X.valuationPropertyData.VDCPetitioner=X.selectedScenario.petitionerVDC,X.valuationPropertyData.VPSFPetitioner=X.selectedScenario.assessedValueSF,p(),localStorage.removeItem("selectedScenario")):"scenario"==r.messageFrom?(X.formName=localStorage.getItem("formName"),X.hideBeforeSelection=!1,X.createNew=!1,X.formId=localStorage.getItem("formId"),l.getFormById().then(function(e){E(e.data.result[0],function(e,t){})},function(e){}),p()):(X.hideBeforeSelection=!0,setTimeout(function(){t("#myModal").modal("toggle")},200)),m(),X.appeal=function(){var e={propId:parseInt(localStorage.getItem("propertyId")),formId:X.formId};l.appeal("/valuation/appeal",e).then(function(e){t("#preloader").css("display","none"),t("#myAppealModal").modal("hide")})},X.deleteForm=function(){X.formId=X.currentForm.valuationForm._id;var e={formId:X.formId};l.deleteForm("/valuation/delete-valuation-form",e).then(function(e){X.hideBeforeSelection=!0,t("#myDeleteModal").modal("hide"),X.formStatus=!1,f(),t("#preloader").css("display","none")})},X.openDeleteModal=function(e){X.currentForm="inside"==e?JSON.parse(localStorage.getItem("selectedValuationForm")):e,a(function(){t("#myDeleteModal").modal("toggle")},100)},X.saveForm=function(){t("#preloader").css("display","block"),localStorage.setItem("formName",X.formName),p();var e=b(X.MREvidences),a=b(X.VacancyEvidences),n=b(X.ExpEvidences),r=b(X.ExpPSFEvidences),o=b(X.OIEvidences),i=b(X.BCREvidences),c=b(X.ETREvidences),u=b(X.FreeRentEvidences),d=b(X.LeasingEvidences),g=b(X.TenantImprovementEvidences),v=b(X.LostRentEvidences),h=b(X.AddBackEvidences),y=b(X.CapexEvidences),S=b(X.DeductionEvidences),P={propId:X.propertyId,valuationYear:parseInt(localStorage.getItem("valuationYear")),name:X.formName,status:X.formStatus,valuationData:{marketRentPerSF:[X.assessorValuationData.MRPetitioner,X.valuationPropertyData.MRPetitioner.toString()],marketRentPerSFEvidence:e,marketRentPerSFNote:X.attachNotes[1].text,vacancyPercentage:[X.assessorValuationData.VacancyPerPetitioner,X.valuationPropertyData.VacancyPerPetitioner.toString()],vacancyPercentageEvidence:a,vacancyPercentageNote:X.attachNotes[2].text,expensePercentage:[X.assessorValuationData.expensePerPetitioner,X.valuationPropertyData.expensePerPetitioner.toString()],expensePercentageEvidence:n,expensePercentageNote:X.attachNotes[3].text,expensePerSF:[X.assessorValuationData.expensePerSFPetitioner,X.valuationPropertyData.expensePerSFPetitioner.toString()],expensePerSFEvidence:r,expensePerSFNote:X.attachNotes[4].text,otherIncome:[X.assessorValuationData.otherIncomePetitioner,X.valuationPropertyData.otherIncomePetitioner.toString()],otherIncomeEvidence:o,otherIncomeNote:X.attachNotes[5].text,baseCapRate:[X.assessorValuationData.BCRPetitioner,X.valuationPropertyData.BCRPetitioner.toString()],baseCapRateEvidence:i,baseCapRateNote:X.attachNotes[6].text,effectiveTaxRate:[X.assessorValuationData.ETRPetitioner,X.valuationPropertyData.ETRPetitioner.toString()],effectiveTaxRateEvidence:c,effectiveTaxRateNote:X.attachNotes[7].text,freeRent:X.deductAndCapex.freeRent.toString(),freeRentEvidence:u,freeRentNote:X.attachNotes[8].text,leasingCommission:X.deductAndCapex.leasingCommision.toString(),leasingCommissionEvidence:d,leasingCommissionNote:X.attachNotes[9].text,tenantsImprovements:X.deductAndCapex.tenantImprovement.toString(),tenantsImprovementsEvidence:g,tenantsImprovementsNote:X.attachNotes[10].text,lostRent:X.deductAndCapex.lostRent.toString(),lostRentEvidence:v,lostRentNote:X.attachNotes[11].text,addBackExcessRent:X.deductAndCapex.exessRent.toString(),addBackExcessRentEvidence:h,addBackExcessRentNote:X.attachNotes[12].text,capEx:X.deductAndCapex.capex.toString(),capExEvidence:y,capExNote:X.attachNotes[13].text,totalDeductionsAddtions:X.deductAndCapex.TDA.toString(),totalDeductionsAddtionsEvidence:S,totalDeductionsAddtionsNote:X.attachNotes[14].text}};if("1"===X.isReplace){var D="/valuation/replace-valuation-form";l.replaceValuationForm(D,P).then(function(e){var a=e.data;t("#preloader").css("display","none"),a.success?(f(),X.hideBeforeSelection=!0,X.createNew=!0,t("#mySaveModal").modal("hide"),s.$emit("success",a.message)):(f(),X.hideBeforeSelection=!0,X.createNew=!0,t("#mySaveModal").modal("hide"),s.$emit("error",a.message)),m()},function(e){t("#preloader").css("display","none"),t("#error_linking").fadeIn(1500).delay(500).fadeOut(500)})}else{var D="/valuation/save-form";l.postDataToServer(D,P).then(function(e){var a=e.data;t("#preloader").css("display","none"),a.success?(localStorage.setItem("selectedValuationForm",angular.toJson(a.result[0])),localStorage.setItem("formId",a.result[0].valuationForm._id),X.noFormsFound=!1,f(),X.hideBeforeSelection=!0,X.createNew=!0,t("#mySaveModal").modal("hide"),X.createNew=!1,X.hideBeforeSelection=!1,s.$emit("success",a.message)):X.alreadyExists=!0,m()},function(e){t("#preloader").css("display","none"),t("#error_linking").fadeIn(1500).delay(500).fadeOut(500)})}},X.replaceForm=function(){t("#preloader").css("display","block"),localStorage.setItem("formName",X.formName);var e=b(X.MREvidences),a=b(X.VacancyEvidences),n=b(X.ExpEvidences),r=b(X.ExpPSFEvidences),o=b(X.OIEvidences),i=b(X.BCREvidences),c=b(X.ETREvidences),u=b(X.FreeRentEvidences),p=b(X.LeasingEvidences),g=b(X.TenantImprovementEvidences),v=b(X.LostRentEvidences),h=b(X.AddBackEvidences),y=b(X.CapexEvidences),S=b(X.DeductionEvidences),P={propId:X.propertyId,valuationYear:parseInt(localStorage.getItem("valuationYear")),name:X.formName,status:X.formStatus,valuationData:{marketRentPerSF:[X.assessorValuationData.MRPetitioner,X.valuationPropertyData.MRPetitioner.toString()],marketRentPerSFEvidence:e,marketRentPerSFNote:X.attachNotes[1].text,vacancyPercentage:[X.assessorValuationData.VacancyPerPetitioner,X.valuationPropertyData.VacancyPerPetitioner.toString()],vacancyPercentageEvidence:a,vacancyPercentageNote:X.attachNotes[2].text,expensePercentage:[X.assessorValuationData.expensePerPetitioner,X.valuationPropertyData.expensePerPetitioner.toString()],expensePercentageEvidence:n,expensePercentageNote:X.attachNotes[3].text,expensePerSF:[X.assessorValuationData.expensePerSFPetitioner,X.valuationPropertyData.expensePerSFPetitioner.toString()],expensePerSFEvidence:r,expensePerSFNote:X.attachNotes[4].text,otherIncome:[X.assessorValuationData.otherIncomePetitioner,X.valuationPropertyData.otherIncomePetitioner.toString()],otherIncomeEvidence:o,otherIncomeNote:X.attachNotes[5].text,baseCapRate:[X.assessorValuationData.BCRPetitioner,X.valuationPropertyData.BCRPetitioner.toString()],baseCapRateEvidence:i,baseCapRateNote:X.attachNotes[6].text,effectiveTaxRate:[X.assessorValuationData.ETRPetitioner,X.valuationPropertyData.ETRPetitioner.toString()],effectiveTaxRateEvidence:c,effectiveTaxRateNote:X.attachNotes[7].text,freeRent:X.deductAndCapex.freeRent.toString(),freeRentEvidence:u,freeRentNote:X.attachNotes[8].text,leasingCommission:X.deductAndCapex.leasingCommision.toString(),leasingCommissionEvidence:p,leasingCommissionNote:X.attachNotes[9].text,tenantsImprovements:X.deductAndCapex.tenantImprovement.toString(),tenantsImprovementsEvidence:g,tenantsImprovementsNote:X.attachNotes[10].text,lostRent:X.deductAndCapex.lostRent.toString(),lostRentEvidence:v,lostRentNote:X.attachNotes[11].text,addBackExcessRent:X.deductAndCapex.exessRent.toString(),addBackExcessRentEvidence:h,addBackExcessRentNote:X.attachNotes[12].text,capEx:X.deductAndCapex.capex.toString(),capExEvidence:y,capExNote:X.attachNotes[13].text,totalDeductionsAddtions:X.deductAndCapex.TDA.toString(),totalDeductionsAddtionsEvidence:S,totalDeductionsAddtionsNote:X.attachNotes[14].text}};l.replaceValuationForm("/valuation/replace-valuation-form",P).then(function(e){var a=e.data;t("#preloader").css("display","none"),a.success?(f(),X.hideBeforeSelection=!0,X.createNew=!0,d(),t("#myUpdateModal").modal("hide"),s.$emit("success",a.message)):(f(),X.hideBeforeSelection=!0,X.createNew=!0,d(),t("#myUpdateModal").modal("hide"),s.$emit("error",a.message)),m()},function(e){t("#preloader").css("display","none"),t("#error_linking").fadeIn(1500).delay(500).fadeOut(500)})},s.fileUploaded=function(){X.FileNames=[];var e=document.getElementById("file-1").files;X.evidenceFiles=e;for(var a=0;a<e.length;a++)X.FileNames.push({name:e[a].name,description:"",uploadStatus:!0});X.FileNames.length>0&&t("#myModalquestion").modal("toggle")},X.uploadEvidenceFile=function(){if(X.evidenceFiles){t("#preloader").css("display","block");for(var e="/otherFiles/uploadOtherFiles?propId="+X.propertyId,a="",n=0;n<X.FileNames.length;n++)n+1==X.FileNames.length?a+=X.FileNames[n].description:a+=X.FileNames[n].description+",";i.uploadFilesWithDescription(e,X.evidenceFiles,a).then(function(e){var a=e.data;1==a.success?(t("#preloader").css("display","none"),s.$emit("success",a.message),m()):(t("#preloader").css("display","none"),t(".dangerr").fadeIn(1500).delay(500).fadeOut(500))},function(e){t("#preloader").css("display","none")})}},X.sortedAndSearchedEvidences=C,X.sortedAndSearchedSelectedEvidences=R,X.addToSelectedFiles=function(e){1==X.attachFileSelection?X.MREvidences.push(e):2==X.attachFileSelection?X.VacancyEvidences.push(e):3==X.attachFileSelection?X.ExpEvidences.push(e):4==X.attachFileSelection?X.ExpPSFEvidences.push(e):5==X.attachFileSelection?X.OIEvidences.push(e):6==X.attachFileSelection?X.BCREvidences.push(e):7==X.attachFileSelection?X.ETREvidences.push(e):8==X.attachFileSelection?X.FreeRentEvidences.push(e):9==X.attachFileSelection?X.LeasingEvidences.push(e):10==X.attachFileSelection?X.TenantImprovementEvidences.push(e):11==X.attachFileSelection?X.LostRentEvidences.push(e):12==X.attachFileSelection?X.AddBackEvidences.push(e):13==X.attachFileSelection?X.CapexEvidences.push(e):14==X.attachFileSelection&&X.DeductionEvidences.push(e);for(var t=0;t<X.allEvidenceFiles.length;t++){X.allEvidenceFiles[t]._id==e._id&&(X.allEvidenceFiles.splice(t,1),t-=1)}},X.removeFromSelectedFiles=function(e){for(var t=0;t<X.selectedEvidences.length;t++){X.selectedEvidences[t]._id==e._id&&(X.selectedEvidences.splice(t,1),X.allEvidenceFiles.push(e))}},X.viewParticularForm=function(e){X.createNew=!1,X.formName=e.name,localStorage.setItem("formName",X.formName),localStorage.getItem("selectedValuationForm"),t("#preloader").css("display","block"),o.series([function(e){h(e)},function(e){y(e)},function(t){E(e,t)},function(e){X.assessorModalData=[],l.getPetitionerModalsData().then(function(t){X.assessorModalData=t.data.result[0].models,e()},function(e){})}],function(e,a){t("#preloader").css("display","none")})},X.replace=function(e){X.isReplace=1===e},X.save=function(){X.alreadyExists=!1,X.isReplace=!1},X.cancel=O,X.redirectToWorkspace=function(t){localStorage.setItem("formId",t.valuationForm._id),localStorage.setItem("formName",t.name),localStorage.setItem("selectedValuationForm",angular.toJson(t)),e.go("ScenarioOne")};var ee=!1,te=!1;t(document).mouseup(function(e){ee=!1;var a=t(".box-one");t(".box-one").is(e.target)||a.is(e.target)||0!=a.has(e.target).length?ee=!0:s.showBoxOne=!1}),t(document).mouseup(function(e){te=!1;var a=t(".box-two");t(".box-two").is(e.target)||a.is(e.target)||0!=a.has(e.target).length?te=!0:s.showBoxTwo=!1,ee||te||(X.modalSelected=!0),s.$apply()}),t(document).on("click",".dropdown-menu",function(e){t(this).hasClass("keep-open-on-click")&&e.stopPropagation()}),X.numberFormatter=function(e,t){return c.numberFormatterValuation(e,t)},t("#for-1").click(function(){t(" .format1 ").show("slow"),t(" .format2 ").hide("slow"),t(" .format3").hide("slow")}),t("#for-2").click(function(){t(" .format2 ").show("slow"),t(" .format1 ").hide("slow"),t(" .format3 ").hide("slow")}),t("#for-3").click(function(){t(" .format3 ").show("slow"),t(" .format2 ").hide("slow"),t(" .format1 ").hide("slow")}),t(".btn-formats").click(function(e){t(this).addClass("btn-formats-active").siblings().removeClass("btn-formats-active")}),t(".toggle-btn").click(function(e){t(this).addClass("toggle-btn-active").siblings().removeClass("toggle-btn-active")}),s.$on("$destroy",function(){t("#myModal").modal("hide"),t("body").removeClass("modal-open"),t(".modal-backdrop").remove()}),X.showHideYear=function(){a(function(){X.yearChecked=!X.yearChecked},100)},X.showHideAOTC=function(){a(function(){X.recomendationChecked=!X.recomendationChecked},100)},X.exportToPDF=function(){t("#preloader").css("display","block");var e=new jsPDF("p","pt","a1"),a=t("#exportdiv")[0],n={"#bypassme":function(e,t){return!0}},r={top:20,bottom:20,left:20,width:2e3};e.fromHTML(a,r.left,r.top,{width:r.width,elementHandlers:n},function(a){var n=new Date,r=(n.getHours(),n.getMinutes(),n.getFullYear(),n.getMonth(),n.getDate(),e.output("blob")),o="/valuation/createAppealPackage?propId="+parseInt(localStorage.getItem("propertyId"))+"&year="+X.valuationYear+"&formId="+localStorage.getItem("formId");i.uploadFiles(o,[r]).then(function(e){K(e),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})},r)}}function r(){return{restrict:"A",link:function(e,t,a){for(var n=a.inputFocusFunction.split("."),r=e,o=0;o<n.length-1;o++)r=r[n[o]];r[n[n.length-1]]=function(){t[0].focus()}}}}n.$inject=["$state","$timeout","$rootScope","$stateParams","AOTCService","$scope","ValuationService","UtilService","PetitionerFormulae"],e.exports={PropValuation:n,inputFocusFunction:r};var o=a(97)}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e){return{restrict:"E",replace:!0,scope:{},require:"?ngModel",template:'<div class="asset-upload">Drag here to upload</div>',link:function(e,t,a,n){t.on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),t.on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}),t.on("drop",function(e){return e.preventDefault(),e.stopPropagation(),!1})}}}function n(e,a,n,r,o,i,s,l,c,u,d,p){function m(){t("#preloader").css("display","block");for(var e=[],a=0;a<h.propertiesToBeRegistered.length;a++){var n=h.propertiesToBeRegistered[a];1==n.state&&(delete n.state,n.orgFileName=h.fileName,e.push(n))}var o={properties:e,mapping:y};d.postDataToServer("/properties/addPropertiesList",o).then(function(e){t("#preloader").css("display","none"),e.data.success&&r.go("PropertyList.private_property_list",{propertyListMessage:"Data saved"})},function(e){t("#preloader").css("display","none")})}function f(){p(function(){h.checkAll=+!h.checkAll,h.checkAll?g(h.propertiesToBeRegistered,1):g(h.propertiesToBeRegistered,0)},100)}function g(e,t){for(var a=0;a<e.length;a++)e[a].state=t}function v(e){e.state=+!e.state,h.checkAll=0}var h=this;h.dtOptions=o.newOptions().withOption("lengthMenu",[[20,50,100,-1],[20,50,100,"All"]]).withOption("order",[[2,"asc"]]).withDisplayLength(20),h.dtColumnDefs=[i.newColumnDef(0).notSortable(),i.newColumnDef(1).notSortable()];var y=(localStorage.getItem("userId"),{}),S=[];h.old=s.hash(),h.showTableRelatedDivs=!1,h.showFileUploadFields=!0,h.mappingNeeded=!1,h.checkAll=0,h.data="none",h.myFile="",h.fileName="",h.myFile=[],h.propertiesToBeRegistered=[],h.onlyFileName="",n&&"from data mapping"==n.message&&(h.showFileUploadFields=!1,y=n.mappedData.mapping,S=n.mappedData.result,p(function(){h.propertiesToBeRegistered=[],h.onlyFileName=localStorage.getItem("onlyFileName"),h.propertiesToBeRegistered=S,h.fileName=localStorage.getItem("propertyFileName"),h.showTableRelatedDivs=!0,h.checkAll=1},100)),h.toggleCheckAll=f,h.toggleState=v,h.SavePropertiesList=m,l.fileUploaded=function(){l.$digest();var n={};if(n=document.getElementById("file-1").files,n.length>0){t("#preloader").css("display","block");var o=n[0];h.onlyFileName=o.name,localStorage.setItem("onlyFileName",h.onlyFileName);d.uploadFiles("/properties/uploadPropertyFiles",n).then(function(n){if(n.data.success){var o=n.data.result;localStorage.removeItem("targetDataFields"),localStorage.setItem("targetDataFields",angular.toJson(o.targetDataFields)),o.isAllDataMapped?(p(function(){localStorage.removeItem("mapData"),localStorage.setItem("propertyFileName",o.fileName),localStorage.setItem("mapData",angular.toJson(o.mapping)),h.checkAll=1,h.showTableRelatedDivs=!0,h.propertiesToBeRegistered=o.result},100),s.hash(h.old),s.hash("data"),a()):(localStorage.removeItem("mapData"),localStorage.setItem("propertyFileName",o.fileName),localStorage.setItem("mapData",angular.toJson(o.mapping)),r.go("map_data")),e.clearFile()}else{var i=n.data.message;l.$emit("danger",i),e.clearFile()}t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}},h.MapData=function(){localStorage.removeItem("mapData"),localStorage.setItem("mapData",angular.toJson(y)),r.go("map_data")}}n.$inject=["UtilService","$anchorScroll","$stateParams","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","__env","$log","AOTCService","$timeout"],a.$inject=["$http"],e.exports={Properties:n,upload:a}}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n){var r=this;r.signupData={name:"",lastName:"",middleName:"",company:"",designation:"designation",street1:"",street2:"",city:"",state:"Select State",zipCode:"",phone1:"",phone2:"",phone3:"",email1:"",email2:"",email3:"",username:"",password:"",securityQ1:"Select Question",securityA1:"",securityQ2:"Select Question",securityA2:"",securityQ3:"Select Question",securityA3:"",customerType:"Paying",role:"Admin"};!function(){t("#preloader").css("display","block");var a={getUserRoles:e.getDataFromServer("/users/getUserRoles"),getUSstates:e.getDataFromServer("/users/getUSstates")};n.all(a).then(function(e){t("#preloader").css("display","none");try{r.rolesList=e.getUserRoles.data.result[0].role}catch(e){}try{r.uSstates=e.getUSstates.data.result}catch(e){}},function(){t("#preloader").css("display","none")})}();r.clickSignUp=function(){t("#preloader").css("display","block");"Select Question"==r.signupData.securityQ1&&(r.signupData.securityQ1=""),"Select Question"==r.signupData.securityQ2&&(r.signupData.securityQ2=""),"Select Question"==r.signupData.securityQ3&&(r.signupData.securityQ3=""),r.signupData.password==r.signupData.passwordConfirm&&(delete r.signupData.passwordConfirm,e.postDataToServer("/users/addSingleUserNonRef",r.signupData).then(function(e){r.signupData={name:"",lastName:"",middleName:"",company:"",designation:"designation",street1:"",street2:"",city:"",state:"Select State",zipCode:"",phone1:"",phone2:"",phone3:"",email1:"",email2:"",email3:"",username:"",password:"",securityQ1:"Select Question",securityA1:"",securityQ2:"Select Question",securityA2:"",securityQ3:"Select Question",securityA3:"",customerType:"Paying",role:"Admin"},t("#preloader").css("display","none"),a.go("main")},function(e){t("#preloader").css("display","none")}))},angular.element(document).ready(function(){t("#btnlogin").click(function(e){e.preventDefault()})})}function n(){return{require:"ngModel",link:function(e,a,n,r){var o="#"+n.pwCheck;a.add(o).on("keyup",function(){e.$apply(function(){var e=a.val()===t(o).val();r.$setValidity("pwmatch",e)})})}}}a.$inject=["AOTCService","$state","$q"],n.$inject=[],e.exports={Signup:a,pwCheck:n}}).call(t,a(2))},,function(e,t,a){"use strict";(function(t){function a(e,t){function a(a){var n="/surveys/getSurveyReport?id="+a,r=e.defer();return t.getDataFromServer(n).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}return{getSurveyReports:a}}function n(e){var a=function(t){return e.btoa(unescape(encodeURIComponent(t)))},n=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})};return{tableToExcel:function(e,r){var o=t(e),i={worksheet:r,table:o.html()};return"data:application/vnd.ms-excel;base64,"+a(n('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',i))}}}a.$inject=["$q","AOTCService"],n.$inject=["$window"],e.exports={ReportService:a,Excel:n}}).call(t,a(2))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){e.debugEnabled(o.enableDebug)}function r(e,t){e.debug("Environment variables:"),e.debug(t)}a(139),a(140),a(141),a(142),a(143),a(144),a(145),a(146),a(147);var o={};window&&(Object.assign(o,window.__env),console.log(window.__env));var i=angular.module("AOTC",["ckeditor","ui.bootstrap",a(148),"ui.router","agGrid","datatables","datatables.buttons","datatables.columnfilter","uiGmapgoogle-maps","rzModule","angular-spinkit","ng.deviceDetector","ngFileUpload","xeditable","dndLists","angularjs-dropdown-multiselect","ui.toggle","ckeditor"]);i.run(["$rootScope","$uibModalStack","AOTCPermissions","AOTCAuth","$location","$state","AOTCService","$timeout",function(e,t,a,n,r,o,i,s){var l=localStorage.getItem("token")||null;try{var c=JSON.parse(localStorage.getItem("userJson"))||void 0;c&&a.setPermissions(c.roles,"permissionMainObj"),a.setPermissions(c.userData,"userObj")}catch(e){}l&&n.setToken(l),e.$on("$locationChangeStart",function(e,a,n){var r=t.getTop();r&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),t.dismiss(r.key))}),e.$on("$stateChangeStart",function(e,t){var n=t.permission;if(n){a.hasPermission(n.permissionKey,n.permissionObj)||(o.go(n.altState),e.preventDefault())}})}]),i.run(["editableOptions",function(e){e.theme="bs3"}]),n.$inject=["$logProvider"],i.config(n),i.config(["$locationProvider","$stateProvider","$urlRouterProvider","uiGmapGoogleMapApiProvider",function(e,t,a,n){t.state("BrowserOptimizing",{url:"/browser-optimization",templateUrl:"modules/BrowserOptimizing/browser-optimizing.html",controller:"BrowserOptimizing",controllerAs:"BrowserOptimizing"}).state("login",{url:"/login",templateUrl:"modules/login/login.html",controller:"login",controllerAs:"login"}).state("signup",{url:"/signup",templateUrl:"modules/signup/signup.html",controller:"Signup",controllerAs:"Signup"}).state("main",{url:"/main",templateUrl:"modules/main/main.html",controller:"main",controllerAs:"main"}).state("Registered",{url:"/users",templateUrl:"modules/UserModule/SingleRegistration/registered.html",controller:"Registered",controllerAs:"Registered",params:{messageFrom:null}}).state("UserRegistrations",{url:"/user-registrations",templateUrl:"modules/UserModule/MultipleRegistration/user_registration.html",controller:"UserRegistration",controllerAs:"UserRegistration"}).state("TaskManager",{url:"/task-manager",templateUrl:"modules/TaskManager/task-manager.html",controller:"TaskManagerCtrl",controllerAs:"TaskManagerCtrl",params:{messageFrom:null,message:null},permission:{permissionKey:"taskManager",permissionObj:"permissionMainObj",altRoute:"/main",altState:"main"}}).state("PropertyList",{url:"/all-property-list",templateUrl:"modules/PropertyModule/property-list/tabs-viewer/tabs-viewer.html",controller:"TabsViewerCtrl",controllerAs:"TabsViewerCtrl",permission:{permissionKey:"properties",permissionObj:"permissionMainObj",altRoute:"/main",altState:"main"}}).state("PropertyList.private_property_list",{url:"/private-properties",templateUrl:"modules/PropertyModule/property-list/tabs/pri-property-list/property-list.html",controller:"PropertyListCtrl",controllerAs:"PropertyListCtrl"}).state("PropertyList.pub_property_list",{url:"/public-properties",templateUrl:"modules/PropertyModule/property-list/tabs/public-property-list/public-property.html",controller:"PublicPropertyCtrl",controllerAs:"PublicPropertyCtrl"}).state("PropertiesData",{url:"/upload-properties",templateUrl:"modules/PropertyModule/UploadProperties/upload_properties.html",controller:"Properties",controllerAs:"Properties",params:{mappedData:null,message:null}}).state("ScenarioOne",{url:"/workspace-view-one",templateUrl:"modules/PropertyModule/property-workspace/ScenarioOne/Sensitivity/sensitivity.html",controller:"SensitivityOne",controllerAs:"SensitivityOne",permission:{permissionKey:"editValuationWorkspace",permissionObj:"permissionPerPropertyObj",altRoute:"/workspace-view-one-readonly",altState:"ScenarioOneReadonly"}}).state("ScenarioOneReadonly",{url:"/workspace-view-one-readonly",templateUrl:"modules/PropertyModule/property-workspace/ScenarioOne/Sensitivity/sensitivity-readonly.html",controller:"SensitivityOne",controllerAs:"SensitivityOne"}).state("SensitivityThree",{url:"/workspace-view-two",templateUrl:"modules/PropertyModule/property-workspace/ScenarioThree/Sensitivity/sensitivity.html",controller:"SensitivityThree",controllerAs:"SensitivityThree",permission:{permissionKey:"editValuationWorkspace",permissionObj:"permissionPerPropertyObj",altRoute:"/workspace-view-two-readonly",altState:"SensitivityThreeReadonly"}}).state("SensitivityThreeReadonly",{url:"/workspace-view-two-readonly",templateUrl:"modules/PropertyModule/property-workspace/ScenarioThree/Sensitivity/sensitivity-readonly.html",controller:"SensitivityThree",controllerAs:"SensitivityThree"}).state("propertyValuation",{url:"/property-valuation",templateUrl:"modules/PropertyModule/property-valuation/property-valuation.html",controller:"PropValuation",controllerAs:"PropValuation",permission:{permissionKey:"editValuationForm",permissionObj:"permissionPerPropertyObj",altRoute:"/property-valuation-readonly",altState:"propertyValuationReadonly"},params:{property:null,messageFrom:null}}).state("propertyValuationReadonly",{url:"/property-valuation-readonly",templateUrl:"modules/PropertyModule/property-valuation/property-valuation.html",controller:"PropValuation",controllerAs:"PropValuation",params:{property:null,messageFrom:null}}).state("propertyAssignment",{url:"/property-assignment",templateUrl:"modules/PropertyModule/PropertyAssignment/property-assignment.html",controller:"PropAssignment",controllerAs:"$ctrl",permission:{permissionKey:"assignProperty",permissionObj:"permissionPerPropertyObj",altRoute:"/private-properties",altState:"PropertyList.private_property_list"},params:{property:null}}).state("assignedUsersList",{url:"/assigned-users-list",templateUrl:"modules/PropertyModule/PropertyAssignment/AssignedUsers/assigned-users-list.template.html",controller:"AssignedUsersListCtrl",controllerAs:"$ctrl",permission:{permissionKey:"assignProperty",permissionObj:"permissionPerPropertyObj",altRoute:"/private-properties",altState:"PropertyList.private_property_list"},params:{property:null}}).state("propertyWorkspace",{url:"/property-workspace",templateUrl:"modules/PropertyModule/property-workspace/property-workspace.html",controller:"PropWorkspace",controllerAs:"PropWorkspace",params:{property:null}}).state("listProperties",{url:"/properties_list",templateUrl:"modules/PropertyModule/PropertyDetails/property_details.html",controller:"PropList",controllerAs:"PropList",params:{propertyListMessage:null,messageFrom:null}}).state("taxBill",{url:"/upload-tax-bill",templateUrl:"modules/PropertyModule/IE_RR_Module/ManualUpload/TaxBill/taxBill.html",controller:"taxBill",controllerAs:"taxBill",params:{propertyListMessage:null,messageFrom:null}}).state("unlinkedProperties",{url:"/unlinkedProperties",templateUrl:"modules/PropertyModule/IE_RR_Module/unlinkedProperties/unlinkedPropertiesViewer.html",controller:"unlinkedProperties",controllerAs:"unlinkedProperties"}).state("unlinkedProperties.corruptFiles",{url:"/corrupt-files",templateUrl:"modules/PropertyModule/IE_RR_Module/unlinkedProperties/tabs/corrupt/corrupt.html",controller:"corruptFiles",controllerAs:"corruptFiles"}).state("unlinkedProperties.unlinkedFiles",{url:"/unlinked-files",templateUrl:"modules/PropertyModule/IE_RR_Module/unlinkedProperties/tabs/unlinked/unlinked.html",controller:"unlinkedFiles",controllerAs:"unlinkedFiles"}).state("unlinkedProperties.unparsedFiles",{url:"/unparsed-files",templateUrl:"modules/PropertyModule/IE_RR_Module/unlinkedProperties/tabs/unparsed/unparsed.html",controller:"unparsedFiles",controllerAs:"unparsedFiles"}).state("uploadIERR",{url:"/uploadIERR",templateUrl:"modules/PropertyModule/IE_RR_Module/SingleUpload/uploadIERR.html",controller:"uploadIERR",controllerAs:"uploadIERR",params:{property:null}}).state("updateIERR",{url:"/update-IERR/:id",templateUrl:"modules/PropertyModule/IE_RR_Module/Update_IE_RR/update_IE_RR.html",controller:"updateIERR",controllerAs:"updateIERR",params:{property:null}}).state("manualIE",{url:"/manual-upload-income-expense",templateUrl:"modules/PropertyModule/IE_RR_Module/ManualUpload/IE/manualIE.html",controller:"manualIE",controllerAs:"manualIE",params:{property:null}}).state("manualRR",{url:"/manual-upload-rent-roll",templateUrl:"modules/PropertyModule/IE_RR_Module/ManualUpload/RR/manualRR.html",controller:"manualRR",controllerAs:"manualRR",params:{property:null}}).state("viewIERR",{url:"/viewIERR",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/viewIERR/viewIERR.html",controller:"viewIERR",controllerAs:"viewIERR",params:{property:null}}).state("viewIERR.propertyDetailsTab",{url:"/property-details-tab",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/propertyDetails/propertyDetails.html",controller:"PropertyDetailsTab",controllerAs:"PropertyDetailsTab",params:{property:null}}).state("viewIERR.public_property_tab",{url:"/public_property_tab",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/public_property_details/publicPropertyDetailsTab.html",controller:"PublicPropertyDetailsForProperty",controllerAs:"PublicPropertyDetailsTab"}).state("viewIERR.income_expense",{url:"/income_expense",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/income_expense/income_expense.html",controller:"income_expense",controllerAs:"income_expense",params:{property:null}}).state("viewIERR.rent_role",{url:"/rent_roll",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/rent_role/rent_role.html",controller:"rent_role",controllerAs:"rent_role",params:{property:null}}).state("viewIERR.other_files",{url:"/other_files",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/other_files/other_files.html",controller:"other_files",controllerAs:"other_files",params:{property:null}}).state("viewIERR.tax_bills",{url:"/tax_bills",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/tax_bills/tax_bills.html",controller:"tax_bills",controllerAs:"tax_bills",params:{property:null}}).state("multipleUploadIERR",{url:"/multipleUploadIERR",templateUrl:"modules/PropertyModule/IE_RR_Module/multipleUpload/multipleUploadIERR.html",controller:"multipleUploadIERR",controllerAs:"multipleUploadIERR"}).state("map_data",{url:"/data-mapping",templateUrl:"modules/PropertyModule/UploadProperties/map_data/map_data.html",controller:"Map",controllerAs:"Map",params:{parsedProperty:null}}).state("comparableSelection",{url:"/comparable-selection",templateUrl:"modules/ComparableModule/SalesComparable/ComparableSelection/ComparableSelection.html",controller:"ComparableSelection",controllerAs:"ComparableSelection"}).state("comparableProperties",{url:"/comparable-properties",templateUrl:"modules/ComparableModule/SalesComparable/ComparableProperties/ComparableProperties.html",controller:"ComparableProperties",controllerAs:"ComparableProperties"}).state("publicPropertyDetailsTab",{url:"/public-property-details",templateUrl:"modules/PropertyModule/IE_RR_Module/View_IE_RR/tabs/public_property_details/publicPropertyDetails.html",controller:"PublicPropertyDetailsTab",controllerAs:"PublicPropertyDetailsTab",params:{property:null}}).state("selectedComparable",{url:"/selected-properties-comparable",templateUrl:"modules/ComparableModule/SalesComparable/SelectedComparables/SelectedComparables.html",controller:"SelectedComparable",controllerAs:"SelectedComparable"}).state("viewAJData",{url:"/viewAJData",templateUrl:"modules/AJModules/ViewAJData/viewAJData.html",controller:"viewAJData",controllerAs:"viewAJData"}).state("viewAJForm",{url:"/viewAJForm",templateUrl:"modules/AJModules/ViewAJForm/viewAJForm.html",controller:"viewAJForm",controllerAs:"viewAJForm",params:{AJData:null}}).state("addSurvey",{url:"/addSurvey",templateUrl:"modules/AJModules/AddSurvey/addSurvey.html",controller:"addSurvey",controllerAs:"addSurvey"}).state("addSurveyDemo",{url:"/addSurveyDemo",templateUrl:"modules/AJModules/AddSurveyDemo/addSurveyDemo.html",controller:"addSurveyDemo",controllerAs:"addSurveyDemo"}).state("createComparablesForm",{url:"/create-comparables",templateUrl:"modules/ComparableModule/SalesComparable/ComparableForm/comparableForm.html",controller:"CreateComparablesForm",controllerAs:"CreateComparablesForm",params:{property:null}}).state("createPrincipalForm",{url:"/create-comparable-princpal",templateUrl:"modules/ComparableModule/SalesComparable/PrincipalForm/principalForm.html",controller:"CreatePrincipalForm",controllerAs:"CreatePrincipalForm",params:{property:null}}).state("AddQuestion",{url:"/question",templateUrl:"modules/SurveyModule/Wizards/AddQuestion/add-question.html",controller:"AddQuestionCtrl",controllerAs:"AddQuestionCtrl",params:{property:null}}).state("Survey",{url:"/surveys",templateUrl:"modules/SurveyModule/WizardsViewer/WizardsViewer.html",controller:"WizardsViewerCtrl",controllerAs:"WizardsViewerCtrl"}).state("SurveyList",{url:"/survey-list",templateUrl:"modules/SurveyModule/SurveyList/survey-list.html",controller:"SurveyList",controllerAs:"SurveyList",permission:{permissionKey:"surveys",permissionObj:"permissionMainObj",altRoute:"/main",altState:"main"}}).state("FillSurvey",{url:"/fill-survey/:id",templateUrl:"modules/SurveyModule/FillSurvey/fill-survey.html",controller:"FillSurvey",controllerAs:"FillSurvey"}).state("SubmissionList",{url:"/submission-list/:id",templateUrl:"modules/SurveyModule/SubmissionList/submission-list.html",controller:"SubmissionList",controllerAs:"SubmissionList"}).state("SurveySubmissions",{url:"/survey-submission/:id/:surveyId",templateUrl:"modules/SurveyModule/SurveySubmissions/surveySubmissions.html",controller:"SurveySubmissions",controllerAs:"SurveySubmissions"}).state("TaxAppeal",{url:"/appeal",templateUrl:"modules/PropertyModule/taxAppeal/tax-appeal.html",controller:"TaxAppeal",controllerAs:"TaxAppeal"}).state("Contract",{url:"/contract-builder",templateUrl:"modules/ContractModule/tabs-viewer/tabs-viewer.html",controller:"Contract",controllerAs:"Contract"}).state("ViewContract",{url:"/contract-builder/:id",templateUrl:"modules/ContractModule/tabs-viewer/tabs-viewer.html",controller:"Contract",controllerAs:"Contract"}).state("SavedContractList",{url:"/saved-contract-list",templateUrl:"modules/ContractModule/SavedContractList/saved-contract-list.html",controller:"SavedContractList",controllerAs:"SavedContractList",permission:{permissionKey:"contracts",permissionObj:"permissionMainObj",altRoute:"/main",altState:"main"}}).state("SectionSettings",{url:"/section-settings",templateUrl:"modules/SurveyModule/Wizards/sectionSettings/sectionSettings.component.html",controller:"sectionSettingsCtrl",controllerAs:"sectionSettingsCtrl"}).state("EditSurvey",{url:"/edit-survey/:id",templateUrl:"modules/SurveyModule/EditSurvey/editSurveyWizard/editSurveyWizard.component.html",controller:"editSurveyCtrl",controllerAs:"editSurveyCtrl"}).state("InvoiceList",{url:"/invoice-list/:id",templateUrl:"modules/ContractModule/InvoiceList/invoice-list.html",controller:"InvoiceList",controllerAs:"InvoiceList"}).state("NewInvoice",{url:"/new-invoice/:id",templateUrl:"modules/ContractModule/NewInvoice/new-invoice.html",controller:"NewInvoice",controllerAs:"$ctrl"}).state("Reports",{url:"/view-reports/:id",templateUrl:"modules/Reports/view-reports/view-reports.component.html",controller:"ViewReportsCtrl",controllerAs:"ViewReportsCtrl"}).state("Appeal",{url:"/appeal",templateUrl:"modules/Appeal/Form/form.template.html"}).state("TimelineGraphical",{url:"/timeline-graphical",templateUrl:"modules/Appeal/TimelineGraphical/timeline-graphical.template.html",controller:"timelineGraphicalCtrl",controllerAs:"$ctrl",permission:{permissionKey:"timeline",permissionObj:"permissionMainObj",altRoute:"/main",altState:"main"}}).state("inventory",{url:"/inventory",templateUrl:"modules/UserModule/Inventory/inventory.html",controller:"InventoryCtrl",controllerAs:"InventoryCtrl"}).state("user-rights",{url:"/user-rights",templateUrl:"modules/UserModule/UserRights/user-roles-list.template.html",controller:"UserRolesListCtrl",controllerAs:"$ctrl"}),a.otherwise("/login")}]),i.constant("__env",o),i.run(["$log","__env",r]),a(93),a(201),a(207),a(210),a(223),a(238),a(239),a(241),a(243),a(246),a(285),a(286),a(311),a(314),a(319),a(327),a(330),a(332),a(334)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){"use strict";var n=a(149);e.exports=n},function(e,t,a){"use strict";e.exports=angular.module("ui.utils.masks",[a(150),a(184),a(194),a(196),a(198)]).name},function(e,t,a){"use strict";var n=angular.module("ui.utils.masks.global",[]).directive("uiCreditCardMask",a(151)).directive("uiDateMask",a(152)).directive("uiMoneyMask",a(179)).directive("uiNumberMask",a(180)).directive("uiPercentageMask",a(181)).directive("uiScientificNotationMask",a(182)).directive("uiTimeMask",a(183));e.exports=n.name},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("0000 0000 0000 0000");e.exports=r({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,16)},format:function(e){var t;return t=o.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{creditCard:function(e){return 16===(e&&e.toString().length)}}})},function(e,t,a){"use strict";function n(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}([-+][0-9]{2}:[0-9]{2}|Z)$/.test(e.toString())}function r(e){var t={"pt-br":"DD/MM/YYYY",ru:"DD.MM.YYYY"},a=t[e.id]||"YYYY-MM-DD";return{restrict:"A",require:"ngModel",link:function(e,t,r,c){function u(e){if(c.$isEmpty(e))return null;var t=e;return("object"==typeof e||n(e))&&(t=o(e,a)),t=t.replace(/[^0-9]/g,""),(d.apply(t)||"").trim().replace(/[^0-9]$/,"")}r.parse=r.parse||"true",a=r.uiDateMask||a;var d=new l(a.replace(/[YMD]/g,"0"));c.$formatters.push(u),c.$parsers.push(function(e){if(c.$isEmpty(e))return e;var t=u(e);return c.$viewValue!==t&&(c.$setViewValue(t),c.$render()),"false"===r.parse?t:i(t,a,new Date)}),c.$validators.date=function(e,t){return!!c.$isEmpty(e)||s(i(t,a,new Date))&&t.length===a.length}}}}var o=a(153),i=a(169),s=a(87),l=a(10);r.$inject=["$locale"],e.exports=r},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=String(t),r=a||{},i=r.locale||d.default;if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var l=i.formatters||{},u=i.formattingTokensRegExp||S,p=i.formatLong,f=(0,s.default)(e,r);if(!(0,c.default)(f,r))return"Invalid Date";var v=f.getTimezoneOffset(),P=(0,h.default)(f,-v,r),D=(0,g.default)(r);return D.locale=i,D.formatters=m.default,D._originalDate=f,n.replace(y,function(e){return"["===e[0]?e:"\\"===e[0]?o(e):p(e)}).replace(u,function(e){var t=l[e]||m.default[e];return t?t(P,D):o(e)})}function o(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(13),s=n(i),l=a(87),c=n(l),u=a(88),d=n(u),p=a(166),m=n(p),f=a(91),g=n(f),v=a(168),h=n(v),y=/(\[[^[]*])|(\\)?(LTS|LT|LLLL|LLL|LL|L|llll|lll|ll|l)/g,S=/(\[[^[]*])|(\\)?(x|ss|s|mm|m|hh|h|do|dddd|ddd|dd|d|aa|a|ZZ|Z|YYYY|YY|X|Wo|WW|W|SSS|SS|S|Qo|Q|Mo|MMMM|MMM|MM|M|HH|H|GGGG|GG|E|Do|DDDo|DDDD|DDD|DD|D|A|.)/g;e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){a=a||{};var n;return n="string"==typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),a.addSuffix?a.comparison>0?"in "+n:n+" ago":n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(156),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=(0,r.default)({LT:"h:mm aa",LTS:"h:mm:ss aa",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY h:mm aa",LLLL:"dddd, MMMM D YYYY h:mm aa"});t.default=o,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e.replace(o,function(e){return e.slice(1)})}function r(e){var t={LTS:e.LTS,LT:e.LT,L:e.L,LL:e.LL,LLL:e.LLL,LLLL:e.LLLL,l:e.l||n(e.L),ll:e.ll||n(e.LL),lll:e.lll||n(e.LLL),llll:e.llll||n(e.LLLL)};return function(e){return t[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=/MMMM|MM|DD|dddd/g;e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a,n){return r[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={lastWeek:"[last] dddd [at] LT",yesterday:"[yesterday at] LT",today:"[today at] LT",tomorrow:"[tomorrow at] LT",nextWeek:"dddd [at] LT",other:"L"};e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"}Object.defineProperty(t,"__esModule",{value:!0});var o=a(159),i=n(o),s=a(160),l=n(s),c={narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u={short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},d={uppercase:["AM","PM"],lowercase:["am","pm"],long:["a.m.","p.m."]},p={ordinalNumber:r,weekday:(0,i.default)(c,"long"),weekdays:(0,l.default)(c,"long"),month:(0,i.default)(u,"long"),months:(0,l.default)(u,"long"),timeOfDay:(0,i.default)(d,"long",function(e){return e/12>=1?1:0}),timesOfDay:(0,l.default)(d,"long")};t.default=p,e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){return function(n,r){var o=r||{},i=o.type?String(o.type):t;return(e[i]||e[t])[a?a(Number(n)):Number(n)]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e,t){return function(a){var n=a||{},r=n.type?String(n.type):t;return e[r]||e[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(162),o=n(r),i=a(163),s=n(i),l=a(164),c=n(l),u=a(165),d=n(u),p=/^(\d+)(th|st|nd|rd)?/i,m={narrow:/^(su|mo|tu|we|th|fr|sa)/i,short:/^(sun|mon|tue|wed|thu|fri|sat)/i,long:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f={any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={short:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,long:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},v={any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h={short:/^(am|pm)/i,long:/^([ap]\.?\s?m\.?)/i},y={any:[/^a/i,/^p/i]},S={ordinalNumbers:(0,c.default)(p),ordinalNumber:d.default,weekdays:(0,o.default)(m,"long"),weekday:(0,s.default)(f,"any"),months:(0,o.default)(g,"long"),month:(0,s.default)(v,"any"),timesOfDay:(0,o.default)(h,"long"),timeOfDay:(0,s.default)(y,"any")};t.default=S,e.exports=t.default},function(e,t,a){"use strict";function n(e,t){return function(a,n){var r=n||{},o=r.type?String(r.type):t,i=e[o]||e[t];return String(a).match(i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e,t){return function(a,n){var r=n||{},o=r.type?String(r.type):t,i=e[o]||e[t],s=a[1];return i.findIndex(function(e){return e.test(s)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e){return function(t){return String(t).match(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e){return parseInt(e[1],10)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){t=t||"";var a=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),i=n%60;return a+o(r,2)+t+o(i,2)}function o(e,t){for(var a=Math.abs(e).toString();a.length<t;)a="0"+a;return a}Object.defineProperty(t,"__esModule",{value:!0});var i=a(167),s=n(i),l=a(89),c=n(l),u=a(90),d=n(u),p={M:function(e){return e.getUTCMonth()+1},Mo:function(e,t){var a=e.getUTCMonth()+1;return t.locale.localize.ordinalNumber(a,{unit:"month"})},MM:function(e){return o(e.getUTCMonth()+1,2)},MMM:function(e,t){return t.locale.localize.month(e.getUTCMonth(),{type:"short"})},MMMM:function(e,t){return t.locale.localize.month(e.getUTCMonth(),{type:"long"})},Q:function(e){return Math.ceil((e.getUTCMonth()+1)/3)},Qo:function(e,t){var a=Math.ceil((e.getUTCMonth()+1)/3);return t.locale.localize.ordinalNumber(a,{unit:"quarter"})},D:function(e){return e.getUTCDate()},Do:function(e,t){return t.locale.localize.ordinalNumber(e.getUTCDate(),{unit:"dayOfMonth"})},DD:function(e){return o(e.getUTCDate(),2)},DDD:function(e){return(0,s.default)(e)},DDDo:function(e,t){return t.locale.localize.ordinalNumber((0,s.default)(e),{unit:"dayOfYear"})},DDDD:function(e){return o((0,s.default)(e),3)},dd:function(e,t){return t.locale.localize.weekday(e.getUTCDay(),{type:"narrow"})},ddd:function(e,t){return t.locale.localize.weekday(e.getUTCDay(),{type:"short"})},dddd:function(e,t){return t.locale.localize.weekday(e.getUTCDay(),{type:"long"})},d:function(e){return e.getUTCDay()},do:function(e,t){return t.locale.localize.ordinalNumber(e.getUTCDay(),{unit:"dayOfWeek"})},E:function(e){return e.getUTCDay()||7},W:function(e){return(0,c.default)(e)},Wo:function(e,t){return t.locale.localize.ordinalNumber((0,c.default)(e),{unit:"isoWeek"})},WW:function(e){return o((0,c.default)(e),2)},YY:function(e){return o(e.getUTCFullYear(),4).substr(2)},YYYY:function(e){return o(e.getUTCFullYear(),4)},GG:function(e){return String((0,d.default)(e)).substr(2)},GGGG:function(e){return(0,d.default)(e)},H:function(e){return e.getUTCHours()},HH:function(e){return o(e.getUTCHours(),2)},h:function(e){var t=e.getUTCHours();return 0===t?12:t>12?t%12:t},hh:function(e){return o(p.h(e),2)},m:function(e){return e.getUTCMinutes()},mm:function(e){return o(e.getUTCMinutes(),2)},s:function(e){return e.getUTCSeconds()},ss:function(e){return o(e.getUTCSeconds(),2)},S:function(e){return Math.floor(e.getUTCMilliseconds()/100)},SS:function(e){return o(Math.floor(e.getUTCMilliseconds()/10),2)},SSS:function(e){return o(e.getUTCMilliseconds(),3)},Z:function(e,t){return r((t._originalDate||e).getTimezoneOffset(),":")},ZZ:function(e,t){return r((t._originalDate||e).getTimezoneOffset())},X:function(e,t){var a=t._originalDate||e;return Math.floor(a.getTime()/1e3)},x:function(e,t){return(t._originalDate||e).getTime()},A:function(e,t){return t.locale.localize.timeOfDay(e.getUTCHours(),{type:"uppercase"})},a:function(e,t){return t.locale.localize.timeOfDay(e.getUTCHours(),{type:"lowercase"})},aa:function(e,t){return t.locale.localize.timeOfDay(e.getUTCHours(),{type:"long"})}};t.default=p,e.exports=t.default},function(e,t,a){"use strict";function n(e,t){var a=(0,o.default)(e,t),n=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var r=a.getTime(),s=n-r;return Math.floor(s/i)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=864e5;e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){var n=(0,o.default)(e,a),r=Number(t);return n.setUTCMinutes(n.getUTCMinutes()+r),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var r=String(e),s=n||{},c=void 0===s.weekStartsOn?0:Number(s.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=s.locale||p.default,m=d.parsers||{},g=d.units||{};if(!d.match)throw new RangeError("locale must contain match property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var h=String(t).replace(D,function(e){return"["===e[0]?e:"\\"===e[0]?i(e):d.formatLong(e)});if(""===h)return""===r?(0,l.default)(a,s):new Date(NaN);var P=(0,y.default)(s);P.locale=d;var C,R=h.match(d.parsingTokensRegExp||b),I=R.length,x=[{priority:S,set:o,index:0}];for(C=0;C<I;C++){var w=R[C],F=m[w]||f.default[w];if(F){var A;if(!(A=F.match instanceof RegExp?F.match.exec(r):F.match(r,P)))return new Date(NaN);var T=F.unit,k=g[T]||v.default[T];x.push({priority:k.priority,set:k.set,value:F.parse(A,P),index:x.length});var E=A[0];r=r.slice(E.length)}else{var O=R[C].match(/^\[.*]$/)?R[C].replace(/^\[|]$/g,""):R[C];if(0!==r.indexOf(O))return new Date(NaN);r=r.slice(O.length)}}var $=x.map(function(e){return e.priority}).sort(function(e,t){return e-t}).filter(function(e,t,a){return a.indexOf(e)===t}).map(function(e){return x.filter(function(t){return t.priority===e}).reverse()}).map(function(e){return e[0]}),M=(0,l.default)(a,s);if(isNaN(M))return new Date(NaN);var N=(0,u.default)(M,M.getTimezoneOffset()),V={date:N},B=$.length;for(C=0;C<B;C++){var L=$[C];V=L.set(V,L.value,P)}return V.date}function o(e){var t=e.date,a=t.getTime(),n=t.getTimezoneOffset();return n=new Date(a+n*P).getTimezoneOffset(),e.date=new Date(a+n*P),e}function i(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=a(13),l=n(s),c=a(170),u=n(c),d=a(88),p=n(d),m=a(173),f=n(m),g=a(174),v=n(g),h=a(91),y=n(h),S=110,P=6e4,D=/(\[[^[]*])|(\\)?(LTS|LT|LLLL|LLL|LL|L|llll|lll|ll|l)/g,b=/(\[[^[]*])|(\\)?(x|ss|s|mm|m|hh|h|do|dddd|ddd|dd|d|aa|a|ZZ|Z|YYYY|YY|X|Wo|WW|W|SSS|SS|S|Qo|Q|Mo|MMMM|MMM|MM|M|HH|H|GGGG|GG|E|Do|DDDo|DDDD|DDD|DD|D|A|.)/g;e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Number(t);return(0,o.default)(e,-n,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(171),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Number(t);return(0,o.default)(e,n*i,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(172),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=6e4;e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=(0,o.default)(e,a).getTime(),r=Number(t);return new Date(n+r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){"use strict";function n(e){return parseInt(e[1],10)}Object.defineProperty(t,"__esModule",{value:!0});var r={M:/^(1[0-2]|0?\d)/,D:/^(3[0-1]|[0-2]?\d)/,DDD:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,W:/^(5[0-3]|[0-4]?\d)/,YYYY:/^(\d{1,4})/,H:/^(2[0-3]|[0-1]?\d)/,m:/^([0-5]?\d)/,Z:/^([+-])(\d{2}):(\d{2})/,ZZ:/^([+-])(\d{2})(\d{2})/,singleDigit:/^(\d)/,twoDigits:/^(\d{2})/,threeDigits:/^(\d{3})/,fourDigits:/^(\d{4})/,anyDigits:/^(\d+)/},o={YY:{unit:"twoDigitYear",match:r.twoDigits,parse:function(e){return n(e)}},YYYY:{unit:"year",match:r.YYYY,parse:n},GG:{unit:"isoYear",match:r.twoDigits,parse:function(e){return n(e)+1900}},GGGG:{unit:"isoYear",match:r.YYYY,parse:n},Q:{unit:"quarter",match:r.singleDigit,parse:n},Qo:{unit:"quarter",match:function(e,t){return t.locale.match.ordinalNumbers(e,{unit:"quarter"})},parse:function(e,t){return t.locale.match.ordinalNumber(e,{unit:"quarter"})}},M:{unit:"month",match:r.M,parse:function(e){return n(e)-1}},Mo:{unit:"month",match:function(e,t){return t.locale.match.ordinalNumbers(e,{unit:"month"})},parse:function(e,t){return t.locale.match.ordinalNumber(e,{unit:"month"})-1}},MM:{unit:"month",match:r.twoDigits,parse:function(e){return n(e)-1}},MMM:{unit:"month",match:function(e,t){return t.locale.match.months(e,{type:"short"})},parse:function(e,t){return t.locale.match.month(e,{type:"short"})}},MMMM:{unit:"month",match:function(e,t){return t.locale.match.months(e,{type:"long"})||t.locale.match.months(e,{type:"short"})},parse:function(e,t){var a=t.locale.match.month(e,{type:"long"});return null==a&&(a=t.locale.match.month(e,{type:"short"})),a}},W:{unit:"isoWeek",match:r.W,parse:n},Wo:{unit:"isoWeek",match:function(e,t){return t.locale.match.ordinalNumbers(e,{unit:"isoWeek"})},parse:function(e,t){return t.locale.match.ordinalNumber(e,{unit:"isoWeek"})}},WW:{unit:"isoWeek",match:r.twoDigits,parse:n},d:{unit:"dayOfWeek",match:r.singleDigit,parse:n},do:{unit:"dayOfWeek",match:function(e,t){return t.locale.match.ordinalNumbers(e,{unit:"dayOfWeek"})},parse:function(e,t){return t.locale.match.ordinalNumber(e,{unit:"dayOfWeek"})}},dd:{unit:"dayOfWeek",match:function(e,t){return t.locale.match.weekdays(e,{type:"narrow"})},parse:function(e,t){return t.locale.match.weekday(e,{type:"narrow"})}},ddd:{unit:"dayOfWeek",match:function(e,t){return t.locale.match.weekdays(e,{type:"short"})||t.locale.match.weekdays(e,{type:"narrow"})},parse:function(e,t){var a=t.locale.match.weekday(e,{type:"short"});return null==a&&(a=t.locale.match.weekday(e,{type:"narrow"})),a}},dddd:{unit:"dayOfWeek",match:function(e,t){return t.locale.match.weekdays(e,{type:"long"})||t.locale.match.weekdays(e,{type:"short"})||t.locale.match.weekdays(e,{type:"narrow"})},parse:function(e,t){var a=t.locale.match.weekday(e,{type:"long"});return null==a&&null==(a=t.locale.match.weekday(e,{type:"short"}))&&(a=t.locale.match.weekday(e,{type:"narrow"})),a}},E:{unit:"dayOfISOWeek",match:r.singleDigit,parse:function(e){return n(e)}},D:{unit:"dayOfMonth",match:r.D,parse:n},Do:{unit:"dayOfMonth",match:function(e,t){return t.locale.match.ordinalNumbers(e,{unit:"dayOfMonth"})},parse:function(e,t){return t.locale.match.ordinalNumber(e,{unit:"dayOfMonth"})}},DD:{unit:"dayOfMonth",match:r.twoDigits,parse:n},DDD:{unit:"dayOfYear",match:r.DDD,parse:n},DDDo:{unit:"dayOfYear",match:function(e,t){return t.locale.match.ordinalNumbers(e,{unit:"dayOfYear"})},parse:function(e,t){return t.locale.match.ordinalNumber(e,{unit:"dayOfYear"})}},DDDD:{unit:"dayOfYear",match:r.threeDigits,parse:n},A:{unit:"timeOfDay",match:function(e,t){return t.locale.match.timesOfDay(e,{type:"short"})},parse:function(e,t){return t.locale.match.timeOfDay(e,{type:"short"})}},aa:{unit:"timeOfDay",match:function(e,t){return t.locale.match.timesOfDay(e,{type:"long"})||t.locale.match.timesOfDay(e,{type:"short"})},parse:function(e,t){var a=t.locale.match.timeOfDay(e,{type:"long"});return null==a&&(a=t.locale.match.timeOfDay(e,{type:"short"})),a}},H:{unit:"hours",match:r.H,parse:n},HH:{unit:"hours",match:r.twoDigits,parse:n},h:{unit:"timeOfDayHours",match:r.M,parse:n},hh:{unit:"timeOfDayHours",match:r.twoDigits,parse:n},m:{unit:"minutes",match:r.m,parse:n},mm:{unit:"minutes",match:r.twoDigits,parse:n},s:{unit:"seconds",match:r.m,parse:n},ss:{unit:"seconds",match:r.twoDigits,parse:n},S:{unit:"milliseconds",match:r.singleDigit,parse:function(e){return 100*n(e)}},SS:{unit:"milliseconds",match:r.twoDigits,parse:function(e){return 10*n(e)}},SSS:{unit:"milliseconds",match:r.threeDigits,parse:n},Z:{unit:"timezone",match:r.Z,parse:function(e){var t=e[1],a=parseInt(e[2],10),n=parseInt(e[3],10),r=60*a+n;return"+"===t?r:-r}},ZZ:{unit:"timezone",match:r.ZZ,parse:function(e){var t=e[1],a=parseInt(e[2],10),n=parseInt(e[3],10),r=60*a+n;return"+"===t?r:-r}},X:{unit:"timestamp",match:r.anyDigits,parse:function(e){return 1e3*n(e)}},x:{unit:"timestamp",match:r.anyDigits,parse:n}};o.a=o.A,t.default=o,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(0===t){if(12===e)return 0}else if(12!==e)return 12+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var o=a(175),i=n(o),s=a(176),l=n(s),c=a(177),u=n(c),d=a(178),p=n(d),m=a(43),f=n(m),g=a(60),v=n(g),h={twoDigitYear:{priority:10,set:function(e,t){var a=Math.floor(e.date.getUTCFullYear()/100),n=100*a+t;return e.date.setUTCFullYear(n,0,1),e.date.setUTCHours(0,0,0,0),e}},year:{priority:10,set:function(e,t){return e.date.setUTCFullYear(t,0,1),e.date.setUTCHours(0,0,0,0),e}},isoYear:{priority:10,set:function(e,t,a){return e.date=(0,v.default)((0,p.default)(e.date,t,a),a),e}},quarter:{priority:20,set:function(e,t){return e.date.setUTCMonth(3*(t-1),1),e.date.setUTCHours(0,0,0,0),e}},month:{priority:30,set:function(e,t){return e.date.setUTCMonth(t,1),e.date.setUTCHours(0,0,0,0),e}},isoWeek:{priority:40,set:function(e,t,a){return e.date=(0,f.default)((0,u.default)(e.date,t,a),a),e}},dayOfWeek:{priority:50,set:function(e,t,a){return e.date=(0,i.default)(e.date,t,a),e.date.setUTCHours(0,0,0,0),e}},dayOfISOWeek:{priority:50,set:function(e,t,a){return e.date=(0,l.default)(e.date,t,a),e.date.setUTCHours(0,0,0,0),e}},dayOfMonth:{priority:50,set:function(e,t){return e.date.setUTCDate(t),e.date.setUTCHours(0,0,0,0),e}},dayOfYear:{priority:50,set:function(e,t){return e.date.setUTCMonth(0,t),e.date.setUTCHours(0,0,0,0),e}},timeOfDay:{priority:60,set:function(e,t,a){return e.timeOfDay=t,e}},hours:{priority:70,set:function(e,t,a){return e.date.setUTCHours(t,0,0,0),e}},timeOfDayHours:{priority:70,set:function(e,t,a){var n=e.timeOfDay;return null!=n&&(t=r(t,n)),e.date.setUTCHours(t,0,0,0),e}},minutes:{priority:80,set:function(e,t){return e.date.setUTCMinutes(t,0,0),e}},seconds:{priority:90,set:function(e,t){return e.date.setUTCSeconds(t,0),e}},milliseconds:{priority:100,set:function(e,t){return e.date.setUTCMilliseconds(t),e}},timezone:{priority:110,set:function(e,t){return e.date=new Date(e.date.getTime()-6e4*t),e}},timestamp:{priority:120,set:function(e,t){return e.date=new Date(t),e}}};t.default=h,e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){var n=a||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,s=void 0===i?0:Number(i),l=void 0===n.weekStartsOn?s:Number(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,o.default)(e,a),u=Number(t),d=c.getUTCDay(),p=u%7,m=(p+7)%7,f=(m<l?7:0)+u-d;return c.setUTCDate(c.getUTCDate()+f),c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){"use strict";function n(e,t,a){var n=Number(t);n%7==0&&(n-=7);var r=(0,o.default)(e,a),i=r.getUTCDay(),s=n%7,l=(s+7)%7,c=(l<1?7:0)+n-i;return r.setUTCDate(r.getUTCDate()+c),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(13),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){var n=(0,i.default)(e,a),r=Number(t),o=(0,l.default)(n,a)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=a(13),i=n(o),s=a(89),l=n(s);e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){var n=(0,i.default)(e,a),r=Number(t),o=(0,l.default)(n,a),s=Math.floor((n.getTime()-o.getTime())/c),u=new Date(0);return u.setUTCFullYear(r,0,4),u.setUTCHours(0,0,0,0),n=(0,l.default)(u,a),n.setUTCDate(n.getUTCDate()+s),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=a(13),i=n(o),s=a(60),l=n(s),c=864e5;e.exports=t.default},function(e,t,a){"use strict";function n(e,t){return{restrict:"A",require:"ngModel",link:function(a,n,s,l){function c(e){var t=e>0?p+new Array(e+1).join("0"):"",a="#"+m+"##0"+t;return angular.isDefined(s.uiCurrencyAfter)?a+=g:a=g+a,new r(a,{reverse:!0})}function u(e){if(l.$isEmpty(e))return e;angular.isDefined(s.uiIntegerModel)&&(e/=Math.pow(10,v));var t=angular.isDefined(s.uiNegativeNumber)&&e<0?"-":"",a=i.prepareNumberToFormatter(e,v);return angular.isDefined(s.uiCurrencyAfter)?t+y.apply(a)+f:t+f+y.apply(a)}function d(e){if(l.$isEmpty(e))return null;var t,a=e.replace(/[^\d]+/g,"");if(a=a.replace(/^[0]+([1-9])/,"$1"),a=a||"0",h&&angular.isDefined(s.uiCurrencyAfter)&&0!==a&&(a=a.substring(0,a.length-1),h=!1),t=angular.isDefined(s.uiCurrencyAfter)?y.apply(a)+f:f+y.apply(a),angular.isDefined(s.uiNegativeNumber)){var n="-"===e[0];"-"===e.slice(-1)^n&&a&&(a*=-1,t="-"+t)}e!==t&&(l.$setViewValue(t),l.$render());var r=parseInt(t.replace(/[^\d\-]+/g,""));return isNaN(r)?null:(angular.isDefined(s.uiIntegerModel)||(r/=Math.pow(10,v)),r)}var p=e.NUMBER_FORMATS.DECIMAL_SEP,m=e.NUMBER_FORMATS.GROUP_SEP,f=e.NUMBER_FORMATS.CURRENCY_SYM,g=" ",v=t(s.uiMoneyMask)(a),h=!1;n.bind("keydown keypress",function(e){h=8===e.which}),angular.isDefined(s.uiDecimalDelimiter)&&(p=s.uiDecimalDelimiter),angular.isDefined(s.uiThousandsDelimiter)&&(m=s.uiThousandsDelimiter),angular.isDefined(s.uiHideGroupSep)&&(m=""),angular.isDefined(s.uiHideSpace)&&(g=""),angular.isDefined(s.currencySymbol)&&(f=s.currencySymbol,0===s.currencySymbol.length&&(g="")),isNaN(v)&&(v=2),v=parseInt(v);var y=c(v);if(l.$formatters.push(u),l.$parsers.push(d),s.uiMoneyMask&&a.$watch(s.uiMoneyMask,function(e){v=isNaN(e)?2:e,v=parseInt(v),y=c(v),d(l.$viewValue)}),s.currency&&a.$watch(s.currency,function(e){f=e,y=c(v),d(l.$viewValue)}),s.min){var S;l.$validators.min=function(e){return o.minNumber(l,e,S)},a.$watch(s.min,function(e){S=e,l.$validate()})}if(s.max){var P;l.$validators.max=function(e){return o.maxNumber(l,e,P)},a.$watch(s.max,function(e){P=e,l.$validate()})}}}}var r=a(10),o=a(61),i=a(62);n.$inject=["$locale","$parse"],e.exports=n},function(e,t,a){"use strict";function n(e,t){return{restrict:"A",require:"ngModel",link:function(a,n,s,l){function c(e){if(l.$isEmpty(e))return null;var t=i.clearDelimitersAndLeadingZeros(e)||"0",a=g.apply(t),n=parseFloat(v.apply(t));if(angular.isDefined(s.uiNegativeNumber)){var r="-"===e[0];("-"===e.slice(-1)^r||"-"===e)&&(n*=-1,a="-"+(0!==n?a:""))}return l.$viewValue!==a&&(l.$setViewValue(a),l.$render()),n}function u(e){if(l.$isEmpty(e))return e;var t=angular.isDefined(s.uiNegativeNumber)&&e<0?"-":"",a=i.prepareNumberToFormatter(e,f);return t+g.apply(a)}function d(){"-"===l.$viewValue&&(l.$setViewValue(""),l.$render())}var p=e.NUMBER_FORMATS.DECIMAL_SEP,m=e.NUMBER_FORMATS.GROUP_SEP,f=t(s.uiNumberMask)(a);angular.isDefined(s.uiHideGroupSep)&&(m=""),isNaN(f)&&(f=2);var g=o.viewMask(f,p,m),v=o.modelMask(f);if(n.on("blur",d),l.$formatters.push(u),l.$parsers.push(c),s.uiNumberMask&&a.$watch(s.uiNumberMask,function(e){f=isNaN(e)?2:e,g=o.viewMask(f,p,m),v=o.modelMask(f),c(l.$viewValue)}),s.min){var h;l.$validators.min=function(e){return r.minNumber(l,e,h)},a.$watch(s.min,function(e){h=e,l.$validate()})}if(s.max){var y;l.$validators.max=function(e){return r.maxNumber(l,e,y)},a.$watch(s.max,function(e){y=e,l.$validate()})}}}}var r=a(61),o=a(92),i=a(62);n.$inject=["$locale","$parse"],e.exports=n},function(e,t,a){"use strict";function n(e,t,a){return s.clearDelimitersAndLeadingZeros((parseFloat(e)*a).toFixed(t))}function r(e){return{restrict:"A",require:"ngModel",link:function(t,a,r,l){function c(e){if(l.$isEmpty(e))return e;var t=angular.isDefined(r.uiNegativeNumber)&&e<0?"-":"",a=n(e,g,v.multiplier);return t+y.apply(a)+f}function u(e){if(l.$isEmpty(e))return null;var t=s.clearDelimitersAndLeadingZeros(e)||"0";""!==f&&e.length>1&&-1===e.indexOf("%")&&(t=t.slice(0,t.length-1)),p&&1===e.length&&"%"!==e&&(t="0");var a=y.apply(t)+f,n=parseFloat(S.apply(t));if(angular.isDefined(r.uiNegativeNumber)){var o="-"===e[0];("-"===e.slice(-1)^o||"-"===e)&&(n*=-1,a="-"+(0!==n?a:""))}return l.$viewValue!==a&&(l.$setViewValue(a),l.$render()),n}var d=e.NUMBER_FORMATS.DECIMAL_SEP,p=!1;a.bind("keydown keypress",function(e){p=8===e.which});var m=e.NUMBER_FORMATS.GROUP_SEP;angular.isDefined(r.uiHideGroupSep)&&(m="");var f=" %";angular.isDefined(r.uiHidePercentageSign)?f="":angular.isDefined(r.uiHideSpace)&&(f="%");var g=parseInt(r.uiPercentageMask);isNaN(g)&&(g=2);var v={multiplier:100,decimalMask:2};angular.isDefined(r.uiPercentageValue)&&(v.multiplier=1,v.decimalMask=0);var h=g+v.decimalMask,y=i.viewMask(g,d,m),S=i.modelMask(h);if(l.$formatters.push(c),l.$parsers.push(u),r.uiPercentageMask&&t.$watch(r.uiPercentageMask,function(e){g=isNaN(e)?2:e,h=g+v.decimalMask,y=i.viewMask(g,d,m),S=i.modelMask(h),u(c(l.$modelValue))}),r.min){var P;l.$validators.min=function(e){return o.minNumber(l,e,P)},t.$watch(r.min,function(e){P=e,l.$validate()})}if(r.max){var D;l.$validators.max=function(e){return o.maxNumber(l,e,D)},t.$watch(r.max,function(e){D=e,l.$validate()})}}}}var o=a(61),i=a(92),s=a(62);r.$inject=["$locale"],e.exports=r},function(e,t,a){"use strict";function n(e,t){function a(e){var t="0";if(e>0){t+=n;for(var a=0;a<e;a++)t+="0"}return new r(t,{reverse:!0})}var n=e.NUMBER_FORMATS.DECIMAL_SEP;return{restrict:"A",require:"ngModel",link:function(e,r,o,i){function s(e){var t=e.toString(),a=t.match(/(-?[0-9]*)[\.]?([0-9]*)?[Ee]?([\+-]?[0-9]*)?/);return{integerPartOfSignificand:a[1],decimalPartOfSignificand:a[2],exponent:0|a[3]}}function l(e){if(i.$isEmpty(e))return e;e="number"==typeof e?e.toExponential(u):e.toString().replace(n,".");var t,a,r=s(e),l=r.integerPartOfSignificand||0,c=l.toString();return angular.isDefined(r.decimalPartOfSignificand)&&(c+=r.decimalPartOfSignificand),(l>=1||l<=-1)&&(angular.isDefined(r.decimalPartOfSignificand)&&r.decimalPartOfSignificand.length>u||0===u&&c.length>=2)&&(a=c.slice(u+1,c.length),c=c.slice(0,u+1)),t=d.apply(c),0!==r.exponent&&(a=r.exponent),angular.isDefined(a)&&(t+="e"+a),(angular.isDefined(o.uiNegativeNumber)&&"-"===e[0]?"-":"")+t}function c(e){if(i.$isEmpty(e))return e;var t=/e-/.test(e),a=e.replace("e-","e"),r=l(a),o="-"===e.slice(-1);o^t&&(r=r.replace(/(e[-]?)/,"e-")),o&&t&&(r="-"!==r[0]?"-"+r:r.replace(/^(-)/,""));var s=parseFloat(r.replace(n,"."));return i.$viewValue!==r&&(i.$setViewValue(r),i.$render()),s}var u=t(o.uiScientificNotationMask)(e);isNaN(u)&&(u=2);var d=a(u);i.$formatters.push(l),i.$parsers.push(c),i.$validators.max=function(e){return i.$isEmpty(e)||e<Number.MAX_VALUE}}}}var r=a(10);n.$inject=["$locale","$parse"],e.exports=n},function(e,t,a){"use strict";var n=a(10);e.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,a,r){function o(e){if(r.$isEmpty(e))return e;var t=e.replace(/[^0-9]/g,"").slice(0,l)||"";return(c.apply(t)||"").replace(/[^0-9]$/,"")}var i="00:00:00";angular.isDefined(a.uiTimeMask)&&"short"===a.uiTimeMask&&(i="00:00");var s=i.length,l=i.replace(":","").length,c=new n(i);r.$formatters.push(o),r.$parsers.push(function(e){if(r.$isEmpty(e))return e;var t=o(e),a=t;return r.$viewValue!==t&&(r.$setViewValue(t),r.$render()),a}),r.$validators.time=function(e){if(r.$isEmpty(e))return!0;var t=e.toString().split(/:/).filter(function(e){return!!e}),a=parseInt(t[0]),n=parseInt(t[1]),o=parseInt(t[2]||0);return e.toString().length===s&&a<24&&n<60&&o<60}}}}},function(e,t,a){"use strict";var n=angular.module("ui.utils.masks.br",[]).directive("uiBrBoletoBancarioMask",a(185)).directive("uiBrCarPlateMask",a(186)).directive("uiBrCepMask",a(187)).directive("uiBrCnpjMask",a(188)).directive("uiBrCpfMask",a(189)).directive("uiBrCpfcnpjMask",a(190)).directive("uiBrIeMask",a(191)).directive("uiNfeAccessKeyMask",a(192)).directive("uiBrPhoneNumberMask",a(193));e.exports=n.name},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("00000.00000 00000.000000 00000.000000 0 00000000000000");e.exports=r({clearValue:function(e){return e.replace(/[^0-9]/g,"").slice(0,47)},format:function(e){return 0===e.length?e:o.apply(e).replace(/[^0-9]$/,"")},validations:{brBoletoBancario:function(e){return 47===e.length}}})},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("UUU-0000");e.exports=r({clearValue:function(e){return e.replace(/[^a-zA-Z0-9]/g,"").slice(0,7)},format:function(e){return(o.apply(e)||"").replace(/[^a-zA-Z0-9]$/,"")},validations:{carPlate:function(e){return 7===e.length}}})},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("00000-000");e.exports=r({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,8)},format:function(e){return(o.apply(e)||"").replace(/[^0-9]$/,"")},validations:{cep:function(e){return 8===e.toString().trim().length}}})},function(e,t,a){"use strict";var n=a(10),r=a(44),o=a(15),i=new n("00.000.000/0000-00");e.exports=o({clearValue:function(e){return e.replace(/[^\d]/g,"").slice(0,14)},format:function(e){return(i.apply(e)||"").trim().replace(/[^0-9]$/,"")},validations:{cnpj:function(e){return r.cnpj.validate(e)}}})},function(e,t,a){"use strict";var n=a(10),r=a(44),o=a(15),i=new n("000.000.000-00");e.exports=o({clearValue:function(e){return e.replace(/[^\d]/g,"").slice(0,11)},format:function(e){return(i.apply(e)||"").trim().replace(/[^0-9]$/,"")},validations:{cpf:function(e){return r.cpf.validate(e)}}})},function(e,t,a){"use strict";var n=a(10),r=a(44),o=a(15),i=new n("00.000.000/0000-00"),s=new n("000.000.000-00");e.exports=o({clearValue:function(e){return e.replace(/[^\d]/g,"").slice(0,14)},format:function(e){var t;return t=e.length>11?i.apply(e):s.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{cpf:function(e){return e.length>11||r.cpf.validate(e)},cnpj:function(e){return e.length<=11||r.cnpj.validate(e)}}})},function(e,t,a){"use strict";function n(e){function t(e){return e?e.replace(/[^0-9]/g,""):e}function a(e,a){if(e&&i[e]){if("SP"===e&&/^P/i.test(a))return i.SP[1].mask;for(var n=i[e],r=0;n[r].chars&&n[r].chars<t(a).length&&r<n.length-1;)r++;return n[r].mask}}function n(e,n){var r=a(n,e);if(!r)return e;var o=r.process(t(e)),i=o.result||"";return i=i.trim().replace(/[^0-9]$/,""),"SP"===n&&/^p/i.test(e)?"P"+i:i}return{restrict:"A",require:"ngModel",link:function(a,r,i,s){function l(e){return s.$isEmpty(e)?e:n(e,u)}function c(e){if(s.$isEmpty(e))return e;var a=n(e,u),r=t(a);return s.$viewValue!==a&&(s.$setViewValue(a),s.$render()),u&&"SP"===u.toUpperCase()&&/^p/i.test(e)?"P"+r:r}var u=(e(i.uiBrIeMask)(a)||"").toUpperCase();s.$formatters.push(l),s.$parsers.push(c),s.$validators.ie=function(e){return s.$isEmpty(e)||o.ie(u).validate(e)},a.$watch(i.uiBrIeMask,function(e){u=(e||"").toUpperCase(),c(s.$viewValue),s.$validate()})}}}var r=a(10),o=a(44),i={AC:[{mask:new r("00.000.000/000-00")}],AL:[{mask:new r("000000000")}],AM:[{mask:new r("00.000.000-0")}],AP:[{mask:new r("000000000")}],BA:[{chars:8,mask:new r("000000-00")},{mask:new r("0000000-00")}],CE:[{mask:new r("00000000-0")}],DF:[{mask:new r("00000000000-00")}],ES:[{mask:new r("00000000-0")}],GO:[{mask:new r("00.000.000-0")}],MA:[{mask:new r("000000000")}],MG:[{mask:new r("000.000.000/0000")}],MS:[{mask:new r("000000000")}],MT:[{mask:new r("0000000000-0")}],PA:[{mask:new r("00-000000-0")}],PB:[{mask:new r("00000000-0")}],PE:[{chars:9,mask:new r("0000000-00")},{mask:new r("00.0.000.0000000-0")}],PI:[{mask:new r("000000000")}],PR:[{mask:new r("000.00000-00")}],RJ:[{mask:new r("00.000.00-0")}],RN:[{chars:9,mask:new r("00.000.000-0")},{mask:new r("00.0.000.000-0")}],RO:[{mask:new r("0000000000000-0")}],RR:[{mask:new r("00000000-0")}],RS:[{mask:new r("000/0000000")}],SC:[{mask:new r("000.000.000")}],SE:[{mask:new r("00000000-0")}],SP:[{mask:new r("000.000.000.000")},{mask:new r("-00000000.0/000")}],TO:[{mask:new r("00000000000")}]};n.$inject=["$parse"],e.exports=n},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000");e.exports=r({clearValue:function(e){return e.replace(/[^0-9]/g,"").slice(0,44)},format:function(e){return(o.apply(e)||"").replace(/[^0-9]$/,"")},validations:{nfeAccessKey:function(e){return 44===e.length}}})},function(e,t,a){"use strict";var n=a(10),r=a(15),o={countryCode:new n("+00 (00) 0000-0000"),areaCode:new n("(00) 0000-0000"),simple:new n("0000-0000")},i={countryCode:new n("+00 (00) 00000-0000"),areaCode:new n("(00) 00000-0000"),simple:new n("00000-0000")},s={countryCode:null,areaCode:null,simple:new n("0000-000-0000")};e.exports=r({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,13)},format:function(e){var t;return t=0===e.indexOf("0800")?s.simple.apply(e):e.length<9?o.simple.apply(e)||"":e.length<10?i.simple.apply(e):e.length<11?o.areaCode.apply(e):e.length<12?i.areaCode.apply(e):e.length<13?o.countryCode.apply(e):i.countryCode.apply(e),t.trim().replace(/[^0-9]$/,"")},getModelValue:function(e,t){var a=this.clearValue(e);return"number"===t?parseInt(a):a},validations:{brPhoneNumber:function(e){var t=e&&e.toString().length;return t>=8&&t<=13}}})},function(e,t,a){"use strict";var n=angular.module("ui.utils.masks.ch",[]).directive("uiChPhoneNumberMask",a(195));e.exports=n.name},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("+00 00 000 00 00");e.exports=r({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,11)},format:function(e){var t;return t=o.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{chPhoneNumber:function(e){return 11===(e&&e.toString().length)}}})},function(e,t,a){"use strict";var n=angular.module("ui.utils.masks.fr",[]).directive("uiFrPhoneNumberMask",a(197));e.exports=n.name},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("00 00 00 00 00");e.exports=r({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,10)},format:function(e){var t;return t=o.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{frPhoneNumber:function(e){return 10===(e&&e.toString().length)}}})},function(e,t,a){"use strict";var n=angular.module("ui.utils.masks.us",[]).directive("uiUsPhoneNumberMask",a(199));e.exports=n.name},function(e,t,a){"use strict";var n=a(10),r=a(15),o=new n("(000) 000-0000"),i=new n("+00-00-000-000000");e.exports=r({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"")},format:function(e){var t;return t=e.length<11?o.apply(e)||"":i.apply(e),t.trim().replace(/[^0-9]$/,"")},validations:{usPhoneNumber:function(e){return e&&e.toString().length>9}}})},,function(e,t,a){"use strict";angular.module("AOTC").controller("addSurvey",a(202)),angular.module("AOTC").controller("addSurveyDemo",a(203)),angular.module("AOTC").directive("ajheader",a(204)),angular.module("AOTC").controller("viewAJData",a(205)),angular.module("AOTC").controller("viewAJForm",a(206))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p){function m(e,t){var a=null;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}}function f(){v.surveyData.questions[40].contactDetails=v.assessorDetails,v.surveyData.questions[41].contactDetails=v.boardDetails,v.surveyData.questions[39].answer=v.fiscalStartDate+"|"+v.fiscalEndDate,v.surveyData.questions[37].answer=JSON.stringify(v.billDueDates);t("#preloader").css("display","block"),d.postDataToServer("/aJRules/addAJRules",v.surveyData).then(function(e){t("#preloader").css("display","none"),s.$emit("success",e.data.message)},function(e){})}function g(e){e=!e}var v=this;v.assessorDetails=[],v.boardDetails=[],v.fiscalStartDate="",v.fiscalEndDate="",s.showUrl=!1,s.maximize1=!1,s.maximize2=!1,s.maximize3=!1,s.maximize4=!1,s.maximize5=!1,s.maximize6=!1,s.maximize7=!1,v.surveyData={surveyMetaData:{assessingAuthName:"",listRelevantWebsites:"",interviewer:"",phoneNumberCalled:"",dateCalled:"",interviewee:"",intervieweeOfficeAddress:"",intervieweeOfficeEmail:""},questions:[{qId:1,answer:""},{qId:2,answer:""},{qId:3,answer:""},{qId:4,answer:""},{qId:5,answer:""},{qId:6,answer:""},{qId:7,answer:""},{qId:8,answer:""},{qId:9,answer:""},{qId:10,answer:""},{qId:11,answer:""},{qId:12,answer:""},{qId:13,answer:""},{qId:14,answer:""},{qId:15,answer:""},{qId:16,answer:""},{qId:17,answer:""},{qId:18,answer:""},{qId:19,answer:""},{qId:20,answer:""},{qId:21,answer:""},{qId:22,answer:""},{qId:23,answer:""},{qId:24,answer:""},{qId:25,answer:""},{qId:26,answer:""},{qId:27,answer:""},{qId:28,answer:""},{qId:29,answer:""},{qId:30,answer:""},{qId:31,answer:""},{qId:32,answer:""},{qId:33,answer:""},{qId:34,answer:""},{qId:35,answer:""},{qId:36,answer:""},{qId:37,answer:""},{qId:38,answer:""},{qId:39,answer:""},{qId:40,answer:""},{qId:41,answer:"",contactDetails:[{email:"",address:"",phone:""}]},{qId:42,answer:"",contactDetails:[{email:"",address:"",phone:""}]},{qId:43,answer:"no"},{qId:44,answer:"no"},{qId:45,answer:"no"}]},s.typed=0,s.typing=0,s.typed2=0,s.typing2=0,s.$watch("typing2",m(function(){s.typed2=s.typing2,v.surveyData.questions[41].answer=s.typed2,s.boardContactDetails=[];for(var e=0;e<s.typed2;e++){var t={phone:"",email:"",address:""};s.boardContactDetails.push(t)}v.boardDetails=s.boardContactDetails,s.$apply()},500)),s.$watch("typing",m(function(){s.typed=s.typing,v.surveyData.questions[40].answer=s.typed,s.contactDetails=[];for(var e=0;e<s.typed;e++){var t={phone:"",email:"",address:""};s.contactDetails.push(t)}v.assessorDetails=s.contactDetails,s.$apply()},500)),s.numberOfBills=1,s.$watch("numberOfBills",m(function(){s.numberOfBillsHtmlFields=[];for(var e=0;e<s.numberOfBills;e++){var t={billDate:""};s.numberOfBillsHtmlFields.push(t)}v.billDueDates=s.numberOfBillsHtmlFields,s.$apply()},500)),v.addAJSurvey=f,v.togglePlusMinus=g,t("#sandbox-container input").datepicker({autoclose:!0}),t("#sandbox-container input").on("show",function(e){console.debug("show",e.date,t(this).data("stickyDate")),e.date?t(this).data("stickyDate",e.date):t(this).data("stickyDate",null)}),t("#sandbox-container input").on("hide",function(e){console.debug("hide",e.date,t(this).data("stickyDate"));var a=t(this).data("stickyDate");!e.date&&a&&(console.debug("restore stickyDate",a),t(this).datepicker("setDate",a),t(this).data("stickyDate",null))}),angular.element(document).ready(function(){t("#no").click(function(){t(".survey").hide()}),t("#yes").click(function(){t(".survey").show()}),t("#norules1").click(function(){t(".surveyrules").hide()}),t("#yesrules1").click(function(){t(".surveyrules").show()}),t("#noap").click(function(){t(".surveyap").hide()}),t("#yesap").click(function(){t(".surveyap").show()})})}a.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p){function m(e,t){var a=null;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}}function f(){v.surveyData.questions[40].contactDetails=v.assessorDetails,v.surveyData.questions[41].contactDetails=v.boardDetails,v.surveyData.questions[39].answer=v.fiscalStartDate+"|"+v.fiscalEndDate,v.surveyData.questions[37].answer=JSON.stringify(v.billDueDates);t("#preloader").css("display","block"),d.postDataToServer("/aJRules/addAJRules",v.surveyData).then(function(e){t("#preloader").css("display","none"),t("#popup_success").fadeIn(500).delay(1e3).fadeOut(500,function(){n.go("viewAJData")})},function(e){})}function g(e){e=!e}var v=this;v.assessorDetails=[],v.boardDetails=[],v.fiscalStartDate="",v.fiscalEndDate="",s.showUrl=!1,s.maximize1=!1,s.maximize2=!1,s.maximize3=!1,s.maximize4=!1,s.maximize5=!1,s.maximize6=!1,s.maximize7=!1,v.surveyData={surveyMetaData:{assessingAuthName:"",listRelevantWebsites:"",interviewer:"",phoneNumberCalled:"",dateCalled:"",interviewee:"",intervieweeOfficeAddress:"",intervieweeOfficeEmail:""},questions:[{qId:1,answer:""},{qId:2,answer:""},{qId:3,answer:""},{qId:4,answer:""},{qId:5,answer:""},{qId:6,answer:""},{qId:7,answer:""},{qId:8,answer:""},{qId:9,answer:""},{qId:10,answer:""},{qId:11,answer:""},{qId:12,answer:""},{qId:13,answer:""},{qId:14,answer:""},{qId:15,answer:""},{qId:16,answer:""},{qId:17,answer:""},{qId:18,answer:""},{qId:19,answer:""},{qId:20,answer:""},{qId:21,answer:""},{qId:22,answer:""},{qId:23,answer:""},{qId:24,answer:""},{qId:25,answer:""},{qId:26,answer:""},{qId:27,answer:""},{qId:28,answer:""},{qId:29,answer:""},{qId:30,answer:""},{qId:31,answer:""},{qId:32,answer:""},{qId:33,answer:""},{qId:34,answer:""},{qId:35,answer:""},{qId:36,answer:""},{qId:37,answer:""},{qId:38,answer:""},{qId:39,answer:""},{qId:40,answer:""},{qId:41,answer:"",contactDetails:[{email:"",address:"",phone:""}]},{qId:42,answer:"",contactDetails:[{email:"",address:"",phone:""}]},{qId:43,answer:"no"},{qId:44,answer:"no"},{qId:45,answer:"no"}]},s.typed=1,s.typing=1,s.typed2=1,s.typing2=1,s.$watch("typing2",m(function(){s.typed2=s.typing2,v.surveyData.questions[41].answer=s.typed2,s.boardContactDetails=[];for(var e=0;e<s.typed2;e++){var t={phone:"",email:"",address:""};s.boardContactDetails.push(t)}v.boardDetails=s.boardContactDetails,s.$apply()},500)),s.$watch("typing",m(function(){s.typed=s.typing,v.surveyData.questions[40].answer=s.typed,s.contactDetails=[];for(var e=0;e<s.typed;e++){var t={phone:"",email:"",address:""};s.contactDetails.push(t)}v.assessorDetails=s.contactDetails,s.$apply()},500)),s.numberOfBills=1,s.$watch("numberOfBills",m(function(){s.numberOfBillsHtmlFields=[];for(var e=0;e<s.numberOfBills;e++){var t={billDate:""};s.numberOfBillsHtmlFields.push(t)}v.billDueDates=s.numberOfBillsHtmlFields,s.$apply()},500)),v.addAJSurvey=f,v.togglePlusMinus=g,t("#sandbox-container input").datepicker({autoclose:!0}),t("#sandbox-container input").on("show",function(e){console.debug("show",e.date,t(this).data("stickyDate")),e.date?t(this).data("stickyDate",e.date):t(this).data("stickyDate",null)}),t("#sandbox-container input").on("hide",function(e){console.debug("hide",e.date,t(this).data("stickyDate"));var a=t(this).data("stickyDate");!e.date&&a&&(console.debug("restore stickyDate",a),t(this).datepicker("setDate",a),t(this).data("stickyDate",null))})}a.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","HackathonService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){return{templateUrl:"modules/AJModules/AJHeader/header.html",restrict:"EA",controller:["$scope","$location",function(e,a){if(localStorage.getItem("userJson")){var n=JSON.parse(localStorage.getItem("userJson"));e.name=n.userData.name}else t.go("login")}],controllerAs:"head",bindToController:!0}}n.$inject=["User_Config","$state"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){var f=this;f.tableData=[],f.dtOptions=o.newOptions().withDisplayLength(20).withOption("lengthMenu",[[20,50,100,-1],[20,50,100,"All"]]).withOption("order",[[3,"desc"]]).withOption("columnDefs",[{type:"date-euro",targets:3}]),f.dtColumnDefs=[],t("#preloader").css("display","block"),p.getDataFromServer("/aJRules/getAllSurveysMetaData").then(function(a){var n=a.data;n.success&&(f.tableData=n.result,0==f.tableData.length&&l.$emit("error",e.NO_DATA)),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")}),angular.element(document).ready(function(){t.extend(t.fn.dataTableExt.oSort,{"date-euro-pre":function(e){return moment(e,"DD-MM-YYYY HH:mm")},"date-euro-asc":function(e,t){return e.isBefore(t)?-1:t.isBefore(e)?1:0},"date-euro-desc":function(e,t){return e.isBefore(t)?1:t.isBefore(e)?-1:0}})})}a.$inject=["User_Config","$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){var f=this;f.tableData=[],l.maximize1=!1,l.maximize2=!1,l.maximize3=!1,l.maximize4=!1,l.maximize5=!1,l.maximize6=!1,l.maximize7=!1,f.hideBoardOfficeGrid=!1,f.hideAssessorOfficeGrid=!1,f.dtOptions=o.newOptions().withDisplayLength(5).withOption("lengthMenu",[[5,10,15,-1],[5,10,15,"All"]]).withOption("order",[[0,"asc"]]),f.dtColumnDefs=[],f.ajRulesData=[],f.AJData={},null!=a.AJData?(localStorage.setItem("AjData",angular.toJson(a.AJData)),f.AJData=a.AJData):f.AJData=JSON.parse(localStorage.getItem("AjData")),t("#preloader").css("display","block"),f.AJQuestions=[],f.assessorContacts=[],f.boardContacts=[],f.fiscalYearStartDate="",f.fiscalYearEndDate="",f.numberOfBills=[],p.getDataFromServer("/aJRules/getAllSurveysDataById?Id="+f.AJData.id).then(function(a){var n=a.data;if(n.success){f.AJQuestions=n.result,0==f.AJQuestions.length&&l.$emit("danger",e.NO_DATA);for(var r=0;r<f.AJQuestions.length;r++){var o=f.AJQuestions[r];if(38==o.id){var i=o.answer;f.numberOfBills=JSON.parse(i)}if(40==o.id){var s=o.answer.split("|");f.fiscalYearStartDate=s[0],f.fiscalYearEndDate=s[1],t("#40a").text(f.fiscalYearStartDate),t("#40b").text(f.fiscalYearEndDate)}41==o.id||42==o.id?(t("#"+o.id).val(o.answer),41==o.id&&(f.assessorContacts=o.contactDetails,0==f.assessorContacts.length&&(f.hideAssessorOfficeGrid=!0)),42==o.id&&(f.boardContacts=o.contactDetails,0==f.boardContacts.length&&(f.hideBoardOfficeGrid=!0))):t("#"+o.id).text(o.answer),43==o.id&&("yes"==o.answer?t(".survey").show():t(".survey").hide()),44==o.id&&("yes"==o.answer?t(".surveyrules").show():t(".surveyrules").hide()),45==o.id&&("yes"==o.answer?t(".surveyap").show():t(".surveyap").hide())}}else l.$emit("error",n.message);t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")}),angular.element(document).ready(function(){t("#no").click(function(){t(".survey").hide()}),t("#yes").click(function(){t(".survey").show()}),t("#norules1").click(function(){t(".surveyrules").hide()}),t("#yesrules1").click(function(){t(".surveyrules").show()}),t("#noap").click(function(){t(".surveyap").hide()}),t("#yesap").click(function(){t(".surveyap").show()}),t("#norules").click(function(){t(".surveyrules").hide()}),t("#yesrules").click(function(){t(".surveyrules").show()})})}a.$inject=["User_Config","$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").controller("BrowserOptimizing",a(208)),angular.module("AOTC").factory("BrowserOptimizingService",a(209))},function(e,t,a){"use strict";function n(e,t,a,n){function r(){localStorage.setItem("browserNotification",!0),n.go("login")}this.continueToLogin=r;localStorage.getItem("browserNotification")}n.$inject=["BrowserOptimizingService","deviceDetector","$scope","$state"],e.exports=n},function(e,t,a){"use strict";function n(e,t){return{}}n.$inject=["$http","$q"],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").component("comparableComponent",a(63).comparableComponent),angular.module("AOTC").directive("fileinput",a(63).fileinput),angular.module("AOTC").directive("ngImageSelect",a(63).ngImageSelect),angular.module("AOTC").controller("CreateComparablesForm",a(211)),angular.module("AOTC").controller("ComparableProperties",a(212)),angular.module("AOTC").factory("ComparablePropService",a(213)),angular.module("AOTC").service("ComparablePropUtil",a(214)),angular.module("AOTC").controller("ComparableSelection",a(215)),angular.module("AOTC").factory("ComparableSelectionService",a(216)),angular.module("AOTC").service("ComparableUtil",a(217)),angular.module("AOTC").controller("CreatePrincipalForm",a(218)),angular.module("AOTC").service("sharedService",a(219)),angular.module("AOTC").controller("SelectedComparable",a(220)),angular.module("AOTC").factory("ComparableService",a(221)),angular.module("AOTC").service("ComparableUtil",a(222))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){function f(){y.formData={},l.compForm.$setPristine(),l.compForm.$setUntouched()}function g(){t("#successModal").modal("hide"),r.go("updateIERR")}function v(){y.formData={},l.compForm.$setPristine(),l.compForm.$setUntouched(),t("#successModal").modal("toggle")}function h(){t("#preloader").css("display","block"),y.formData.compScore=y.formData.compScore,y.formData.taxAssessment=y.formData.taxAssessment.toString(),y.formData.percentile=y.formData.percentileValue.toString(),y.formData.rentLastUpdate=y.formData.rentLastUpdate.toString(),y.formData.rentValueChangeDuration=y.formData.rentValueChangeDuration.toString(),y.formData.taxAssessmentYear=y.formData.taxAssessmentYear.toString(),y.formData.rentValueChange=y.formData.rentValueChange.toString(),y.formData.finishedSqFt=y.formData.finishedSqFt.toString(),y.formData.lastUpdate=y.formData.lastUpdate.toString(),y.formData.rentAmount=y.PrinciplePropData.rentEstimate.toString(),y.formData.amount=y.PrinciplePropData.zEstimate.toString(),y.formData.valueChange=y.PrinciplePropData.valueChange.toString(),y.formData.valueChangeDuration=y.PrinciplePropData.valueChangeDuration.toString(),y.formData.valuationRangeHigh=y.PrinciplePropData.valuationRangeHigh.toString(),y.formData.valuationRangeLow=y.PrinciplePropData.valuationRangeLow.toString(),y.formData.lotSizeSqFt=y.PrinciplePropData.lotSizeSf.toString(),y.formData.lastSoldDate=y.PrinciplePropData.lastSoldDate.toString(),y.formData.lastSoldPrice=y.PrinciplePropData.lastSoldPrice.toString(),y.formData.yearBuilt=y.PrinciplePropData.yearBuilt.toString(),y.formData.imageFileName=y.PrinciplePropData.imageFileName,y.PrinciplePropData.imageFileName="",y.PrinciplePropData.valueChangeDuration=y.formData.valueChangeDuration,y.PrinciplePropData.rentValueChangeDuration=y.formData.rentValueChangeDuration,y.PrinciplePropData.valueChangeDuration=y.formData.valueChangeDuration;var e={};e.principal=[],e.comps=[],e.principal.push(y.PrinciplePropData),e.comps.push(y.formData),e.propId=localStorage.getItem("propertyId");p.postDataToServer("salesComps/addCompsToPropManual",e).then(function(e){e.data.success?(l.$emit("success",e.data.message),l.compForm.$setPristine(),l.compForm.$setUntouched(),t("#successModal").modal("toggle")):l.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}var y=this;t("#preloader").css("display","none"),y.submitManualData=h,y.property=JSON.parse(localStorage.getItem("propertyDetails")),y.formData={},y.PrinciplePropData=JSON.parse(localStorage.getItem("principalForm")),y.modalYesbutton=v,y.gotoPropertyDetails=g,y.resetForm=f,t("#sandbox-container input").datepicker({autoclose:!0}),t("#sandbox-container input").on("show",function(e){console.debug("show",e.date,t(this).data("stickyDate")),e.date?t(this).data("stickyDate",e.date):t(this).data("stickyDate",null)}),t("#sandbox-container input").on("hide",function(e){console.debug("hide",e.date,t(this).data("stickyDate"));var a=t(this).data("stickyDate");!e.date&&a&&(console.debug("restore stickyDate",a),t(this).datepicker("setDate",a),t(this).data("stickyDate",null))}),angular.element(document).ready(function(){t("#myModal").modal("show")})}a.$inject=["$stateParams","$anchorScroll","sharedService","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o){function i(){var e=JSON.parse(localStorage.getItem("zillowData")),a=[];e&&(a=e.comparables);for(var r=0;r<a.length;r++){for(var o=a[r],i=-1,s=0;s<m.zillowData.comparables.length;s++){m.zillowData.comparables[s].zpid==o.zpid&&(i=s,m.zillowData.comparables[s]=o)}-1==i&&m.zillowData.comparables.push(o)}var l=m.zillowData.comparables;l=p(l,"selection"),m.zillowData.comparables=l,n(function(){for(var e=0;e<m.zillowData.comparables.length;e++){t("#card_"+e).flip({trigger:"manual"})}},100)}function s(){for(var e=[],t=0;t<m.zillowData.comparables.length;t++)m.zillowData.comparables[t].selection&&e.push(m.zillowData.comparables[t]);if(e.length>0){var a={principal:m.zillowData.principal[0],comparables:e};localStorage.removeItem("zillowData"),localStorage.setItem("zillowData",angular.toJson(a)),o.go("selectedComparable")}else r.$emit("error","Please select some properties.")}function l(e){for(var t=0;t<e.length;t++){var a=m.zillowData.comparables[t];void 0===a.imageFileName?c(a.linksHomeDetails,t):a.imageFileName.indexOf("PropertyImages")||c(a.linksHomeDetails,t)}}function c(a,n){e.getZillowPropImage(a).then(function(e){var a=e.data;a.success&&(m.zillowData.comparables[n].imageFileName=a.result.mainImage,t("#mydiv").hide())},function(e){})}function u(e){t(e).flip(!1)}function d(e){t(e).flip(!0)}function p(e,t){return e.sort(function(e,a){var n=e[t];void 0==n&&(n=!1);var r=a[t];return void 0==r&&(r=!1),n>r?-1:n<r?1:0})}var m=this,f=JSON.parse(localStorage.getItem("propertyDetails"));m.address=f.streetAddress,m.zillowData=[],m.imageArr=[],m.flipBack=u,m.flipFront=d,m.addComparables=s,m.getZillowPropImage=c,"Residential User"===localStorage.getItem("role")&&(t("#preloader").css("display","block"),e.getZillowProperties().then(function(e){t("#preloader").css("display","none");var a=e.data;a.success?(m.zillowData=a.result,n(function(){i()},200),l(m.zillowData.comparables)):r.$emit("error",a.message)},function(e){}))}a.$inject=["ComparablePropService","User_Config","$timeout","$scope","$state"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(){var e=JSON.parse(localStorage.getItem("propertyDetails")),n=e.streetAddress.split(","),r={city:e.city,state:e.countryState,address:n[0]},o=t.defer();return a.postDataToServer("/salesComps/getZDeepCompsProperties",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function r(e){var n={propertyLink:e},r=t.defer();return a.postDataToServer("/salesComps/getZillowPropImage",n).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}return{getZillowProperties:n,getZillowPropImage:r}}n.$inject=["$http","$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";function n(){var e={};return e.sample=function(){},{Util:e}}n.$inject=[],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,t,a){function n(){a.go("comparableProperties")}function r(){a.go("comparableProperties")}function o(){a.go("createPrincipalForm")}var i=this;i.showResidentialProps=!0;var s=JSON.parse(localStorage.getItem("propertyDetails"));i.mainImage=s.imageFileName,void 0!=i.mainImage&&null!=i.mainImage||(i.mainImage="assets/img/noImageAvailable.jpg");var l=localStorage.getItem("role");localStorage.removeItem("zillowData"),l==t.RESIDENTIAL_USER&&(i.showResidentialProps=!1,function(){a.go("selectedComparable")}()),i.gotoResidentialProps=n,i.gotoCommercialProps=r,i.gotoCreateComprables=o}a.$inject=["ComparableSelectionService","User_Config","$state"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(){var e=JSON.parse(localStorage.getItem("propertyDetails")),n=e.streetAddress.split(","),r={city:e.city,state:e.countryState,address:n[0]},o=t.defer();return a.postDataToServer("/salesComps/GetDeepSearchResults",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function r(){var e=parseInt(localStorage.getItem("propertyId")),n="/salesComps/getSavedComps",r={propId:e},o=t.defer();return console.log(n),a.postDataToServer(n,r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}return{getSavedComparables:r,getDeepSearchResult:n}}n.$inject=["$http","$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";function n(){var e={};return e.sample=function(){},{Util:e}}n.$inject=[],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){function f(){y.formData={},l.compForm.$setPristine(),l.compForm.$setUntouched()}function g(){t("#successModal").modal("hide"),r.go("updateIERR")}function v(){y.formData={},l.compForm.$setPristine(),l.compForm.$setUntouched(),t("#successModal").modal("toggle")}function h(){y.formData.rentAmount=y.formData.rentEstimate.toString(),y.formData.amount=y.formData.zEstimate.toString(),y.formData.valueChange=y.formData.valueChange.toString(),y.formData.valueChangeDuration=y.formData.valueChangeDuration.toString(),y.formData.valuationRangeHigh=y.formData.valuationRangeHigh.toString(),y.formData.valuationRangeLow=y.formData.valuationRangeLow.toString(),y.formData.lotSizeSqFt=y.formData.lotSizeSf.toString(),y.formData.lastSoldDate=y.formData.lastSoldDate.toString(),y.formData.lastSoldPrice=y.formData.lastSoldPrice.toString(),y.formData.yearBuilt=y.formData.yearBuilt.toString(),y.formData.imageFileName=l.imagePath,n.principalForm=y.formData,localStorage.setItem("principalForm",angular.toJson(y.formData)),l.showComps=!0,y.PrinciplePropData=JSON.parse(localStorage.getItem("principalForm")),t("#myModalquestion").modal("hide")}l.imagePath="",l.isSubmitting=!1,l.showComps=!1,l.uploadPic=function(e){e.upload=Upload.upload({url:"salesComps/addCompsImageManual",data:{file:e}}),e.upload.then(function(t){m(function(){e.result=t.data,l.isSubmitting=!0,l.imagePath=e.result,h()})},function(e){e.status>0&&(l.errorMsg=e.status+": "+e.data)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))})};var y=this;y.submitManualData=h,y.property=JSON.parse(localStorage.getItem("propertyDetails")),y.formData={},y.modalYesbutton=v,y.gotoPropertyDetails=g,y.resetForm=f,localStorage.getItem("principalForm")&&(y.PrinciplePropData=JSON.parse(localStorage.getItem("principalForm")),l.showComps=!0),l.imageUpload=function(){l.imageSrc=[],t("#imageModal").modal("toggle")},t("#sandbox-container input").datepicker({autoclose:!0}),t("#sandbox-container input").on("show",function(e){console.debug("show",e.date,t(this).data("stickyDate")),e.date?t(this).data("stickyDate",e.date):t(this).data("stickyDate",null)}),t("#sandbox-container input").on("hide",function(e){console.debug("hide",e.date,t(this).data("stickyDate"));var a=t(this).data("stickyDate");!e.date&&a&&(console.debug("restore stickyDate",a),t(this).datepicker("setDate",a),t(this).data("stickyDate",null))})}a.$inject=["$stateParams","$anchorScroll","sharedService","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t){function a(){}a.$inject=[],e.exports=a},function(e,t,a){(function(t){function a(e,a,n,r,o,i,s){function l(e){if("null"==e.value||null==e.value||"undefined"==e.value)return""}function c(e){return s("number")(e.value,0)}function u(e){return s("currency")(e.value,"$",0)}function d(e){var t=e.node.data.id;if(1==e.node.selected)B.selectedcomparablesFromTable.push(t);else if(0==e.node.selected){var a=B.selectedcomparablesFromTable.indexOf(t);B.selectedcomparablesFromTable.splice(a)}}function p(){t("#preloader").css("display","block");var n=parseInt(localStorage.getItem("propertyId")),r={propId:n,compIds:B.selectedcomparablesFromTable};e.saveComparablesToProperties(r).then(function(e){B.selectedcomparablesFromTable=[],t("#preloader").css("display","none"),g(),e.data.success?a.$emit("success",e.data.message):a.$emit("error",e.data.message)},function(e){t("#preloader").css("display","none")})}function m(a){t("#preloader").css("display","block"),a=a||1,e.getComparables(a).then(function(e){var a=e.data;if(a.success)if(a.result.subjectProperty){B.defaultComs=!1,L={principal:a.result.subjectProperty.jurisdictionData,comparables:a.result},B.PrinciplePropData=L.principal,B.selectedComparables=a.result,B.PrinciplePropDataDetail={Jurisdiction:a.result.subjectProperty.jurisdictionData,Zillow:a.result.subjectProperty.zillowData,PO:a.result.subjectProperty.poData},t("#preloader").css("display","none"),j.rowData=[];for(var n=0;n<a.result.highProperties.length;n++){var r=a.result.highProperties[n];r.properties.value=r.value,r.properties.id=r.id,r.properties.imageFileName=r.zillow?"(Z)":"  ",j.rowData.push(r.properties)}var r=a.result.subjectProperty;r.properties=r.properties||{},r.properties.id=parseInt(localStorage.getItem("propertyId")),j.rowData.push(r.properties);for(var n=0;n<a.result.lowProperties.length;n++){var r=a.result.lowProperties[n];r.properties.value=r.value,r.properties.id=r.id,r.properties.imageFileName=r.zillow?"(Z)":"  ",j.rowData.push(r.properties)}o(function(){j.api.destroy();var e=document.querySelector("#myGridContracts");new agGrid.Grid(e,j),j.api.setRowData(j.rowData),f()}),o(function(){var e=document.getElementsByClassName("ag-body-viewport");e[0].scrollWidth>e[0].clientWidth||j.api.sizeColumnsToFit()},100),B.locations=[],v("lowProperties"),v("highProperties"),h(a.result.subjectProperty)}else getDeepSearchResult(),t("#preloader").css("display","none");else t("#preloader").css("display","none")},function(e){console.log("err : ",e),t("#preloader").css("display","none")})}function f(){var e=[];J.forEach(function(t){e.push(t.field)}),j.columnApi.autoSizeColumns(e)}function g(){t("#preloader").css("display","block"),e.getSavedComps().then(function(e){var a=e.data;if(a.success)if(a.result.subjectProperty){B.currentCriteria="Viewing saved comparables",B.defaultComs=!0,L={principal:a.result.subjectProperty.jurisdictionData,comparables:a.result},B.PrinciplePropData=L.principal,B.selectedComparables=a.result,B.PrinciplePropDataDetail={Jurisdiction:a.result.subjectProperty.jurisdictionData,Zillow:a.result.subjectProperty.zillowData,PO:a.result.subjectProperty.poData},t("#preloader").css("display","none"),j.rowData=[];var n=a.result.subjectProperty;n.properties=n.properties||{},n.properties.id=parseInt(localStorage.getItem("propertyId")),j.rowData.push(n.properties);for(var r=0;r<a.result.comparables.length;r++){var n=a.result.comparables[r];n.properties.value=n.value,n.properties.id=n.id,n.properties.imageFileName=n.zillow?"(Z)":"  ",j.rowData.push(n.properties)}o(function(){try{j.api.destroy()}catch(e){}var e=document.querySelector("#myGridContracts");new agGrid.Grid(e,j);var t=[];J.forEach(function(e){t.push(e.field)}),j.columnApi.autoSizeColumns(t)}),o(function(){var e=document.getElementsByClassName("ag-body-viewport");e[0].scrollWidth>e[0].clientWidth||j.api.sizeColumnsToFit()},100),B.locations=[],v("comparables"),h(a.result.subjectProperty)}else getDeepSearchResult(),t("#preloader").css("display","none");else t("#preloader").css("display","none")},function(e){console.log("err : ",e),t("#preloader").css("display","none")})}function v(e){for(var t=0;t<B.selectedComparables[e].length;t++){B.selectedComparables[e][t].properties.ownerAddress;var a={id:B.markerId++,coords:{latitude:B.selectedComparables[e][t].properties.latitude?parseFloat(B.selectedComparables[e][t].properties.latitude):0,longitude:B.selectedComparables[e][t].properties.longitude?parseFloat(B.selectedComparables[e][t].properties.longitude):0},description:{propertyName:B.selectedComparables[e][t].properties.ownerAddress,amount:s("currency")(B.selectedComparables[e][t].properties.totalAssessment),appealStatus:"",meritToAppealDetail:""},icon:"./assets/img/b (1).png",options:{draggable:!1}};"high"==B.selectedComparables[e][t].value&&(a.icon="./assets/img/marker-high.png"),"low"==B.selectedComparables[e][t].value&&(a.icon="./assets/img/marker-low.png"),"mid"==B.selectedComparables[e][t].value&&(a.icon="./assets/img/marker-mid.png"),B.locations.push(a)}}function h(e){B.locations.push({id:B.markerId++,coords:{latitude:e.lat,longitude:e.lng},description:{propertyName:e.ownerAddress,amount:s("currency")(e.totalAssessment),appealStatus:"",meritToAppealDetail:""},icon:"./assets/img/marker.png",options:{}}),B.icon="./assets/img/mark.png",B.map={center:{latitude:47.634705,longitude:-122.350054},showOverlay:!0,zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP},B.mapOptions={maxZoom:0}}function y(e){B.selectedMarker={},B.selectedMarker=e.model,B.map.center.latitude=B.selectedMarker.coords.latitude,B.map.center.longitude=B.selectedMarker.coords.longitude,B.markerWindowShow=!0}function S(){B.ShowPropertyDetail=!0}function P(){B.ShowPropertyDetail=!1}function D(){r.go("createPrincipalForm")}function b(e){B.modelMessage.title="Delete Comparable",B.modelMessage.message="Are you sure you want to delete this comparable from this property?",B.comparableDelete=e}function C(){null!=B.comparableDelete&&R(B.comparableDelete)}function R(n){n.id&&(t("#preloader").css("display","block"),e.deleteCompsFromProperty(n.id).then(function(e){t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")}));for(var r=0;r<B.selectedComparables.length;r++){B.selectedComparables[r].zpid==n.zpid&&B.selectedComparables.splice(r,1)}L.comparables=B.selectedComparables,localStorage.removeItem("zillowData"),localStorage.setItem("zillowData",angular.toJson(L)),a.$emit("success","Record deleted successfully")}function I(){B.showGrid=!0,B.showCards=!1,B.showPropertyMap=!1}function x(){B.showGrid=!1,B.showCards=!0,B.showPropertyMap=!1}function w(){B.showGrid=!1,B.showCards=!1,B.showPropertyMap=!0}function F(){for(var e=0;e<B.selectedComparables.length;e++){t("#card_"+e).flip({trigger:"manual"})}}function A(e){t(e).flip(!1)}function T(e){t(e).flip(!0)}function k(){O(t("#container")[0],"right",25,100,10)}function E(){O(t("#container")[0],"left",25,100,10)}function O(e,t,a,n,r){var o=0,i=setInterval(function(){"left"==t?e.scrollLeft-=r:e.scrollLeft+=r,(o+=r)>=n&&window.clearInterval(i)},a)}function $(){if(!(B.searchWordAllFile.toLowerCase().length>0))return B.allEvidenceFiles}function M(){if(!(B.searchWordSelectedFile.toLowerCase().length>0))return B.selectedEvidences}function N(){var e=localStorage.getItem("evidenceFilesAtServer");B.allEvidenceFiles=JSON.parse(e)}function V(){for(var e=0;e<B.currentPropSelected.evidenceId.length;e++)for(var t=B.currentPropSelected.evidenceId[e],a=0;a<B.allEvidenceFiles.length;a++){var n=B.allEvidenceFiles[a];n._id==t&&B.allEvidenceFiles.splice(a,1)}}var B=this;t(document).on("click",".col-select .dropdown-menu",function(e){e.stopPropagation()}),B.selectedComparables=[],B.showGrid=!0,B.showCards=!1,B.showResidentialProps=!1,B.mainImage="",B.showResidentialProps="",B.selectedcomparablesFromTable=[],B.searchWordAllFile="",B.searchWordSelectedFile="";var L;B.PrinciplePropData,B.selectedComparables,B.clickShowGrid=I,B.clickShowCards=x,B.flipBack=A,B.flipFront=T,B.saveComparables=p,B.deleteComparable=R,B.slideRight=k,B.slideLeft=E,B.clickShowPropertyDetail=S,B.clickShowPropertySummary=P,B.clickshowPropertyMap=w,B.markerClick=y,B.defaultComs=!0,B.currentCriteria="Viewing saved comparables",B.PrinciplePropDataDetail={PO:{area:"",bathrooms:"",bedrooms:"",buildingArea:"",expenditure:["",""],improvement:["",""],location:"",waterFront:"",yearBuilt:""}};var _=localStorage.getItem("role"),U=1;B.isResidential="Residential User"==_,function(){var e=JSON.parse(localStorage.getItem("propertyDetails"));B.mainImage=e.imageFileName,void 0!=B.mainImage&&null!=B.mainImage||(B.mainImage="assets/img/noImageAvailable.jpg")}(),function(){localStorage.getItem("role")==n.RESIDENTIAL_USER&&(B.showResidentialProps=!0)}(),o(function(){F()},200),B.comparableDelete="",B.modelMessage={title:"",message:""},B.deleteConfirmation=b,B.myModelCheck=C,B.createComparables=D,B.RemovePO=function(e){try{var t=B.PrinciplePropDataDetail.PO[e];if(-1==t.indexOf("(PO)"));else{var a=t.replace(" (PO)","");o(function(){B.PrinciplePropDataDetail.PO[e]=a})}}catch(e){}},B.AppendPO=function(e){try{var t=B.PrinciplePropDataDetail.PO[e];if(-1==t.indexOf("(PO)"))o(function(){t+=" (PO)",B.PrinciplePropDataDetail.PO[e]=t});else{var a=t.replace(" (PO)","");o(function(){t=a+" (PO)",B.PrinciplePropDataDetail.PO[e]=t})}}catch(e){}},B.SaveJurisdictionData=function(n){t("#preloader").css("display","block"),e.saveSubjectPropertyUpdatedData(n).then(function(e){t("#preloader").css("display","none"),e.data.success?a.$emit("success",e.data.message):a.$emit("error",e.data.message)},function(e){t("#preloader").css("display","none")})},B.SetLocality=function(e,t){if("Yes"==t)var a="No";else var a="No";switch(e){case"Rural":B.PrinciplePropDataDetail.PO.Urban=a,B.PrinciplePropDataDetail.PO.SubUrban=a;break;case"Urban":B.PrinciplePropDataDetail.PO.Rural=a,B.PrinciplePropDataDetail.PO.SubUrban=a;break;case"SubUrban":B.PrinciplePropDataDetail.PO.Urban=a,B.PrinciplePropDataDetail.PO.Rural=a}};var j,q=[],J=[];J=B.isResidential?[{headerName:"",field:"imageFileName",width:70,pinned:"left",checkboxSelection:!0,headerCheckboxSelection:!0,minWidth:25},{headerName:"Address",field:"streetName",pinned:"left"},{headerName:"<span title='Data from Assessing Jurisdiction'> District <br> Number <br> (Assr)</span>",field:"districtNumber",width:110,hide:!0},{headerName:"<span title='Data from Assessing Jurisdiction'>Tax Account No <br> (Assr)</span>",field:"taxAccountNo",width:100,cellClass:"right-align-text",hide:!0},{headerName:"<span title='Data from Assessing Jurisdiction'>Record Owner <br> Name <br> (Assr)</span>",field:"recordOwnerName",hide:!0},{headerName:"<span title='Data from Assessing Jurisdiction'>Owner City <br> (Assr)</span>",field:"ownerCity",hide:!0},{headerName:"<span title='Data from Assessing Jurisdiction'>Owner State <br> (Assr) </span>",field:"ownerState",width:110,hide:!0},{headerName:"<span title='Data from Assessing Jurisdiction'>Zip Code <br> (Assr) </span>",field:"zipCode",width:80,cellClass:"right-align-text",hide:!0},{headerName:"<span title='Data from Assessing Jurisdiction'> Street <br> Number <br> (Assr)</span> </span>",field:"streetNumber",width:110},{headerName:"<span title='Data from Assessing Jurisdiction'> Street <br> Direction <br> (Assr) </span>",field:"streetDirection",cellRenderer:l},{headerName:"<span title='Data from Assessing Jurisdiction'> Street Name <br> (Assr) </span>",field:"streetName"},{headerName:"<span title='Data from Assessing Jurisdiction'> Street <br> Type <br> (Assr) </span>",field:"streetType"},{headerName:"<span title='Data from Assessing Jurisdiction'> Reval <br> Year <br> (Assr) </span>",field:"revalYear",width:110},{headerName:"<span title='Data from Assessing Jurisdiction'> Year <br> Built <br> (Assr) </span>",field:"yearBuilt",width:110},{headerName:"<span title='Data from Assessing Jurisdiction'> Building <br> Area <br> (Assr) </span>",field:"buildingArea",width:110,cellRenderer:c,cellClass:"right-align-text"},{headerName:" <span title='Consideration equals sale price'>Consideration <br> (Assr) </span>",field:"consideration",width:110,cellRenderer:u,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Sales Per<br> Sq Ft <br> (Assr)",field:"salesPerSqFt",width:110,cellClass:"right-align-text",cellRenderer:u},{headerName:"Transfer <br> Date <br> (Assr)",field:"transferDate",width:110,hide:!0,headerCellTemplate:function(){var e=document.createElement("span");return e.innerHTML='<div title="Data from Assessing Jurisdiction" style="text-align: left;">  <div style="padding: 4px; overflow: hidden; text-overflow: ellipsis;"> Transfer Date <br> (Assr)    <span id="myMenuButton"><i class="fa fa-toggle-off" aria-hidden="true"></i></span>  </div></div>',e.querySelector("#myMenuButton").addEventListener("click",function(){function e(e){for(var t=0;t<J.length;t++)if(-1!=J[t].field.indexOf(e))return t}var t=e("transferDate");J[t].hide=!0,t=e("transferYear"),J[t].hide=!1,j.api.setColumnDefs(J),f()}),e}},{headerName:"Transfer <br> Year <br> (Assr)",field:"transferYear",width:110,headerCellTemplate:function(){var e=document.createElement("span");return e.innerHTML='<div title="Data from Assessing Jurisdiction" style="text-align: left;">  <div style="padding: 4px; overflow: hidden; text-overflow: ellipsis;"> Transfer Year <br> (Assr)    <span id="myMenuButton2"><i class="fa fa-toggle-on" aria-hidden="true"></i></span>  </div></div>',e.querySelector("#myMenuButton2").addEventListener("click",function(){function e(e){for(var t=0;t<J.length;t++)if(-1!=J[t].field.indexOf(e))return t}var t=e("transferYear");J[t].hide=!0,t=e("transferDate"),J[t].hide=!1,j.api.setColumnDefs(J),f()}),e}},{headerName:"<span title='Data from Assessing Jurisdiction'> Total <br> Value <br> (Assr) </span>",field:"totalValue",width:110,cellRenderer:u,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Value Per <br> Sq Ft <br> (Assr) </span>",field:"valuePerSqFt",width:110,cellRenderer:u,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Land <br> Area <br> (Assr) </span>",field:"landArea",width:110,cellRenderer:c,cellClass:"right-align-text"},{headerName:"<span title='data from Zillow'> Bedroom <br> (Zillow)",field:"bedrooms",width:80,cellClass:"right-align-text"},{headerName:"<span title='data from Zillow'> Bathroom <br> (Zillow)",field:"bathrooms",width:80,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Condition <br> (Assr) </span>",field:"condition",width:90}]:[{headerName:"",field:"imageFileName",width:70,pinned:"left",checkboxSelection:!0,headerCheckboxSelection:!0,minWidth:25},{headerName:"Address",field:"streetName",pinned:"left"},{headerName:"<span title='Data from Assessing Jurisdiction'> Street <br> Number <br> (Assr)</span> </span>",field:"streetNumber",width:110},{headerName:"<span title='Data from Assessing Jurisdiction'> Street <br> Direction <br> (Assr) </span>",field:"streetDirection",cellRenderer:l},{headerName:"<span title='Data from Assessing Jurisdiction'> Street Name <br> (Assr) </span>",field:"streetName"},{headerName:"<span title='Data from Assessing Jurisdiction'> Street <br> Type <br> (Assr) </span>",field:"streetType"},{headerName:"Transfer <br> Date <br> (Assr)",field:"transferDate",width:110,hide:!0,headerCellTemplate:function(){var e=document.createElement("span");return e.innerHTML='<div title="Data from Assessing Jurisdiction" style="text-align: left;">  <div style="padding: 4px; overflow: hidden; text-overflow: ellipsis;"> Transfer Date <br> (Assr)    <span id="myMenuButton"><i class="fa fa-toggle-off" aria-hidden="true"></i></span>  </div></div>',e.querySelector("#myMenuButton").addEventListener("click",function(){function e(e){for(var t=0;t<J.length;t++)if(-1!=J[t].field.indexOf(e))return t}var t=e("transferDate");J[t].hide=!0,t=e("transferYear"),J[t].hide=!1,j.api.setColumnDefs(J),f()}),e}},{headerName:"Transfer <br> Year <br> (Assr)",field:"transferYear",width:110,headerCellTemplate:function(){var e=document.createElement("span");return e.innerHTML='<div title="Data from Assessing Jurisdiction" style="text-align: left;">  <div style="padding: 4px; overflow: hidden; text-overflow: ellipsis;"> Transfer Year <br> (Assr)    <span id="myMenuButton2"><i class="fa fa-toggle-on" aria-hidden="true"></i></span>  </div></div>',e.querySelector("#myMenuButton2").addEventListener("click",function(){function e(e){for(var t=0;t<J.length;t++)if(-1!=J[t].field.indexOf(e))return t}var t=e("transferYear");J[t].hide=!0,t=e("transferDate"),J[t].hide=!1,j.api.setColumnDefs(J),f()}),e}},{headerName:" <span title='Consideration equals sale price'>Consideration <br> (Assr) </span>",field:"consideration",width:110,cellRenderer:u,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Sales Per<br> Sq Ft <br> (Assr)",field:"salesPerSqFt",width:110,cellClass:"right-align-text",cellRenderer:u},{headerName:"<span title='Data from Assessing Jurisdiction'> Year <br> Built <br> (Assr) </span>",field:"yearBuilt",width:110},{headerName:"<span title='Data from Assessing Jurisdiction'> Building <br> Area <br> (Assr) </span>",field:"buildingArea",width:110,cellRenderer:c,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Condition <br> (Assr) </span>",field:"condition",width:90},{headerName:"<span title='Data from Assessing Jurisdiction'> Reval <br> Year <br> (Assr) </span>",field:"revalYear",width:110},{headerName:"<span title='Data from Assessing Jurisdiction'> Total <br> Value <br> (Assr) </span>",field:"totalValue",width:110,cellRenderer:u,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Value Per <br> Sq Ft <br> (Assr) </span>",field:"valuePerSqFt",width:110,cellRenderer:u,cellClass:"right-align-text"},{headerName:"<span title='Data from Assessing Jurisdiction'> Land <br> Area <br> (Assr) </span>",field:"landArea",width:110,cellRenderer:c,cellClass:"right-align-text"}],j={columnDefs:J,rowData:q,headerHeight:60,rowHeight:40,suppressCellSelection:!0,rowSelection:"multiple",enableColResize:!0,onRowSelected:d,getRowStyle:function(e){return"mid"===e.data.value?{"background-color":"#bbbbbb"}:"low"===e.data.value?{"background-color":"#ffa570"}:"high"===e.data.value?{"background-color":"#1dd490"}:null},domLayout:"autoHeight"},B.deleteComparables=function(){t("#preloader").css("display","block");var n=parseInt(localStorage.getItem("propertyId")),r={propId:n,compIds:B.selectedcomparablesFromTable};e.deleteCompsFromProperty(r).then(function(e){t("#preloader").css("display","none"),g(),B.selectedcomparablesFromTable=[],e.data.success?a.$emit("success",e.data.message):a.$emit("error",e.data.message)},function(e){t("#preloader").css("display","none")})},B.ColumnAddRemove=function(e,t,a,n,r){function o(e){for(var t=0;t<J.length;t++)if(-1!=J[t].field.indexOf(e))return t}if(r){var i=o(t);J[i].hide=!1,j.api.setColumnDefs(J),f()}else{var i=o(t);J[i].hide=!0,j.api.setColumnDefs(J),f()}},B.updateComsData=function(e,t){B.currentCriteria=t,U=e,m(e)},g(),B.markerId=0,B.selectedPropCaption="",B.popup={title:"Please explain",improvementYes:!1,expenditureYes:!1,improvementReason:"",expenditureReason:"",templateUrl:"modules/ComparableModule/SalesComparable/SelectedComparables/template.html",templateUrl2:"modules/ComparableModule/SalesComparable/SelectedComparables/template2.html",OpenDialogue:function(e){t("#myModalEvidence").modal("show"),B.selectedPropCaption=e},CheckYes:function(e,a){-1!=a.indexOf("Yes")?(t("#myModalEvidence").modal("show"),B.selectedPropCaption=e):B.PrinciplePropDataDetail.PO[e].options=[]}},B.AddNewDescriptionRow=function(){var e={explanation:"",evidenceId:[]};B.PrinciplePropDataDetail.PO[B.selectedPropCaption].options?B.PrinciplePropDataDetail.PO[B.selectedPropCaption].options.push(e):(B.PrinciplePropDataDetail.PO[B.selectedPropCaption].options=[],B.PrinciplePropDataDetail.PO[B.selectedPropCaption].options.push(e))},B.sortedAndSearchedEvidences=$,B.sortedAndSearchedSelectedEvidences=M,B.currentPropSelected={},B.OpenEvidenceModal=function(e){t("#myModalEvidence2").modal("show"),B.currentPropSelected=e,N(),V()},B.addToSelectedFiles=function(e){try{B.currentPropSelected.evidenceId.push(e._id)}catch(e){}for(var t=0;t<B.allEvidenceFiles.length;t++){B.allEvidenceFiles[t]._id==e._id&&(B.allEvidenceFiles.splice(t,1),t-=1)}},B.removeFromSelectedFiles=function(e){for(var t=0;t<B.currentPropSelected.evidenceId.length;t++){B.currentPropSelected.evidenceId[t]==e&&(B.currentPropSelected.evidenceId.splice(t,1),B.allEvidenceFiles.push({_id:e}))}}}a.$inject=["ComparableService","$scope","User_Config","$state","$timeout","AOTCService","$filter"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function n(e){var n=t.defer();return a("/salesComps/addCompsToProp",e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function r(e){var n={salesComps:[e]},r=t.defer();return a("/salesComps/deleteCompsFromProperty",n).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}function o(e){var n=parseInt(localStorage.getItem("propertyId")),r={propId:n,queryCriteria:e},o=t.defer();return a("/salesComps/getComparables",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function i(e){var n=parseInt(localStorage.getItem("propertyId")),r={propertyId:n},o=t.defer(),i="/salesComps/getSavedComps";return console.log("here is url: ",i),a(i,r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function s(e){var n=parseInt(localStorage.getItem("propertyId")),r={propertyId:n,data:e},o=t.defer();return a("/salesComps/saveSubjectPropertyUpdatedData",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function l(e){var n=t.defer();return a("/salesComps/deleteCompsFromProperty",e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return{saveComparablesToProperties:n,deleteComparables:r,getComparables:o,saveSubjectPropertyUpdatedData:s,getSavedComps:i,deleteCompsFromProperty:l}}n.$inject=["$http","$q"],e.exports=n},function(e,t,a){"use strict";function n(){var e={};return e.sample=function(){},{Util:e}}n.$inject=[],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").component("contractEditor",a(94).contractEditor),angular.module("AOTC").directive("ckEditor",a(94).directiveFunction),angular.module("AOTC").factory("newContractService",a(224)),angular.module("AOTC").component("contractTerms",a(225)),angular.module("AOTC").factory("newContractTermsService",a(226)),angular.module("AOTC").component("viewSampleCalculations",a(227)),angular.module("AOTC").service("SampleCalculationService",a(228)),angular.module("AOTC").controller("ContractTest",a(229)),angular.module("AOTC").controller("ContractWizardCtrl",a(230)),angular.module("AOTC").controller("InvoiceList",a(231)),angular.module("AOTC").factory("InvoiceListService",a(232)),angular.module("AOTC").controller("NewInvoice",a(233)),angular.module("AOTC").factory("NewInvoiceService",a(234)),angular.module("AOTC").controller("SavedContractList",a(235)),angular.module("AOTC").factory("SavedContractListService",a(236)),angular.module("AOTC").controller("Contract",a(237))},function(e,t,a){"use strict";function n(e,t,a){function n(){return f}function r(e){f=e}function o(){return g}function i(e){g=e}function s(){var e=a.defer();return t.getDataFromServer("/contracts/getContracts").then(function(t){e.resolve(t.data)},function(t){e.reject(t)}),e.promise}function l(e){var n=a.defer();return t.uploadFiles("/contracts/uploadContracts",e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function c(e){var n=a.defer();return t.postDataToServer("/contracts/addContractTemplate",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function u(e){var n=a.defer();return t.postDataToServer("/contracts/addContract",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function d(e){angular.forEach(e,function(e){v[e.id]=e.contracts})}function p(e){if(e)return v[e]}function m(e){var n=a.defer(),r={contractId:parseInt(e)};return t.postDataToServer("/contracts/getContractsById",r).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}var f=[],g=[],v={};return{addContract:u,getFinancialTermsAdded:o,setFinancialTermsAdded:i,getFinancialAndNonFinancialTerms:n,setFinancialAndNonFinancialTerms:r,getContracts:s,uploadContractsFiles:l,addContractTemplate:c,saveContractData:d,getContractData:p,getContractsByUserId:m,contractDataByUserId:{}}}n.$inject=["$http","AOTCService","$q"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i){function s(){e.financialTerms=[],e.nonFinancialTerms=[],t("#preloader").css("display","block"),n.getContractTerms().then(function(a){if(t("#preloader").css("display","none"),console.log(a),a.success)for(var n=a.result,r=0;r<n.length;r++)"fc"==n[r].type?e.financialTerms.push(n[r]):"nfc"==n[r].type&&e.nonFinancialTerms.push(n[r])},function(e){t("#preloader").css("display","none"),console.log(e)})}function l(a){var r=angular.copy(a);r.columns=JSON.stringify(r.columns),r.hasLevels&&(r.value=JSON.stringify(r.value)),t("#preloader").css("display","block"),n.updateContractTerms(r).then(function(a){if(t("#preloader").css("display","none"),console.log(a),!a.success)return void e.$emit("danger",a.message);e.$emit("success",a.message),t("#newTerm").modal("toggle"),s()},function(e){t("#preloader").css("display","none"),console.log(e)})}function c(a){var r=angular.copy(a);r.columns=JSON.stringify(r.columns),r.hasLevels&&(r.value=JSON.stringify(r.value)),t("#preloader").css("display","block"),n.addContractTerms(r).then(function(a){if(t("#preloader").css("display","none"),console.log(a),!a.success)return void e.$emit("danger",a.message);e.$emit("success",a.message),t("#newTerm").modal("toggle"),s()},function(e){t("#preloader").css("display","none"),console.log(e)})}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)}function d(){e.totalFee=0;for(var t=0;t<e.financialTermsAdded.length;t++)if(e.financialTermsAdded[t].hasLevels)for(var a=0;a<e.financialTermsAdded[t].value.length;a++)console.log(e.financialTermsAdded[t]),e.totalFee+=parseFloat(e.financialTermsAdded[t].value[a].calculatedFee);else e.totalFee+=e.financialTermsAdded[t].calculatedFee;e.totalFee=parseFloat(e.totalFee).toFixed(2)}console.log("contract-terms component"),e.financialAndNonFinancialTerms=[],e.financialTermsAdded=[],e.financialTerms=[],e.nonFinancialTerms=[],e.preAppealValue=318780,e.postAppealValue=15761567*.0198,e.contractId=o.id||null,e.IsViewMode=!!o.id,e.preAppealValue=parseFloat(e.preAppealValue).toFixed(2),e.postAppealValue=parseFloat(e.postAppealValue).toFixed(2),e.netTaxSavingsGlobal=parseFloat(e.preAppealValue-e.postAppealValue).toFixed(2),e.$on("contractDataByUserId-added",function(){try{e.financialAndNonFinancialTerms=a.contractDataByUserId.nonFinancialTerms}catch(e){}}),s(),e.AcceptTerms=function(){a.setFinancialAndNonFinancialTerms(e.financialAndNonFinancialTerms),e.$emit("financialAndNonFinancialTerms",[])},e.addTerm=function(t,a){if(t.state)e.financialAndNonFinancialTerms.push(angular.copy(t)),"financialTerms"==a&&(t.rowspan=1,t.hasLevels&&(t.rowspan=t.value.length+1),e.CalculateFee(t),e.financialTermsAdded.push(angular.copy(t)),d());else{for(var n=0;n<e.financialAndNonFinancialTerms.length;n++)e.financialAndNonFinancialTerms[n].label==t.label&&e.financialAndNonFinancialTerms.splice(n,1);for(var n=0;n<e.financialTermsAdded.length;n++)e.financialTermsAdded[n].label==t.label&&(e.financialTermsAdded.splice(n,1),d())}},e.submitAddUpdateTerm=function(t){e.addingNewTerm?c(t):l(t)},e.addingNewTerm=!1,e.showUpdateTerm=function(a){e.addingNewTerm=!1,e.newTerm=a;try{e.newTerm.columns=JSON.parse(e.newTerm.columns)}catch(e){}console.log(e.newTerm),e.numberOfLevels=0,e.newTerm.hasLevels&&(e.numberOfLevels=e.newTerm.value.length),"nfc"==a.type&&(e.newTermLabel="Update Non-Financial Contract Term"),"fc"==a.type&&(e.newTermLabel="Update Financial Contract Term"),t("#newTerm").modal("toggle")},e.NumberOfLevels=function(e,t){e.value.constructor!=Array&&(e.value=[]);var a=e.value.length;if(a<t)for(var n=0;n<t-a;n++)e.value.push({label:"",value:""});else e.value.splice(t,e.value.length)},e.defaultLevelNumbers=function(e){e.value="",e.hasLevels&&(e.value=[])},e.showAddTermModal=function(a){e.addingNewTerm=!0,e.numberOfLevels=0,e.newTerm={label:"",value:"",hasLevels:!1,type:a,columns:{feePercentage:!1,netTaxSavings:!1}},"nfc"==a&&(e.newTermLabel="New Non-Financial Contract Term"),"fc"==a&&(e.newTermLabel="New Financial Contract Term"),t("#newTerm").modal("toggle")},e.removeFinancialTerm=function(t){e.financialTermsAdded.splice(t,1),d()},e.CalculateFee=function(t){if(console.log(t),t.hasLevels)for(var a=0;a<t.value.length;a++){var n=1,r=t.value[a],o=parseInt(r.value.match(/\d/g).join(""));u(o)||(o=1),u(i)||(i=1),t.columns.feePercentage&&(n*=o/100),t.columns.netTaxSavings&&(n*=e.netTaxSavingsGlobal),t.value[a].calculatedFee=parseFloat(n).toFixed(2)}else{var n=1,o=parseInt(t.value.match(/\d/g).join("")),i=parseInt(t.netTax);u(o)||(o=1),u(i)||(i=1),t.columns.feePercentage&&(n*=o/100),t.columns.netTaxSavings&&(n*=e.netTaxSavingsGlobal),t.calculatedFee=n,t.columns.feePercentage||t.columns.netTaxSavings||(t.calculatedFee=o)}},e.totalFee=0}var n={templateUrl:"modules/ContractModule/components/contract-terms/contract-terms.html",controllerAs:"ContractTerms",controller:["$scope","newContractService","newContractTermsService","$timeout","$stateParams","$rootScope",a]};e.exports=n}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){var n=a.defer();return t.getDataFromServer("/contracts/getContractTerms").then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function r(e){var n=a.defer();return t.postDataToServer("/contracts/addContractTerms",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function o(e){var n=a.defer();return t.postDataToServer("/contracts/updateContractTerms",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}return{updateContractTerms:o,getContractTerms:n,addContractTerms:r}}n.$inject=["$http","AOTCService","$q"],e.exports=n},function(e,t,a){(function(t){var a={templateUrl:"modules/ContractModule/components/sample-calculations/sample-calculations.component.html",controllerAs:"sampleCalculationsCtrl",controller:["$scope","SampleCalculationService","$timeout","$stateParams","PrivatePropertyService","newContractService",function(e,a,n,r,o,i){function s(){m.scheduleFee={poor:{level1:25,level2:25,level3:25},good:{level1:15,level2:20,level3:25},vgood:{level1:10,level2:15,level3:20}}}function l(e,t){return m.scheduleFee[e][t]/100}function c(e){angular.forEach(e,function(e,t){!e.disabled&&e.check&&(v=1,e.assessment.valueReduction1=e.assessment.newAssessorValue[0]-e.assessment.postAppeal1[0],e.assessment.valueReduction2=e.assessment.postAppeal1[0]-e.assessment.postAppeal2[0],e.assessment.valueReduction=e.assessment.newAssessorValue[0]-e.assessment.postAppeal2[0],e.assessment.fee=e.assessment.fixedRate,e.assessment.feePercent=e.assessment.fee/(e.assessment.valueReduction*(e.assessment.taxRate[0]/100)),console.log(e.assessment.feePercent),e.disabled=!0,e.feeType=2,m.totalAmount+=e.assessment.fee,m.totaltaxSaving+=e.assessment.valueReduction*(e.assessment.taxRate[0]/100),m.taxRate=e.assessment.taxRate[0],m.calaculatedData.push(e),console.log(m.totaltaxSaving))})}function u(e){angular.forEach(e,function(e,t){if(!e.disabled&&e.check){v=1,e.meritLevel=p(e.assessment.appealMerit[0]),console.log(e.meritLevel),e.assessment.valueReduction1=e.assessment.newAssessorValue[0]-e.assessment.postAppeal1[0],e.assessment.valueReduction2=e.assessment.postAppeal1[0]-e.assessment.postAppeal2[0],e.assessment.valueReduction=e.assessment.newAssessorValue[0]-e.assessment.postAppeal2[0];var a=l(e.assessment.appealMerit[0],"level1"),n=l(e.assessment.appealMerit[0],"level2");e.assessment.fixedRate=0;var r=e.assessment.valueReduction1*a*(e.assessment.taxRate[0]/100),o=e.assessment.valueReduction2*n*(e.assessment.taxRate[0]/100);e.assessment.fee=r+o,e.assessment.feePercent=e.assessment.fee/(e.assessment.valueReduction*(e.assessment.taxRate[0]/100)),console.log(e.assessment.feePercent),e.disabled=!0,e.feeType=3,m.totalAmount+=e.assessment.fee,m.totaltaxSaving+=e.assessment.valueReduction*(e.assessment.taxRate[0]/100),m.calaculatedData.push(e)}})}function d(e){angular.forEach(e,function(e,t){if(!e.disabled&&e.check){v=1,e.meritLevel=p(e.assessment.appealMerit[0]),console.log(e),e.assessment.valueReduction1=e.assessment.newAssessorValue[0]-e.assessment.postAppeal1[0],e.assessment.valueReduction2=e.assessment.postAppeal1[0]-e.assessment.postAppeal2[0],e.assessment.valueReduction=e.assessment.newAssessorValue[0]-e.assessment.postAppeal2[0];var a=l(e.assessment.appealMerit[0],"level1"),n=l(e.assessment.appealMerit[0],"level2"),r=e.assessment.valueReduction1*a*e.assessment.taxRate[0]/100,o=e.assessment.valueReduction2*n*e.assessment.taxRate[0]/100;e.assessment.fixedRate=e.assessment.fixedRate,e.assessment.fee=r+o,e.assessment.fee+=e.assessment.fixedRate,e.assessment.feePercent=e.assessment.fee/(e.assessment.valueReduction*(e.assessment.taxRate[0]/100)),e.disabled=!0,e.feeType=4,console.log(e.assessment.fixedRate),m.totalAmount+=e.assessment.fee,m.totaltaxSaving+=e.assessment.valueReduction*(e.assessment.taxRate[0]/100),m.calaculatedData.push(e)}})}function p(e){return console.log(e),"poor"===e?[m.scheduleFee.poor.level1,m.scheduleFee.poor.level2,m.scheduleFee.poor.level3]:"vgood"===e?[m.scheduleFee.vgood.level1,m.scheduleFee.vgood.level3,m.scheduleFee.vgood.level3]:good=[m.scheduleFee.good.level1,m.scheduleFee.good.level2,m.scheduleFee.good.level3]}var m=e,f=o.selectedPropertyList,g={},v=0;m.getPropertyList={},m.setPercentages=0,m.selectAll=!1,m.scheduleFee={},m.calaculatedData=[],m.feeType="three",m.totalFee=0,m.styleSet={color:"gray",cursor:"not-allowed"},m.lockFee="",m.totalAmount=0,m.totaltaxSaving=0,m.IsViewMode=!r.id,m.taxRate=0,e.$on("contractDataByUserId-added",function(){if(s(),m.calaculatedData=i.contractDataByUserId.financialTerms,console.log(i.contractDataByUserId),"fixed"!=m.calaculatedData[0].fee.feeType){for(var e=0;e<m.calaculatedData.length;e++)if(console.log(e),data=m.calaculatedData[e],data.assessment.valueReduction1=data.assessment.newAssessorValue[0]-data.assessment.postAppeal1[0],data.assessment.valueReduction2=data.assessment.postAppeal1[0]-data.assessment.postAppeal2[0],data.assessment.valueReduction=data.assessment.newAssessorValue[0]-data.assessment.postAppeal2[0],"fixedPerProperty"===data.fee.feeType)data.assessment.fee=data.fee.fee,data.assessment.feePercent=data.assessment.fee/data.assessment.valueReduction*data.assessment.taxRate[0]/100,m.totalAmount+=data.assessment.fee,m.totalWeightage+=100*data.assessment.feePercent,m.totaltaxSaving+=data.assessment.valueReduction*(data.assessment.taxRate[0]/100),data.assessment.fixedRate=data.fee.fee;else if("percentage"===data.fee.feeType){console.log(data);var t=data.fee.meritLevel[0]/100,a=data.fee.meritLevel[1]/100,n=data.assessment.valueReduction1*t*(data.assessment.taxRate[0]/100),r=data.assessment.valueReduction2*a*(data.assessment.taxRate[0]/100);data.assessment.feePercent=0,data.assessment.fee=n+r,data.assessment.feePercent=data.assessment.fee/(data.assessment.valueReduction*(data.assessment.taxRate[0]/100)),console.log(data.assessment.feePercent),m.totalAmount+=data.assessment.fee,data.assessment.fixedRate=0,m.totaltaxSaving+=data.assessment.valueReduction*(data.assessment.taxRate[0]/100)}else if("fp"===data.fee.feeType){console.log(data),data.assessment.valueReduction1=data.assessment.newAssessorValue[0]-data.assessment.postAppeal1[0],data.assessment.valueReduction2=data.assessment.postAppeal1[0]-data.assessment.postAppeal2[0],data.assessment.valueReduction=data.assessment.newAssessorValue[0]-data.assessment.postAppeal2[0];var t=data.fee.meritLevel[0]/100,a=data.fee.meritLevel[1]/100,n=data.assessment.valueReduction1*t*data.assessment.taxRate[0]/100,r=data.assessment.valueReduction2*a*data.assessment.taxRate[0]/100;data.assessment.fixedRate=data.fee.fixedRate,data.assessment.fee=n+r,data.assessment.fee+=data.assessment.fixedRate,data.assessment.feePercent=data.assessment.fee/(data.assessment.valueReduction*(data.assessment.taxRate[0]/100)),data.disabled=!0,data.feeType=4,console.log(data.assessment.fixedRate),m.totalAmount+=data.assessment.fee,m.totaltaxSaving+=data.assessment.valueReduction*(data.assessment.taxRate[0]/100)}}else m.fixedFeeData=m.calaculatedData[0].fee,console.log(m.fixedFeeData)}),a.fct=m.calaculatedData,a.feeType=m.feeType,a.totalFee=m.totalFee,m.selectAllProperties=function(){var e=m.selectAll;if(e){e=!0;m.getPropertyList.map(function(e,t){if(!e.disabled)return e.check=!0,e})}else{e=!1;m.getPropertyList.map(function(e,t){if(!e.disabled)return e.check=!1,e})}},m.selectSepicific=function(e){e.check?e.check=!0:e.check=!1},m.calculateSampleData=function(){var e=m.getPropertyList;if("three"===m.feeType)u(e),m.lockFee="two";else if("two"===m.feeType)c(e),m.lockFee="two";else if("four"===m.feeType)d(e),m.lockFee="two";else{m.lockFee="one",m.calaculatedData=[];m.getPropertyList.map(function(e,t){if(!e.disabled)return v=1,e.check=!0,e.disabled=!0,e})}},m.selectFeeType=function(e){m.feeType=e,a.feeType=m.feeType},m.totalFeeChange=function(e){m.totalFee=e,a.totalFee=m.totalFee},m.ResetDatSet=function(){m.selectAll=!1,m.calaculatedData=[],m.getPropertyList={},m.getPropertyList=angular.copy(g),m.feeType="three",m.lockFee="",m.totalAmount=0,m.totaltaxSaving=0},m.postData=function(){},function(){var e={propIds:f,year:2017};a.getPropertyDetails(e).then(function(e){g=angular.copy(e.data.result),m.getPropertyList=e.data.result,t("#preloader").css("display","none")},function(e){console.log(e),t("#preloader").css("display","none")})}(),s()}]};e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(a){var n=e.defer();return t.postDataToServer("/contracts/getDataforSampleCalculations",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return{getPropertyDetails:a}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r){e.checkValues=function(){},e.content="<strong>Some Content</strong>";var o=[{name:"Clause 1"},{name:"Clause 2"},{name:"Clause 3"},{name:"Clause 4"},{name:"Clause 5"},{name:"Clause 6"},{name:"Clause 7"},{name:"Clause 8"},{name:"Clause 9"},{name:"Clause 10"}];e.articles=o,e.options={language:"en",allowedContent:!0,entities:!1},e.clearFile=function(){r.clearFile()},e.onReady=function(){},e.fileUploaded=function(){e.FileNames=[];var a=document.getElementById("file-1").files;e.fileData=a;for(var n=0;n<a.length;n++)e.FileNames.push({name:a[n].name});e.$apply(),t("#uploadedContracts").modal("toggle")},e.uploadSelectedFiles=function(){}}function n(){return{require:"?ngModel",link:function(e,t,a,n){function r(){e.$apply(function(){n.$setViewValue(i.getData())})}var o={allowedContent:!0,height:450},i=window.CKEDITOR.replace(t[0],o);if(n){CKEDITOR.on("instanceReady",function(){i.setData(n.$viewValue),CKEDITOR.document.getById("contactList").on("dragstart",function(e){var t=e.data.getTarget().getAscendant("div",!0);CKEDITOR.plugins.clipboard.initDragDataTransfer(e),e.data.dataTransfer.setData("text/html",t.getText())}),CKEDITOR.document.getById("contactList2").on("dragstart",function(e){var t=e.data.getTarget().getAscendant("div",!0);CKEDITOR.plugins.clipboard.initDragDataTransfer(e);var a=e.data.dataTransfer;a.setData("contact",s[t.data("contact")]),a.setData("text/html",t.getText())})}),n.$render=function(){i.setData(n.$viewValue)},i.on("change",r),i.on("key",r),i.on("dataReady",r),i.on("dragstart",function(e){}),i.on("dragenter",function(e){}),i.on("dragover",function(e){});var s=[{name:"Huckleberry Finn",tel:"+48 1345 234 235",email:"h.finn@example.com",avatar:"hfin"},{name:"D'Artagnan",tel:"+45 2345 234 235",email:"dartagnan@example.com",avatar:"dartagnan"},{name:"Phileas Fogg",tel:"+44 3345 234 235",email:"p.fogg@example.com",avatar:"pfog"},{name:"Alice",tel:"+20 4345 234 235",email:"alice@example.com",avatar:"alice"},{name:"Little Red Riding Hood",tel:"+45 2345 234 235",email:"lrrh@example.com",avatar:"lrrh"},{name:"Winnetou",tel:"+44 3345 234 235",email:"winnetou@example.com",avatar:"winetou"},{name:"Edmond Dantès",tel:"+20 4345 234 235",email:"count@example.com",avatar:"edantes"},{name:"Robinson Crusoe",tel:"+45 2345 234 235",email:"r.crusoe@example.com",avatar:"rcrusoe"}];CKEDITOR.disableAutoInline=!0,CKEDITOR.plugins.add("hcard",{requires:"widget",init:function(e){e.widgets.add("hcard",{allowedContent:"span(!h-card); a[href](!u-email,!p-name); span(!p-tel)",requiredContent:"span(h-card)",pathName:"hcard",upcast:function(e){return"span"==e.name&&e.hasClass("h-card")}}),e.addFeature(e.widgets.registered.hcard),e.on("paste",function(e){var t=e.data.dataTransfer.getData("contact");t&&(e.data.dataValue=t.name+" "+t.tel)})}})}}}}a.$inject=["$scope","$location","$location","$state","UtilService"],e.exports={ContractTest:a,ckEditor:n}}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){e.options="Select Options",e.templateData=[],e.models2={selected:null,lists:{B:[]}},e.models={selected:null,lists:[]},e.addContract=function(){e.models.lists.unshift({id:null,editable:!0,name:"Section Name",title:"Section Title",label:"Section Label",type:"Section Type",text:"Section Data"})},e.selectOptions=function(t,a){e.models.lists[t].type=a},e.saveSingleContract=function(t,a){localStorage.getItem("userId");a[t].editable=!1,e.models.lists=a,e.saveAsTemplate(a)},e.editSingleContract=function(t,a){localStorage.getItem("userId");a[t].editable=!0,e.models.lists=a},e.saveContract=function(t){for(var a=localStorage.getItem("userId"),n=0;n<t.length;n++)t[n].editable=!1;e.postContract={id:null,userId:a,contracts:t},e.models.lists=t},e.editContract=function(e){for(var t=0;t<e.length;t++)e[t].editable=!0},e.saveAsTemplate=function(t){for(var a=0;a<e.templateData.length;a++)e.templateData[a]||(e.templateData[a]=t);0==e.templateData.length&&(e.templateData=t)},e.index=0,e.$on("my-sorted",function(t,a){e.models.lists.splice(a.to,0,e.models.lists.splice(a.from,1)[0])}),e.$on("my-created",function(t,a){e.index=a.to,e.models.lists.splice(a.to,0,a.name),JSON.parse(e.models.lists[a.to])})}function r(){return{link:function(e,t,a){t.draggable({connectToSortable:a.myDraggable,helper:"clone",revert:"invalid"}),t.disableSelection()}}}function o(){return{link:function(e,t,a){t.sortable({revert:!0}),t.disableSelection(),t.on("sortdeactivate",function(a,n){var r=angular.element(n.item).scope().$index,o=t.children().index(n.item);o>=0&&e.$apply(function(){r>=0?e.$emit("my-sorted",{from:r,to:o}):(e.$emit("my-created",{to:o,name:n.item.text()}),n.item.remove())})})}}}n.$inject=["$scope","$location","$state"],e.exports={ContractWizardCtrl:n,mySortable:o,myDraggable:r}},function(e,t,a){"use strict";function n(e,t,a,n,r){e.gotoAddNewInvoice=function(){n.go("NewInvoice",{id:t.id})}}n.$inject=["$scope","$stateParams","$location","$state","SampleCalculationService"],e.exports=n},function(e,t,a){"use strict";function n(e,t,a){function n(e){var n=a.defer();return t.postDataToServer("/contracts/updateContractTerms",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}return{updateContractTerms:n}}n.$inject=["$http","AOTCService","$q"],e.exports=n},function(e,t,a){(function(t){function a(e,a,n,r,o,i,s){function l(e){return"$"+s("number")(e.value,1)}function c(e,t){d.singlePropertyData=e[t-1],d.PageStartCount=(parseInt(t)-1)*parseInt(1)+1,d.PageEndCount=d.PageStartCount+e.length-1}function u(e){try{switch(e){case"detail":d.showGrid=!1;break;case"grid":d.showGrid=!0,i(function(){var e=document.querySelector("#myGrid");new agGrid.Grid(e,f)})}}catch(e){}}var d=this,p=[{headerName:"Original Base Value before Re-Assessment",field:"originalValue",width:110,cellRenderer:l,cellClass:"right-align-text"},{headerName:"New Value as of Re-Assessment (Pre-Appeal)",field:"newValue",width:110,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Value post Level 1 Appeal (Assessor Appeal)",field:"postLevel1",width:110,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Value post Level 2 Appeal (Board Appeal)",field:"postLevel2",width:110,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Tax Rate",field:"taxRate",width:80,cellRenderer:l,cellClass:"right-align-text",cellClass:"right-align-text"},{headerName:"Fee %",field:"feePercent",width:80,cellClass:"right-align-text"},{headerName:"Tax Bill Due Date",field:"taxBillDate",width:100},{headerName:"Tax Bill",field:"taxBill",width:110,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Less Solid Waste",field:"lessSolidWaste",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Water Quality Protect Chg",field:"waterQuality",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Net Bill",field:"netBill",width:110,cellClass:"right-align-text"},{headerName:"Taxes Owed (Pre-Appeal)",field:"taxPreAppeal",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Taxes Owed (Post Level 1 (Assessor))",field:"taxLevel1",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Taxes Owed (Post Level 1 (Board))",field:"taxLevel2",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Tax Savings (Level 1)",field:"taxSavingLevel1",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Tax Savings (Level 2)",field:"taxSavingLevel2",width:100,cellRenderer:l,cellClass:"right-align-text"},{headerName:"Fee Owed",field:"feeOwed",width:100,cellRenderer:l,cellClass:"right-align-text"}],m=[],f={columnDefs:p,rowData:m,headerHeight:60,suppressCellSelection:!0,enableColResize:!0};d.invoiceData={master:{},details:[]},d.singlePropertyData={},d.toggleView=u,d.showGrid=!0,d.totalItems=0,d.pageSize=1,d.currentPage=1,d.pageChanged=function(e){e=e||d.currentPage||1,d.currentPage=e||1,c(d.invoiceData.details,e)};!function(){var e={propIds:[24497,24498],year:2017,contractId:29744};t("#preloader").css("display","block"),r.getInvoiceByContractId(e).then(function(e){t("#preloader").css("display","none");try{d.invoiceData=e.result,c(d.invoiceData.details,1),d.singlePropertyData=d.invoiceData.details[0],d.totalItems=d.invoiceData.details.length,f.rowData=d.invoiceData.details,i(function(){var e=document.querySelector("#myGrid");new agGrid.Grid(e,f)})}catch(e){}})}()}a.$inject=["$scope","$stateParams","$state","NewInvoiceService","$uibModal","$timeout","$filter"],e.exports=a,agGrid.initialiseAgGridWithAngular1(angular)}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){var n=a.defer();return t.postDataToServer("/contracts/saveInvoice",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function r(e){var n=a.defer();return t.postDataToServer("/contracts/getInvoiceByContractId",e).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}return{saveInvoice:n,getInvoiceByContractId:r}}n.$inject=["$http","AOTCService","$q"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s){function l(e){try{var t=document.createElement("div"),a='<button class="btn btn-info edit-btn-grid btn-sm" style="margin-right: 10px; background: rgba(122, 218, 16, 0.82)" value="'+e.data.id+'" border: none;    padding: 4px;" data-toggle="tooltip" data-placement="right" title="Edit details">  <i class="fa  fa-pencil fa-lg"></i> </button>',r='<button class="btn btn-info view-btn-grid btn-sm" style="margin-right: 10px; background: #3be4ff" value="'+e.data.id+'" border: none;    padding: 4px;" data-toggle="tooltip" data-placement="right" title="View details">  <i class="fa  fa-eye fa-lg"></i> </button>',o='<button class="btn btn-info invoice-btn-grid btn-sm" style="margin-right: 10px; background: rgb(255, 118, 0)" value="'+e.data.id+'" border: none;    padding: 4px;" data-toggle="tooltip" data-placement="right" title="Create Invoice">  <i class="fa  fa-list-alt fa-lg"></i> </button>';switch(e.data.status){case"NotStarted":var i='<span style="display:block; text-align:center;">'+r+a+o+"</span>";break;case"InProgress":var i='<span style="display:block; text-align:center;">'+r+"</span>";break;case"Complete":var i='<span style="display:block; text-align:center;">'+r+o+"</span>"}t.innerHTML=i;var s=t.querySelector(".edit-btn-grid"),l=t.querySelector(".view-btn-grid"),c=t.querySelector(".invoice-btn-grid");return l.addEventListener("click",function(e){var t=e.currentTarget.value;n.go("ViewContract",{id:t})}),s.addEventListener("click",function(e){var t=e.currentTarget.value;n.go("ViewContract",{id:t})}),c.addEventListener("click",function(e){e.currentTarget.value;n.go("NewInvoice",{id:1})}),t}catch(e){return""}}function c(e){var t=[];return angular.forEach(e,function(e){e.contracts.id=e.id,t.push(e.contracts)}),t}e.contractList=[],e.searchText="",e.viewInvoices=function(e){n.go("InvoiceList",{id:e.id})},function(){t("#preloader").css("display","block"),r.getContracts().then(function(e){t("#preloader").css("display","none"),p.rowData=c(e.result),i.saveContractData(e.result),o(function(){var e=document.querySelector("#myGridContracts");new agGrid.Grid(e,p),p.api.sizeColumnsToFit()})},function(e){})}();var u=[],d=[{headerName:"Contract Name",field:"contractName",width:200},{headerName:"Creation Date",field:"createdDate",width:200},{headerName:"Agent Name",field:"agentName",width:140},{headerName:"Status",field:"status",width:110},{headerName:"Actions",field:"abc",width:260,cellRenderer:l}],p={columnDefs:d,rowData:u,headerHeight:25,rowHeight:40,suppressCellSelection:!0,enableColResize:!0}}a.$inject=["$scope","$location","$state","SavedContractListService","$timeout","newContractService","$compile"],e.exports=a,agGrid.initialiseAgGridWithAngular1(angular)}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){var n={},r=a.defer();return t.postDataToServer("/contracts/getContractsByUserId",n).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise}return{getContracts:n}}n.$inject=["$http","AOTCService","$q"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s){function l(n,o){t("#preloader").css("display","block");var i={name:n,content:r.dataContent,agenttName:o,status:"NotStarted",propId:d},s=u(),l={contract:i,fct:p,nfct:s};r.addContractTemplate(l).then(function(n){if(t("#preloader").css("display","none"),t("#newFormat").modal("toggle"),!n.success)return void a.$emit("danger",n.message);a.content="",a.$emit("success",n.message),e.go("SavedContractList")},function(e){t("#preloader").css("display","none")})}function c(){var e=[],t=[],a=[],n=[],r=i.feeType,o=i.fct;if("one"!=r?angular.forEach(o,function(n,r){m=1,3===n.feeType?e.push({feeType:"percentage",fee:(100*n.assessment.feePercent).toFixed(2),propertyId:n.propertyId,meritLevel:n.meritLevel}):4===n.feeType?a.push({feeType:"fp",fixedRate:n.assessment.fixedRate,meritLevel:n.meritLevel,propertyId:n.propertyId}):t.push({feeType:"fixedPerProperty",fee:n.assessment.fixedRate,propertyId:n.propertyId})}):(n.push({feeType:"fixed",fee:i.totalFee,propertyId:d}),m=1),"one"!=r)var s=[e,t,a];else var s=[n];return s}function u(){var e=r.getFinancialAndNonFinancialTerms(),t=[];return angular.forEach(e,function(e,a){t.push({termName:e.label,termValue:e.value})}),t}var d=s.selectedPropertyList;a.viewContractEditor=!0;var p=[],m=0;a.contractId=o.id||null,a.IsViewMode=!!o.id,a.savedContract=r.getContractData(a.contractId);try{a.contractName=a.savedContract.contractName,a.agentName=a.savedContract.agentName}catch(e){}a.ViewContractEditor=function(){a.viewContractEditor=!0,a.viewSampleCalculations=!1,a.$broadcast("someEvent",[1,2,3])},a.ViewContractTerms=function(){a.viewContractEditor=!1,a.viewSampleCalculations=!1,a.$broadcast("someEvent",[1,2,3])},a.ViewSampleCalculations=function(){a.viewContractEditor=!1,a.viewSampleCalculations=!0},a.$on("financialAndNonFinancialTerms",function(e,t){a.viewContractEditor=!0,a.viewSampleCalculations=!1,a.$broadcast("updateDocument",[])}),a.openContractModel=function(){p=c(),d?r.dataContent?1!=m?a.$emit("danger","Select Fee"):t("#newFormat").modal("toggle"):a.$emit("danger","Enter Contract Content"):a.$emit("danger","Select at least One property")},a.saveContract=function(e,t){l(e,t)}}a.$inject=["$state","$scope","__env","newContractService","$stateParams","SampleCalculationService","PrivatePropertyService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").directive("phoneInput",a(95).phoneInput),angular.module("AOTC").filter("tel",a(95).tel)},function(e,t,a){"use strict";angular.module("AOTC").directive("header",a(240))},function(e,t,a){"use strict";(function(t){function a(e,a,n){return{templateUrl:"modules/header/header.html",restrict:"EA",controller:["$scope","$location","AOTCService","$rootScope",function(r,o,i,s){function l(e){return e===o.path()}var c=this;r.successMessage="",r.errorMessage="",r.dangerMessage="",r.showUserTab=!1,r.role="";var u=localStorage.getItem("role");if(r.role=u,u==e.AJ_USER?r.showSelectedTabs=!1:u==e.PMF_USER?r.showSelectedTabs=!1:u==e.Admin&&(r.showUserTab=!0),localStorage.getItem("userJson")){var d=JSON.parse(localStorage.getItem("userJson"));r.name=d.userData.name}else a.go("login");r.$on("userRole",function(t,a){n(function(){r.showUserTab=!1,a==e.AJ_USER?r.showSelectedTabs=!1:a==e.PMF_USER?r.showSelectedTabs=!1:a==e.Admin&&(r.showUserTab=!0)},100)}),r.$on("success",function(e,a){r.successMessage=a,t("#head_success").fadeIn(1500).delay(500).fadeOut(500)}),r.$on("error",function(e,a){r.errorMessage=a,t("#head_error").fadeIn(1500).delay(500).fadeOut(500)}),r.$on("danger",function(e,a){r.dangerMessage=a,t("#head_danger").fadeIn(1500).delay(500).fadeOut(500)}),r.OpenNotfModal=function(e){r.openNotModal=!0},t(".nav-tabs.notification-tabs a").click(function(e){e.preventDefault(),e.stopPropagation(),t(this).tab("show")}),c.parseProps=function(e){try{return JSON.parse(e)}catch(e){}},r.isActive=l}],controllerAs:"head",bindToController:!0}}a.$inject=["User_Config","$state","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").controller("login",a(242))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u){function d(){t("#preloader").css("display","block"),s.postDataToServer("/users/userSignIn",p.credentials).then(function(a){t("#preloader").css("display","none");var n=a.data;if(c.setToken(n.result.token),n.success){if(p.rememberMe){var r=angular.toJson(p.credentials);localStorage.setItem("rememberMe",p.rememberMe),localStorage.setItem("credentials",r)}else localStorage.removeItem("rememberMe"),localStorage.removeItem("credentials");var o=n.result;localStorage.setItem("userJson",angular.toJson(o)),localStorage.setItem("userId",o.userId),localStorage.setItem("token",o.token),u.setPermissions(o.roles,"permissionMainObj"),u.setPermissions(o.userData,"userObj"),e.go("main")}else p.errorLogin=n.message},function(e){t("#preloader").css("display","none")})}var p=this;p.loginUser=d,t("#preloader").css("display","none"),p.credentials={email:"mark.clint@yahoo.com",password:"mark"},p.rememberMe=!1,p.errorLogin="",localStorage.removeItem("userJson"),localStorage.removeItem("token"),c.removeToken();var m=localStorage.getItem("rememberMe");m&&(p.credentials=JSON.parse(localStorage.getItem("credentials")),p.rememberMe=m)}a.$inject=["$state","$location","$scope","$http","__env","$log","AOTCService","$timeout","AOTCAuth","AOTCPermissions"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").controller("main",a(244)),angular.module("AOTC").service("mainService",a(245))},function(e,t,a){"use strict";(function(t){function a(e,a,r,o,i,s,l,c,u,d,p,m,f){function g(e){t("#preloader").css("display","block");E.newstimemodel[0];d.postDataToServer("newsFeed/getNewsFeed",e).then(function(e){if(e.data.success){E.newsData=e.data.result.results,p(function(){t("#bn4").breakingNews({effect:"slide-v",autoplay:!0,timer:3e3,color:"blue",border:!0})},100);try{var a=[],n=e.data.result.region;n.length&&(angular.forEach(e.data.result.region,function(e){a.push({id:e,label:e})}),E.newRegionAll=n,E.newsRegion=a);var a=[],r=e.data.result.sources;r.length&&(angular.forEach(e.data.result.sources,function(e){a.push({id:e,label:e})}),E.newssourcesAll=r,E.newssources=a)}catch(e){}t("#preloader").css("display","none")}else t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}function v(e){t("#preloader").css("display","block"),o.getPropertyDetialsById(e).then(function(e){var n=e.data;n.success&&(localStorage.setItem("propertyId",n.result[0]._id),localStorage.setItem("propertyDetails",angular.toJson(n.result[0])),t("#preloader").css("display","none"),setTimeout(function(){a.go("viewIERR.propertyDetailsTab")},500))},function(e){t("#preloader").css("display","none")})}function h(){k(E),E.selectedFilters=[],E.markerWindowShow=!1;var e=[],t=[],a=[];if(E.searchProperty.accNo.length>0)for(var n=0;n<E.propertyData.length;n++){var r=E.propertyData[n];r.accNo.toLowerCase().indexOf(E.searchProperty.accNo.toLowerCase())>-1&&e.push(r)}else e=E.propertyData;if(E.searchProperty.address.length>0)for(var n=0;n<e.length;n++){var r=e[n];r.propertyAddress.toLowerCase().indexOf(E.searchProperty.address.toLowerCase())>-1&&t.push(r)}else t=e;if(E.searchProperty.ownerName.length>0)for(var n=0;n<t.length;n++){var r=t[n];r.ownerName.toLowerCase().indexOf(E.searchProperty.ownerName.toLowerCase())>-1&&a.push(r)}else a=t;E.uniqueTableData=[],E.uniqueTableData=a,setTimeout(function(){E.searchProperty={accNo:"",address:"",ownerName:""}},10),I()}function y(){E.markerWindowShow=!1}function S(e){E.selectedMarker={},E.selectedMarker=e.model,E.map.center.latitude=E.selectedMarker.coords.latitude,E.map.center.longitude=E.selectedMarker.coords.longitude,E.markerWindowShow=!0}function P(e){D(E.meritFilter,e),D(E.designeeFilter,e),D(E.apealStatusFilter,e);for(var a=E.jurisdictionFilter.filters.length-1;a>=0;a--)D(E.jurisdictionFilter.filters[a],e);"Assessment Filter"==e.attribute&&(E.assesmentSlider.minValue=M[0],E.assesmentSlider.maxValue=M[4]),"Appeal Filter"==e.attribute&&(E.appealSlider.minValue=N[0],E.appealSlider.maxValue=N[4]);for(var a=0;a<E.selectedFilters.length;a++)E.selectedFilters[a].name==e.name&&E.selectedFilters.splice(a,1);0==E.selectedFilters.length&&t("#myModal").modal("toggle"),R()}function D(e,t){for(var a=0;a<e.filters.length;a++){var n=e.filters[a];n.name==t.name&&(n.state=+!n.state)}}function b(e,t){if(e.state=+!e.state,e.state)E.selectedFilters.push({name:e.name,attribute:t,value:e.value?""+e.value:""});else for(var a=0;a<E.selectedFilters.length;a++)E.selectedFilters[a].name==e.name&&E.selectedFilters.splice(a,1);R()}function C(e,t){if(e.state=+!e.state,e.state)for(var a=0;a<e.filters.length;a++)1!=e.filters[a].state&&(e.filters[a].state=1,E.selectedFilters.push({name:e.filters[a].name,attribute:t,countryState:e.name}));else for(var a=0;a<e.filters.length;a++){e.filters[a].state=0;for(var n=0;n<E.selectedFilters.length;n++)E.selectedFilters[n].name==e.filters[a].name&&E.selectedFilters.splice(n,1)}R()}function R(){E.searchProperty={accNo:"",address:"",ownerName:""},E.selectedMarker={};for(var e,t="",a="",n="",r="",o=0;o<E.selectedFilters.length;o++)e=E.selectedFilters[o],"meritToAppeal"==e.attribute&&(a=0==a.length?""+e.value:a+","+e.value),"designee"==e.attribute&&(t=0==t.length?e.name:t+","+e.name),"appealStatus"==e.attribute&&(n=0==n.length?e.name:n+","+e.name),"jurisdiction"==e.attribute&&(r=null==e.name?e.countryState:0==r.length?e.name:r+","+e.name);if(E.filteredMeritToAppealProperty=[],0==a.length)E.filteredMeritToAppealProperty=E.propertyData;else for(var i=0;i<E.propertyData.length;i++){var s=E.propertyData[i];a.indexOf(s.meritToAppeal)>=0&&E.filteredMeritToAppealProperty.push(s)}if(E.filteredPropertyData=[],0==t.length)E.filteredPropertyData=E.filteredMeritToAppealProperty;else for(var i=0;i<E.filteredMeritToAppealProperty.length;i++){var s=E.filteredMeritToAppealProperty[i];t.indexOf(s.designee)>=0&&E.filteredPropertyData.push(s)}if(E.filteredDesigneeData=[],0==n.length)E.filteredDesigneeData=E.filteredPropertyData;else for(var i=0;i<E.filteredPropertyData.length;i++){var s=E.filteredPropertyData[i];n.indexOf(s.appealStatus)>=0&&E.filteredDesigneeData.push(s)}if(E.filteredStatusData=[],void 0!==e&&null==e.name)for(var i=0;i<E.filteredDesigneeData.length;i++){var s=E.filteredDesigneeData[i];r.indexOf(s.countryState)>=0&&E.filteredStatusData.push(s)}else if(0==r.length)E.filteredStatusData=E.filteredDesigneeData;else for(var i=0;i<E.filteredDesigneeData.length;i++){var s=E.filteredDesigneeData[i];r.indexOf(s.county)>=0&&E.filteredStatusData.push(s)}E.uniqueTableData=E.filteredStatusData,I()}function I(){E.locations=[];for(var e=0;e<E.uniqueTableData.length;e++){var t={id:E.markerId++,coords:{latitude:E.uniqueTableData[e].lat,longitude:E.uniqueTableData[e].lng},description:{propertyName:E.uniqueTableData[e].propertyName,appealStatus:"",meritToAppealDetail:""},options:{draggable:!1,icon:"assets/img/"+E.uniqueTableData[e].meritToAppeal+".png"}};E.locations.push(t)}}function x(e){t(e.target).children().is(":checked")?t(e.target).children().prop("checked",!1):t(e.target).children().prop("checked",!0)}function w(){t("#drawer-handle").children().hasClass("fa fa-backward")?(t("#drawer-handle").children().removeClass("fa fa-backward"),t("#drawer-handle").children().addClass("fa fa-forward")):(t("#drawer-handle").children().removeClass("fa fa-forward"),t("#drawer-handle").children().addClass("fa fa-backward"))}function F(e){t(e.target).children().hasClass("rotatedown")?(t(e.target).children().removeClass("rotatedown"),t(e.target).children().addClass("rotateup")):(t(e.target).children().addClass("rotatedown"),t(e.target).children().removeClass("rotateup")),t(e.target).parent().children("ul.tree").toggle(500)}function A(e){t(e.target).hasClass("rotatedown")?(t(e.target).removeClass("rotatedown"),t(e.target).addClass("rotateup")):(t(e.target).addClass("rotatedown"),t(e.target).removeClass("rotateup")),t(e.target).parent().next("ul.tree").toggle(500)}function T(e){t(e.target).parent().children("ul.tree").toggle(500)}function k(e){e.meritFilter={name:"Merit to Appeal",filters:[{name:"Good Merit",value:1,state:0},{name:"Marginal",value:2,state:0},{name:"No Apparent Merit",value:3,state:0}]},e.designeeFilter={name:"DESIGNEE",filters:[{name:"Joey Tribbiani",state:0},{name:"Jacks Teller",state:0}]},e.apealStatusFilter={name:"APPEAL STATUS",filters:[{name:"No Appeal Yet",state:0},{name:"Appeal Rejected",state:0},{name:"No Further Appeal",state:0},{name:"Appeal In Progress",state:0}]};for(var t=[],a=0;a<$.length;a++)if(null===$[a].countryState||n($[a].countryState,t)){var r=$[a].countryState,o=t.findIndex(function(e,t){return e.state===r});o>-1&&null!==$[a].county&&-1===t[o].county.indexOf($[a].county)&&t[o].county.push($[a].county)}else{var i=[];i.push($[a].county),t.push({state:$[a].countryState,county:i})}for(var s=[],a=0;a<t.length;a++){var l=[];if(void 0!==t[a].county[0])for(var c=0;c<t[a].county.length;c++)l.push({name:t[a].county[c],state:0});s.push({name:t[a].state,state:0,filters:l})}e.jurisdictionFilter={name:"JURISDICTIONs",filters:s}}var E=this;s.vm,E.locations=[],E.newstimemodel=[],E.newssourcesmodel=[],E.newsRegionmodel=[],E.newsRegion=[{id:0,label:"All"}],E.newssources=[{id:0,label:"All"}],E.newstime=[{id:"60",label:"All"},{id:"1",label:"1 day"},{id:"7",label:"1 week"},{id:"30",label:"1 month"}];var O=localStorage.getItem("tickerStatus");E.tickerStatus="false"!=O&&0!=O,E.tickerStatusFunc=function(e){E.tickerStatus=e,localStorage.setItem("tickerStatus",e)},s.$watch("main.newstimemodel",function(e,t){try{if(e!=t){var a=[];angular.forEach(e,function(e){a.push(parseInt(e.id))}),E.filterArrTime=a}}catch(e){}},!0),s.$watch("main.newssourcesmodel",function(e,t){try{if(e!=t){var a=[];angular.forEach(e,function(e){a.push(e.id)}),E.filterArrSources=a}}catch(e){}},!0),s.$watch("main.newsRegionmodel",function(e,t){try{if(e!=t){var a=[];angular.forEach(e,function(e){a.push(e.id)}),E.filterArrRegion=a}}catch(e){}},!0),E.filterArrRegion=[],E.filterArrSources=[],E.filterArrTime=[],E.getResults=function(){var e=0==E.filterArrSources.length?E.newssourcesAll:E.filterArrSources;g({region:0==E.filterArrRegion.length?E.newRegionAll:E.filterArrRegion,sources:e,time:E.filterArrTime[0]||60})},E.newsRegionsettings={checkBoxes:!0},E.newssourcessettings={checkBoxes:!0},E.newstimesettings={checkBoxes:!0,selectionLimit:1},E.newsRegiontext={buttonDefaultText:"Select Region"},E.newssourcestext={buttonDefaultText:"Select Source"},E.newstimetext={buttonDefaultText:"Select Duration"},g({region:[],sources:[],time:60}),E.filterObj={},t("#preloader").css("display","block"),setTimeout(function(){if(localStorage.getItem("userJson")){var e=JSON.parse(localStorage.getItem("userJson"));localStorage.setItem("userId",e.userId),localStorage.setItem("role",e.userData.role),s.$emit("userRole",e.userData.role)}else a.go("login");t("#preloader").css("display","none")},2e3);var $;E.searchFieldRequired=!1,E.searchProperty={accNo:"",address:"",ownerName:""},E.markerWindowShow=!1,E.selectedMarker={},E.markerId=0,E.windowOptions={zIndex:8,pixelOffset:{height:-35,width:0}},E.infoWindow={},E.closeMarkerWindow=y;var M=["07/05/2016","08/02/2016","09/02/2016","10/02/2016","01/02/2017"],N=["10/01/2016","12/02/2016","01/10/2017","05/01/2017","08/02/2017"];E.appealSlider={minValue:N[0],maxValue:N[4],options:{floor:0,ceil:100,stepsArray:N,translate:function(e){return null!=e?e:""},onEnd:function(e){for(var t=!1,a=0;a<E.selectedFilters.length;a++)"Appeal Filter"==E.selectedFilters[a].attribute&&(t=!0);t||E.selectedFilters.push({name:"Next Appeal Date",attribute:"Appeal Filter"}),R()}}},E.assesmentSlider={minValue:M[0],maxValue:M[4],options:{floor:0,ceil:100,stepsArray:M,translate:function(e){return null!=e?e:""},onEnd:function(e){for(var t=!1,a=0;a<E.selectedFilters.length;a++)"Assessment Filter"==E.selectedFilters[a].attribute&&(t=!0);t||E.selectedFilters.push({name:"Last Assessment Date",attribute:"Assessment Filter"}),R()}}},E.dtOptions=m.newOptions().withDisplayLength(20).withOption("lengthMenu",[[20,50,100,-1],[20,50,100,"All"]]).withOption("order",[[1,"desc"]]).withColumnFilter({aoColumns:[{type:"text"},{type:"text"},{type:"text"},{type:"text"},{type:"text"},{type:"text"},{type:"text"},{type:"text"}]}).withButtons([{extend:"colvis",postfixButtons:[{extend:"colvisRestore",text:"Restore All"}],text:"Show More",className:"moreButtonDT"},{extend:"print",text:'<i class="fa fa-print"></i>',titleAttr:"print"},{extend:"copyHtml5",text:'<i class="fa fa-files-o"></i>',titleAttr:"Copy"},{extend:"excelHtml5",text:'<i class="fa fa-file-excel-o"></i>',titleAttr:"Excel"},{extend:"pdfHtml5",text:'<i class="fa fa-file-pdf-o"></i>',titleAttr:"PDF"}]),E.apealStatusFilter=[];E.filteredPropertyData=[],E.map,E.mapOptions,E.dtColumnDefs=[f.newColumnDef(0).notSortable()],E.selectedFilters=[],E.toggleImage=F,E.toggleFilters=T,E.selectFilter=b,E.selectAllFilters=C,E.checkToggle=x,E.toggleImageDrawer=w,E.menuImageRotate=A,E.removeFilter=P,E.markerClick=S,E.goToPropDetails=v,E.uniqueTableData=$,E.propertyData=$,E.findProperty=h,E.filteredAppealData=[],E.map={center:{latitude:39.55121,longitude:-77.740677},showOverlay:!0,zoom:6,options:{mapTypeId:google.maps.MapTypeId.SATELLITE}};var V=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}];E.mapOptions={styles:V,maxZoom:0,mapTypeId:google.maps.MapTypeId.SATELLITE},function(e){o.getProps().then(function(t){t.success&&(E.propertyData=t.result.data,$=t.result.data,E.uniqueTableData=$,localStorage.setItem("landingPageProperties",angular.toJson(E.propertyData))),e()})}(function(){k(E);for(var e=0;e<E.propertyData.length;e++){E.propertyData[e].propertyName;var t={id:E.markerId++,coords:{latitude:E.propertyData[e].lat?parseFloat(E.propertyData[e].lat):0,longitude:E.propertyData[e].lng?parseFloat(E.propertyData[e].lng):0},description:{propertyName:E.propertyData[e].propertyName,appealStatus:"",meritToAppealDetail:""},options:{draggable:!1}};E.locations.push(t)}}),angular.element(document).ready(function(){function e(e,t){var a=t-e.toString().length+1;return Array(+(a>0&&a)).join("0")+e}function a(t){var a=t.getFullYear(),n=e(t.getMonth()+1,2),r=e(t.getDate(),2);e(t.getHours(),2),e(t.getMinutes(),2),e(t.getSeconds(),2);return r+"-"+n+"-"+a}function e(e,t){var a=t-e.toString().length+1;return Array(+(a>0&&a)).join("0")+e}function a(t){var a=t.getFullYear(),n=e(t.getMonth()+1,2),r=e(t.getDate(),2);e(t.getHours(),2),e(t.getMinutes(),2),e(t.getSeconds(),2);return r+"-"+n+"-"+a}var n="01/01/2017 ",r="12/29/2017 ";t(".slider-time").html(n),t(".slider-time2").html(r);var o=Date.parse(n)/1e3,i=Date.parse(r)/1e3;t("#slider-range").slider({range:!0,min:o,max:i,step:10,values:[o,i],slide:function(e,n){var r=new Date(1e3*n.values[0]);t(".slider-time").html(a(r));var o=new Date(1e3*n.values[1]);t(".slider-time2").html(a(o))}});var n="01/01/2017 ",r="12/29/2017 ";t(".slider-timea").html(n),t(".slider-time2a").html(r);var o=Date.parse(n)/1e3,i=Date.parse(r)/1e3;t("#slider-rangea").slider({range:!0,min:o,max:i,step:10,values:[o,i],slide:function(e,n){var r=new Date(1e3*n.values[0]);t(".slider-timea").html(a(r));var o=new Date(1e3*n.values[1]);t(".slider-time2a").html(a(o))}});var s=!1;t("#drawer-handle,#prp").click(function(){(s=!s)?t("#drawer-content").animate({"margin-right":0},"slow"):t("#drawer-content").animate({"margin-right":-800},"slow")}),t("#adv-searcsh").on("click",function(e){e.stopPropagation()})})}function n(e,t){var a;for(a=0;a<t.length;a++)if(t[a].state===e)return!0;return!1}a.$inject=["User_Config","$state","$rootScope","mainService","$location","$scope","$http","__env","$log","AOTCService","$timeout","DTOptionsBuilder","DTColumnDefBuilder"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){var n={propId:e},r=t.defer();return a.postDataToServer("/properties/getPropertyDetialsById",n).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}function r(){return e({method:"get",url:"/properties/getPropertiesLandingPage",params:{action:"get"}}).then(i,o)}function o(e){return angular.isObject(e.data)&&e.data.message?t.reject(e.data.message):t.reject("An unknown error occurred.")}function i(e){return e.data}return{getProps:r,getPropertyDetialsById:n}}n.$inject=["$http","$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").controller("manualIE",a(247)),angular.module("AOTC").controller("manualRR",a(248)),angular.module("AOTC").controller("taxBill",a(249)),angular.module("AOTC").controller("multipleUploadIERR",a(250)),angular.module("AOTC").controller("uploadIERR",a(251)),angular.module("AOTC").controller("unlinkedProperties",a(252)),angular.module("AOTC").controller("corruptFiles",a(253)),angular.module("AOTC").controller("unlinkedFiles",a(254)),angular.module("AOTC").factory("UnlinkService",a(255)),angular.module("AOTC").controller("unparsedFiles",a(256)),angular.module("AOTC").controller("updateIERR",a(257)),angular.module("AOTC").controller("income_expense",a(258)),angular.module("AOTC").controller("other_files",a(259)),angular.module("AOTC").controller("PropertyDetailsTab",a(96).PropertyDetailsTab),angular.module("AOTC").directive("ngPropertyImageSelect",a(96).ngPropertyImageSelect),angular.module("AOTC").factory("PropertyDetailsTabService",a(262)),angular.module("AOTC").controller("PublicPropertyDetailsTab",a(263)),angular.module("AOTC").controller("PublicPropertyDetailsForProperty",a(264)),angular.module("AOTC").factory("PublicPropertyDetailsTabService",a(265)),angular.module("AOTC").controller("rent_role",a(266)),angular.module("AOTC").controller("tax_bills",a(267)),angular.module("AOTC").controller("viewIERR",a(268)),angular.module("AOTC").controller("PropertyListCtrl",a(269)),angular.module("AOTC").service("PrivatePropertyService",a(270)),angular.module("AOTC").controller("PublicPropertyCtrl",a(271)),angular.module("AOTC").service("PublicPropertyService",a(272)),angular.module("AOTC").controller("TabsViewerCtrl",a(273)),angular.module("AOTC").controller("PropValuation",a(99).PropValuation),angular.module("AOTC").directive("inputFocusFunction",a(99).inputFocusFunction),angular.module("AOTC").factory("ValuationService",a(274)),angular.module("AOTC").factory("PetitionerFormulae",a(275)),angular.module("AOTC").controller("SensitivityOne",a(276)),angular.module("AOTC").service("SensitivityService",a(277)),angular.module("AOTC").service("ScenarioDataService",a(278)),angular.module("AOTC").directive("resizable",a(279)),angular.module("AOTC").controller("SensitivityThree",a(280)),angular.module("AOTC").controller("Properties",a(100).Properties),angular.module("AOTC").directive("upload",a(100).upload),angular.module("AOTC").controller("Map",a(281)),angular.module("AOTC").controller("PropAssignment",a(282)),angular.module("AOTC").controller("AssignedUsersListCtrl",a(283)),angular.module("AOTC").controller("TaxAppeal",a(284))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p){function m(){h.formData={},s.manualForm.$setPristine(),s.manualForm.$setUntouched()}function f(){n.go("updateIERR")}function g(){h.formData={},s.manualForm.$setPristine(),s.manualForm.$setUntouched()}function v(){t("#preloader").css("display","block"),h.formData.propId=localStorage.getItem("propertyId"),h.formData.baseRent=h.formData.baseRent.toString(),h.formData.cashFlowNetIncome=h.formData.cashFlowNetIncome.toString(),h.formData.miscellaneousIncome=h.formData.miscellaneousIncome.toString(),h.formData.parkingIncome=h.formData.parkingIncome.toString(),h.formData.realEstateTaxes=h.formData.realEstateTaxes.toString(),h.formData.rentalIncome=h.formData.rentalIncome.toString(),h.formData.totalAdministrative=h.formData.totalAdministrative.toString(),h.formData.totalContractedServices=h.formData.totalContractedServices.toString(),h.formData.totalExpenses=h.formData.totalExpenses.toString(),h.formData.totalIncome=h.formData.totalIncome.toString(),h.formData.totalMaintenance=h.formData.totalMaintenance.toString(),h.formData.totalOperatingExpRecoverable=h.formData.totalOperatingExpRecoverable.toString(),h.formData.totalOperatingExpUnRecoverable=h.formData.totalOperatingExpUnRecoverable.toString(),h.formData.totalPersonnel=h.formData.totalPersonnel.toString(),h.formData.totalTaxesAndInsurance=h.formData.totalTaxesAndInsurance.toString(),h.formData.totalUtilities=h.formData.totalUtilities.toString(),d.postDataToServer("/incomeExpenses/addPropertyIEManual",h.formData).then(function(e){e.data.success?(s.$emit("success",e.data.message),s.manualForm.$setPristine(),s.manualForm.$setUntouched(),n.go("PropertyList.private_property_list")):s.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}var h=this;h.submitManualData=v,h.property=JSON.parse(localStorage.getItem("propertyDetails")),h.formData={},h.modalYesbutton=g,h.gotoPropertyDetails=f,h.resetForm=m,h.datePickers={asOfDate:!1,reportCreationDate:!1},h.openDatePicker=function(e){h.datePickers[e]=!0},h.dateFormat="MM/dd/yyyy";!function(){t("#myModal").modal("show")}()}a.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){function f(){t("#successModal").modal("toggle"),m(function(){r.go("updateIERR")},500)}function g(){for(var e=[],t=0;t<C.tenants.length;t++){var a=!1,n=C.tenants[t];for(var r in n)n[r]&&n[r].toString().indexOf("object:")<0&&(a=!0,n[r]=n[r].toString());a&&e.push(n)}return e}function v(){t("#preloader").css("display","block"),C.formData.propId=localStorage.getItem("propertyId"),C.formData.baseRent=C.formData.baseRent.toString(),C.formData.totalGrossRentMonthly=C.formData.totalGrossRentMonthly.toString(),C.formData.totalGrossRentPerSquareFeetPerYear=C.formData.totalGrossRentPerSquareFeetPerYear.toString(),C.formData.totalSF=C.formData.totalSF.toString(),C.formData.vacantPercentage=C.formData.vacantPercentage.toString(),C.formData.vacantSF=C.formData.vacantSF.toString(),C.formData.tenants=g(),p.postDataToServer("/rentRolls/addPropertyRRManual",C.formData).then(function(e){l.rentRollForm.$setPristine(),l.rentRollForm.$setUntouched(),l.tenantForm.$setPristine(),l.tenantForm.$setUntouched(),e.data.success?(l.$emit("success",e.data.message),t("#successModal").modal("toggle")):l.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}function h(){C.allSelected=+!C.allSelected;for(var e=0;e<C.tenants.length;e++){var t=C.tenants[e];0==C.allSelected?t.selected=0:t.selected=1}S()}function y(e){e.selected=+!e.selected,S()}function S(){for(var e=!1,t=0;t<C.tenants.length;t++){var a=C.tenants[t];a.selected&&(e=!0)}C.showRemoveButton=e;for(var n=!0,t=0;t<C.tenants.length;t++){var a=C.tenants[t];a.selected||(n=!1)}C.allSelected=n}function P(){C.tenants.push({selected:0,unit:"",tenant:"",squareFeet:"",startDate:"",endDate:"",baseRentMonthly:"",baseRentAnnualized:"",baseRentPerSquareFeetPerYear:"",baseRentPercentRentBump:"",rolling12Months:"",rollingPerSquareFeetPerYear:"",grossRentMonthly:"",grossRentPerSquareFeetPerYear:""}),l.tenantForm.$setPristine(),l.tenantForm.$setUntouched()}function D(){C.formData={},C.tenants=[],C.showRemoveButton=!1,l.rentRollForm.$setPristine(),l.rentRollForm.$setUntouched(),l.tenantForm.$setPristine(),l.tenantForm.$setUntouched(),t("#successModal").modal("hide")}function b(){for(var e=[],t=0;t<C.tenants.length;t++){var a=C.tenants[t];0==a.selected&&e.push(a)}C.tenants=e,0==C.tenants.length&&(C.allSelected=0,C.showRemoveButton=!1)}var C=this;C.property={},C.tenants=[],C.formData={},t(document).on("focus",".datepicker_recurring_start",function(){t(this).datepicker()}),a.property?(localStorage.setItem("SelectedProperty",angular.toJson(a.property)),C.property=a.property):C.property=JSON.parse(localStorage.getItem("propertyDetails")),C.addNewTenant=P,C.removeTenant=b,C.allSelected=0,C.selectAll=h,C.submitRRForm=v,C.resetForm=D,C.gotoPropertyDetails=f,C.toggleSelection=y,C.dateFormat="MM/dd/yyyy",C.showRemoveButton=!1,C.datePickers={asOfDate:!1,reportCreationDate:!1},C.openDatePicker=function(e){C.datePickers[e]=!0}}a.$inject=["$rootScope","$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p){function m(){t("#preloader").css("display","block");h.formData.propId=h.propertyId,d.postDataToServer("/properties/updateTaxAccNo",h.formData).then(function(e){e.data.success?(s.accForm.$setPristine(),s.accForm.$setUntouched(),t("#successModal").modal("toggle")):s.$emit("error",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}function f(){t("#successModal").modal("hide"),n.go("updateIERR")}function g(){h.formData={},s.accForm.$setPristine(),s.accForm.$setUntouched(),t("#successModal").modal("toggle")}function v(){h.formData={},s.accForm.$setPristine(),s.accForm.$setUntouched()}var h=this;h.formData={},h.property={},h.propertyId=localStorage.getItem("propertyId"),e.property?(localStorage.setItem("SelectedProperty",angular.toJson(e.property)),h.property=e.property):h.property=JSON.parse(localStorage.getItem("propertyDetails")),h.resetForm=v,h.submitAccData=m,h.gotoupdateProperty=f,h.modalYesbutton=g}a.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p){function m(a){e.clearFile(),h.hideModalFormFillButton=!1,h.FileNames=[],h.selected=a,0==h.selected?(s.uploadFileLabel="Upload File(s)",s.formFillLabel="Fill Form",s.modalHeading="Income Expense Statement(s) or enter data manually"):1==h.selected&&(s.uploadFileLabel="Upload File(s)",s.formFillLabel="Fill Form",s.modalHeading="Rent Roll Report(s) or enter data manually"),t("#myModal").modal("toggle")}function f(e){t("#preloader").css("display","block"),d.uploadFiles("/rentRolls/addBulkPropertyRR",h.RRData).then(function(a){t("#preloader").css("display","none");var r=a.data;r.success?(t("#myModal").modal("toggle"),setTimeout(function(){n.go("TaskManager",{messageFrom:"multipleUploadIERR",message:r.message})},500)):s.$emit("danger",r.message),e()},function(e){t("#preloader").css("display","none")})}function g(e){t("#preloader").css("display","block");d.uploadFiles("/incomeExpenses/addBulkPropertyIE",h.IEData).then(function(a){t("#preloader").css("display","none");var r=a.data;r.success?(t("#myModal").modal("toggle"),setTimeout(function(){n.go("TaskManager",{messageFrom:"multipleUploadIERR",message:r.message})},500)):s.$emit("danger",r.message),e()},function(e){t("#preloader").css("display","none")})}function v(){0==h.selected?g(function(){}):1==h.selected&&f(function(){})}var h=this;h.showIEFile=!1,h.showRRFile=!1,h.IEFileName="",h.RRFileName="",h.uploadSelectedFiles=v,h.showMyModal=m,h.propertyId="",h.RRFileUploadStatus=!1,h.IEFileUploadStatus=!1,h.property={},h.IERR_Result={IEData:[],RRData:[]},s.fileUploaded=function(){if(h.FileNames=[],0==h.selected){var e=document.getElementById("files-IERR").files;h.IEData=e;for(var t=0;t<e.length;t++)h.FileNames.push({name:e[t].name,uploadStatus:!0})}else if(1==h.selected){var e=document.getElementById("files-IERR").files;h.RRData=e;for(var t=0;t<e.length;t++)h.FileNames.push({name:e[t].name,uploadStatus:!0})}s.$apply()}}a.$inject=["UtilService","$stateParams","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d){function p(){h.showRRFile&&m(),h.showIEFile&&f()}function m(){var e="/rentRolls/addPropertyRR?propId="+h.propertyId;t("#preloader").css("display","block"),u.uploadFiles(e,h.RRData).then(function(e){h.IERR_Result.RRData=e.data,h.RRData&&h.IEData?(h.RRFileUploadStatus=!0,h.IEFileUploadStatus&&g()):g()},function(e){t("#preloader").css("display","none")})}function f(){t("#preloader").css("display","block");var e="/incomeExpenses/addPropertyIE?propId="+h.propertyId;u.uploadFiles(e,h.IEData).then(function(e){h.IERR_Result.IEData=e.data,h.RRData&&h.IEData?(h.IEFileUploadStatus=!0,h.RRFileUploadStatus&&g()):g()},function(e){t("#preloader").css("display","none")})}function g(){if(h.IERR_Result.IEData&&h.IERR_Result.RRData){var e=h.IERR_Result.IEData,n=h.IERR_Result.RRData;if(1==e.success&&e.result&&0==e.result.length&&1==n.success&&0==n.result.length)a.go("listProperties",{messageFrom:"uploadIERR"});else{for(var r=0;r<h.IEFileNames.length;r++)for(var o=h.IEFileNames[r].name,i=0;i<e.result.length;i++)o==e.result[i]&&(h.IEFileNames[r].uploadStatus=!1);for(var r=0;r<h.RRFileNames.length;r++)for(var o=h.RRFileNames[r].name,i=0;i<n.result.length;i++)o==n.result[i]&&(h.RRFileNames[r].uploadStatus=!1);t("#preloader").css("display","none"),t(".dangerr").fadeIn(1500).delay(500).fadeOut(500)}}else if(h.IERR_Result.IEData){var e=h.IERR_Result.IEData;if(null==e.result&&(e.result=[]),1==e.success&&0==e.result.length)a.go("listProperties",{messageFrom:"uploadIERR"});else{for(var r=0;r<h.IEFileNames.length;r++)for(var o=h.IEFileNames[r].name,i=0;i<e.result.length;i++)o==e.result[i]&&(h.IEFileNames[r].uploadStatus=!1);t("#preloader").css("display","none"),t(".dangerr").fadeIn(1500).delay(500).fadeOut(500)}}else if(h.IERR_Result.RRData){var n=h.IERR_Result.RRData;if(1==n.success&&n.result&&0==n.result.length)a.go("listProperties",{messageFrom:"uploadIERR"});else{for(var r=0;r<h.RRFileNames.length;r++)for(var o=h.RRFileNames[r].name,i=0;i<n.result.length;i++)o==n.result[i]&&(h.RRFileNames[r].uploadStatus=!1);t("#preloader").css("display","none"),t(".dangerr").fadeIn(1500).delay(500).fadeOut(500)}}}function v(e){}var h=this;h.showIEFile=!1,h.showRRFile=!1,h.IEFileName="",h.RRFileName="",h.sendData=p,h.propertyId="",h.property={},h.RRFileUploadStatus=!1,h.IEFileUploadStatus=!1,h.IERR_Result={IEData:null,RRData:null},e.property?(localStorage.setItem("SelectedProperty",angular.toJson(e.property)),h.property=e.property,h.propertyId=e.property.prop._id):(h.property=JSON.parse(localStorage.getItem("SelectedProperty")),h.propertyId=h.property.prop._id),h.IEFileNames=[],h.RRFileNames=[],i.IEfileUploaded=function(){},h.removeIEFile=v,i.RRfileUploaded=function(){h.RRFileNames=[];var e=document.getElementById("file-rr").files;h.RRData=e;for(var t=0;t<e.length;t++)h.RRFileNames.push({name:e[t].name,uploadStatus:!0});h.showRRFile=!0,i.$digest()}}a.$inject=["$stateParams","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a,n,r,o,i,s,l,c,u,d){function p(){a.go("unlinkedProperties.unlinkedFiles")}function m(){a.go("unlinkedProperties.corruptFiles")}function f(){a.go("unlinkedProperties.unparsedFiles")}function g(e){return e===o.path()}var v=this;v.isActive=g,v.showUnlinkedFiles=p,v.showCorruptFiles=m,v.showUnparsedFiles=f}n.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r,o,i,s,l,c,u,d){}n.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e){var a=this;a.tableData=[],t("#preloader").css("display","block"),e.getUnlinkedFiles().then(function(e){a.tableData=e.data.result,t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}a.$inject=["UnlinkService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(t){var a=localStorage.getItem("token");return e({method:"GET",url:t,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:a}})}function n(t,a){var n=localStorage.getItem("token");return e({method:"PUT",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function r(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function o(){var e=t.defer();return a("/unlinkedFiles/getUnlinkedFiles").then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise}return{getUnlinkedFiles:o,getDataFromServer:a,postDataToServer:r,putDataToServer:n}}n.$inject=["$http","$q"],e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r,o,i,s,l,c,u,d){}n.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){function f(){t("#myModal").modal("toggle"),setTimeout(function(){0==D.selected?r.go("manualIE"):1==D.selected?r.go("manualRR"):3==D.selected&&r.go("taxBill")},500)}function g(){0==D.selected?v():1==D.selected?h():3==D.selected?S():4==D.selected&&y()}function v(){if(D.IEData){t("#preloader").css("display","block");var e="/incomeExpenses/addPropertyIE?propId="+D.propertyId;p.uploadFiles(e,D.IEData).then(function(e){D.IERR_Result.IEData=e.data,t("#myModal").modal("toggle"),m(function(){r.go("TaskManager")},500)},function(e){t("#preloader").css("display","none")})}}function h(){if(D.RRData){t("#preloader").css("display","block");var e="/rentRolls/addPropertyRR?propId="+D.propertyId;t("#preloader").css("display","block"),p.uploadFiles(e,D.RRData).then(function(e){D.IERR_Result.RRData=e.data,t("#myModal").modal("toggle"),m(function(){r.go("TaskManager")},500)},function(e){t("#preloader").css("display","none")})}}function y(){if(D.othersData){t("#preloader").css("display","block");for(var e="/otherFiles/uploadOtherFiles?propId="+D.propertyId,a="",n=0;n<D.FileNames.length;n++)n+1==D.FileNames.length?a+=D.FileNames[n].description:a+=D.FileNames[n].description+",";p.uploadFilesWithDescription(e,D.othersData,a).then(function(e){var a=e.data;1==a.success?(t("#preloader").css("display","none"),t("#myModal").modal("toggle"),l.$emit("success",a.message),setTimeout(function(){r.go("viewIERR.other_files")},500)):(t("#preloader").css("display","none"),l.$emit("danger",a.message))},function(e){t("#preloader").css("display","none")})}}function S(){if(D.taxBill){t("#preloader").css("display","block");for(var e="/taxBills/uploadTaxBillFile?propId="+D.propertyId,a="",n=0;n<D.FileNames.length;n++)n+1==D.FileNames.length?a+=D.FileNames[n].description:a+=D.FileNames[n].description+",";p.uploadFilesWithDescription(e,D.taxBill,a).then(function(e){var a=e.data;1==a.success?(t("#preloader").css("display","none"),t("#myModal").modal("toggle"),l.$emit("success",a.message),setTimeout(function(){r.go("viewIERR.tax_bills")},500)):(t("#preloader").css("display","none"),t(".dangerr").fadeIn(1500).delay(500).fadeOut(500))},function(e){t("#preloader").css("display","none")})}}function P(a){e.clearFile(),D.hideModalFormFillButton=!1,D.FileNames=[],D.selected=a,D.IEData=[],D.RRData=[],D.taxBill=[],D.othersData=[],0==D.selected?(l.uploadFileLabel="Upload File(s)",l.formFillLabel="Fill Form",l.modalHeading="Income Expense Statement(s) or enter data manually"):1==D.selected?(l.uploadFileLabel="Upload File(s)",l.formFillLabel="Fill Form",l.modalHeading="Rent Roll Report(s) or enter data manually"):3==D.selected?(l.uploadFileLabel="Upload File(s)",l.formFillLabel="Fill Form",l.modalHeading="Tax Bill(s) or enter data manually"):4==D.selected&&(l.uploadFileLabel="Upload File(s)",D.hideModalFormFillButton=!0,l.modalHeading="More File(s)"),t("#myModal").modal("toggle")}var D=this;D.property={},D.property=JSON.parse(localStorage.getItem("propertyDetails")),D.propertyId=JSON.parse(localStorage.getItem("propertyId")),D.userId=JSON.parse(localStorage.getItem("userId")),D.FileNames=[],D.selected=-1,D.selection=[{id:0,state:"IE"},{id:1,state:"RR"}],D.uploadData=g,D.gotoManualUpload=f,D.images=[],D.IERR_Result={IEData:null,RRData:null},D.otherData=[],l.uploadFileLabel="",l.formFillLabel="",l.modalHeading="",D.hideModalFormFillButton=!1,D.showMyModal=P,l.fileUploaded=function(e){var e=document.getElementById("file-1").files;if(D.FileNames=[],0==D.selected){D.IEData=e;for(var t=0;t<e.length;t++)D.FileNames.push({name:e[t].name,uploadStatus:!0})}else if(1==D.selected){D.RRData=e;for(var t=0;t<e.length;t++)D.FileNames.push({name:e[t].name,uploadStatus:!0})}else if(3==D.selected){D.taxBill=e;for(var t=0;t<e.length;t++)D.FileNames.push({name:e[t].name,description:"",uploadStatus:!0})}else if(4==D.selected){D.othersData=e;for(var t=0;t<e.length;t++)D.FileNames.push({name:e[t].name,description:"",uploadStatus:!0})}l.$apply()}}a.$inject=["UtilService","$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c){function u(e){"glyphicon-plus"==e.activeClass?e.activeClass="glyphicon-minus":e.activeClass="glyphicon-plus";for(var t=0;t<y.tableData.length;t++){var a=y.tableData[t];a.id!=e.id&&(a.activeClass="glyphicon-plus")}}function d(){var e={propId:y.propertyId};t("#preloader").css("display","block"),s.postDataToServer("/incomeExpenses/getPropertyIE",e).then(function(e){var a=e.data;if(a.success){y.tableData=a.result,0==y.tableData.length&&(y.hideYardiTable=!0);for(var n=0;n<y.tableData.length;n++){var r=y.tableData[n];r.id=r.IE._id,0==n?(r.isActive=!0,r.activeClass="glyphicon-minus"):(r.isActive=!1,r.activeClass="glyphicon-plus")}t("#preloader").css("display","none")}},function(e){t("#preloader").css("display","none")})}function p(){y.mriShow=!0,y.yardiShow=!0;t("#preloader").css("display","block");var e={propId:y.propertyId,year:2017};s.postDataToServer("/incomeExpenses/dataReductionIE",e).then(function(e){if(e.data.success){var t=e.data;y.yardiIEData=t.result.yardiIEData,y.yardiIEYear=y.yardiIEData[y.yardiIEData.length-1],y.mriIEData=t.result.mriIEData,y.mriIEYear=y.mriIEData[y.mriIEData.length-1],0==y.mriIEData.length?y.mriShow=!1:0==y.yardiIEData.length&&(y.yardiShow=!1)}},function(e){})}function m(e){y.modelMessage.title="Unlink "+e.IE.properties.fileName,y.modelMessage.message="Are you sure to unlink file from this property?",y.selection=1,y.incomeExpenseIds.push(e.IE._id)}function f(e){y.modelMessage.title="Delete "+e.IE.properties.fileName,y.modelMessage.message="Are you sure to delete file from this property?",y.selection=0,y.incomeExpenseIds.push(e.IE._id)}function g(){1===y.selection?v():0===y.selection&&h(),y.selection=-1}function v(){t("#preloader").css("display","block"),y.data={propId:parseInt(localStorage.getItem("propertyId")),incomeExpenseIds:y.incomeExpenseIds},s.postDataToServer("/incomeExpenses/unlinkIEFiles",y.data).then(function(e){e.data.success?(n.$emit("success",e.data.message),d(),p()):n.$emit("error",e.data.message),y.incomeExpenseIds=[],t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),n.$emit("error",e.data.message)})}function h(){t("#preloader").css("display","block"),y.data={incomeExpenseIds:y.incomeExpenseIds},s.postDataToServer("/incomeExpenses/deleteIEById",y.data).then(function(e){e.data.success?(n.$emit("success",e.data.message),d()):n.$emit("error",e.data.message),y.incomeExpenseIds=[],t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),n.$emit("error",e.data.message)})}var y=this;y.numberFormatter=function(e){return l.numberFormatter(e)},y.keyValMaker=function(e){return l.keyValMaker(e)},y.reducedData=function(e){return l.reducedData(e)},y.propertiesCount=localStorage.getItem("propertiesCount"),y.IERRProperty=JSON.parse(localStorage.getItem("propertyDetails")),y.propertyId=JSON.parse(localStorage.getItem("propertyId")),setTimeout(function(){t("#paragraphs").cascadingDivs()},200),y.toggleActiveClass=u,d(),p(),y.hideYardiTable=!1,y.mriShow=!0,y.yardiShow=!0,y.unlinkIncomeExpense=m,y.deleteIncomeExpense=f,y.myModelCheck=g,y.modelMessage={title:"",message:""},y.incomeExpenseIds=[],y.selection=-1}a.$inject=["$stateParams","$location","$scope","$http","__env","$log","AOTCService","UtilService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s){function l(e){f.modelMessage.title="Unlink "+e.otherFileNodes.properties.fileName,f.modelMessage.message="Are you sure to unlink file from this property?",f.otherFileIds.push(e.otherFileNodes._id),f.selection=0}function c(e){f.modelMessage.title="Delete "+e.otherFileNodes.properties.fileName,f.modelMessage.message="Are you sure to delete file from this property?",f.otherFileIds.push(e.otherFileNodes._id),f.selection=1}function u(){1===f.selection?m():0===f.selection&&p(),f.selection=-1}function d(){var e={propId:f.propertyId};t("#preloader").css("display","block"),i.postDataToServer("/otherfiles/getOtherFiles",e).then(function(e){var a=e.data;a.success&&(f.tableData=a.result,t("#preloader").css("display","none"),setTimeout(function(){t('[data-tooltip="tooltip"]').tooltip()},100))},function(e){t("#preloader").css("display","none")})}function p(){t("#preloader").css("display","block"),f.data={propId:parseInt(localStorage.getItem("propertyId")),otherFileIds:f.otherFileIds},i.postDataToServer("/otherFiles/unlinkOtherFilesById",f.data).then(function(e){e.data.success?(a.$emit("success",e.data.message),d()):a.$emit("error",e.data.message),f.taxBillIds=[],t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),a.$emit("error",e.data.message)})}function m(){t("#preloader").css("display","block"),f.data={otherFileIds:f.otherFileIds},i.postDataToServer("/otherFiles/deleteOtherFilesById",f.data).then(function(e){e.data.success?(a.$emit("success",e.data.message),d()):a.$emit("error",e.data.message),f.taxBillIds=[],t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),a.$emit("error",e.data.message)})}var f=this;f.propertiesCount=localStorage.getItem("propertiesCount"),f.propertyId=JSON.parse(localStorage.getItem("propertyId")),f.unlinkOtherFile=l,f.deleteOtherFile=c,f.myModelCheck=u,f.modelMessage={title:"",message:""},f.otherFileIds=[],f.selection=-1,d()}a.$inject=["$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){(function(e){function n(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a(261),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,a(45))},function(e,t,a){(function(e,t){!function(e,a){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var n={callback:e,args:t};return c[l]=n,s(l),l++}function r(e){delete c[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n)}}function i(e){if(u)setTimeout(i,0,e);else{var t=c[e];if(t){u=!0;try{o(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var s,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){i(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?function(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"==typeof a.data&&0===a.data.indexOf(t)&&i(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),s=function(a){e.postMessage(t+a,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var a=d.createElement("script");a.onreadystatechange=function(){i(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}():function(){s=function(e){setTimeout(i,0,e)}}(),p.setImmediate=n,p.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,a(45),a(98))},function(e,t,a){"use strict";(function(t){function a(e,a,n){function r(){var e=parseInt(localStorage.getItem("propertyId")),t={propId:e},r=n.defer();return a.postDataToServer("/propertyImages/getAllImages",t).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}function o(){var e=parseInt(localStorage.getItem("propertyId")),r={propId:e},o=n.defer();return t("#preloader").css("display","block"),a.postDataToServer("/properties/getSlavePropertiesByMasterId",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function i(e,t){var r={imageId:e,tag:t},o=n.defer();return a.postDataToServer("/propertyImages/deleteImageById",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function s(e,t){var r={propId:e,imageId:t},o=n.defer();return a.postDataToServer("/propertyImages/setMainImage",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}return{getAllImages:r,getProperty:o,deleteImageById:i,setMainImage:s}}a.$inject=["$http","AOTCService","$q"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c){function u(){l.getAllImages().then(function(e){var t=e.data;t.success&&(S.images=t.result,h(!1),S.isDeleting=!1)},function(e){t("#preloader").css("display","none")})}function d(e){"glyphicon-plus"==e.activeClass?e.activeClass="glyphicon-minus":e.activeClass="glyphicon-plus";for(var t=0;t<S.properties.length;t++){var a=S.properties[t];a.id!=e.id&&(a.activeClass="glyphicon-plus")}}function p(e,t){var a=S.images.length;a===n._Index+1&&n.showPhoto(a-2),l.deleteImageById(e,t).then(function(e){e.data.success?(u(),h(!0),n.$emit("success","Record deleted successfully")):(n.$emit("error","Record deleted unsuccessfull"),S.isDeleting=!1)},function(e){})}function m(e){t("#propCard").flip(!1)}function f(e){t("#propCard").flip(!0)}function g(e,t,a){S.modelMessage.title="Delete Picture",S.modelMessage.message="Are you sure you want to delete picture “"+e+"” from this property?",S.imageDeleteId=t,S.imageDeleteTag=a}function v(){S.isDeleting=!0,null!=S.imageDeleteId&&p(S.imageDeleteId,S.imageDeleteTag)}function h(e){c(function(){var e=S.images.length,a=0;e>7&&(a=-100*(e-7)),t(".nav").draggable({axis:"x",stop:function(){var e=parseInt(t(this).css("left"));e>0&&t(this).animate({left:"0px"}),e<a&&t(this).animate({left:a+"px"})}})},500)}function y(e){var t=localStorage.getItem("propertyId");l.setMainImage(t,e).then(function(e){e.data.success?(u(),h(!1),n.$emit("success","Main image set successfully")):n.$emit("error","Main image set unsuccessfull")},function(e){})}var S=this;n.isArray=function(e){try{if(Array.isArray(e)){for(var t="",a=0;a<e.length;a++)a!=e.length-1?t+=e[a]+", ":t+=e[a];return t}return e}catch(t){return e}},S.toggleActiveClass=d,S.deleteImageById=p,S.flipBack=m,S.flipFront=f,S.isDeleting=!1,n.showInfo=!0,t("#propCard").flip({trigger:"manual"}),t(".nav-tabs.public-tabs a").click(function(e){e.preventDefault(),e.stopPropagation(),t(this).tab("show")}),S.propertyDetails=JSON.parse(localStorage.getItem("propertyDetails")),S.propertyId=JSON.parse(localStorage.getItem("propertyId")),S.images=[],S.properties=[],S.showAllData=!1,S.myModelCheck=v,S.deleteByID=g,S.setMainImage=y,S.imageDeleteId="",S.imageDeleteTag="",S.deleteByIDImage=null,S.modelMessage={title:"",message:""},S.publicProperty=null,n._Index=0,n.map={center:{latitude:S.propertyDetails.latitude,longitude:S.propertyDetails.longitude},zoom:14},n.marker={id:1,coords:{latitude:S.propertyDetails.latitude,longitude:S.propertyDetails.longitude},options:{draggable:!1,icon:"assets/img/marker.png"},events:{}},u();!function(){var e={publicPropertyId:S.propertyId};t("#preloader").css("display","block"),s.postDataToServer("properties/getPublicPropertyDetailsById",e).then(function(e){if(e.data.success){var a=e.data.result[0],r={};angular.forEach(a.details,function(e,t){angular.extend(r,e)}),S.allPropertyDetails=r,console.log(S.allPropertyDetails)}else n.$emit("danger",e.data.message);t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}();n.isActive=function(e){return n._Index===e},n.showPhoto=function(e){n._Index=e},n.showPrev=function(){n._Index=n._Index>0?--n._Index:S.images.length-1;var e=100*n._Index;t("#drag").animate({right:e+"px"})},n.showNext=function(){n._Index=n._Index<S.images.length-1?++n._Index:0;var e=100*n._Index;t("#drag").animate({right:e+"px"})}}a.$inject=["$stateParams","$location","$scope","$http","__env","$log","AOTCService","PropertyDetailsTabService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c){function u(e){try{return JSON.parse(e)}catch(e){return!1}}function d(e){"glyphicon-plus"==e.activeClass?e.activeClass="glyphicon-minus":e.activeClass="glyphicon-plus";for(var t=0;t<p.properties.length;t++){var a=p.properties[t];a.id!=e.id&&(a.activeClass="glyphicon-plus")}}var p=this;n.isArray=function(e){try{if(Array.isArray(e)){for(var t="",a=0;a<e.length;a++)a!=e.length-1?t+=e[a]+", ":t+=e[a];return t}return e}catch(t){return e}},p.toggleActiveClass=d,p.isDeleting=!1,n.showInfo=!0,t("#propCard").flip({trigger:"manual"}),t(".nav-tabs.public-tabs a").click(function(e){e.preventDefault(),e.stopPropagation(),t(this).tab("show")}),p.propertyDetails=JSON.parse(localStorage.getItem("propertyDetails")),p.propertyId=JSON.parse(localStorage.getItem("propertyId")),p.publicPropertyId=p.propertyDetails.publicData,p.images=[],p.properties=[],p.showAllData=!1,p.imageDeleteId="",p.imageDeleteTag="",p.deleteByIDImage=null,p.modelMessage={title:"",message:""},p.publicProperty=null,n._Index=0;!function(){var e={publicPropertyId:p.publicPropertyId};t("#preloader").css("display","block"),s.postDataToServer("properties/getPublicPropertyDetailsById",e).then(function(e){if(e.data.success){var a=e.data.result[0],r={};angular.forEach(a.details,function(e,t){console.log(e),angular.extend(r,e)});angular.forEach(r,function(e,t){var a=u(e[1]);console.log(a),0!=a&&null!=a&&(e[1]=a)}),console.log(r),p.allPropertyDetails=r}else n.$emit("danger",e.data.message);t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}();n.isActive=function(e){return n._Index===e},n.showPhoto=function(e){n._Index=e}}a.$inject=["$stateParams","$location","$scope","$http","__env","$log","AOTCService","PropertyDetailsTabService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n){function r(){var e=parseInt(localStorage.getItem("propertyId")),t={propId:e},r=a.defer();return n.postDataToServer("/propertyImages/getAllImages",t).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}function o(){var e=parseInt(localStorage.getItem("propertyId")),r={propId:e},o=a.defer();return t("#preloader").css("display","block"),n.postDataToServer("/properties/getSlavePropertiesByMasterId",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function i(e,t){var r={imageId:e,tag:t},o=a.defer();return n.postDataToServer("/propertyImages/deleteImageById",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function s(e,t){var r={propId:e,imageId:t},o=a.defer();return n.postDataToServer("/propertyImages/setMainImage",r).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}return{getAllImages:r,getProperty:o,deleteImageById:i,setMainImage:s}}a.$inject=["$http","$q","AOTCService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r){function o(e){if(void 0===e||null===e||e.length<5)return null;var t=e.split("/");return 3!=t.length?null:t}function i(e,t){var a=o(e[1]),n=o(t[1]);if(null===a&&null===n)return 0;if(null===a)return-1;if(null===n)return 1;var r=a[2],i=a[0],s=a[1],l=n[2],c=n[0],u=n[1],d=0;return r!=l?d=r-l:r==l&&(i!=c?d=i-c:i==c&&(d=s-u)),d}function s(){var e={propId:h.propertyId};t("#preloader").css("display","block"),a.postDataToServer("/rentRolls/getPropertyRR",e).then(function(e){var a=e.data;a.success&&(h.tableData=a.result,r(function(){for(var e=0;e<h.tableData.length;e++){for(var a=h.tableData[e],n=f(a.tenants[0]),r=[],o=0;o<n.length;o++){var s=n[o],l=Object.keys(s)[0],c=s[l],u={headerName:s[l][0],comparator:"",field:l,cellRenderer:"",suppressSorting:!1};"Start Date"==c[0]||"End Date"==c[0]?(u.comparator=i,u.cellRenderer=function(e){return null==e.value[1]&&(e.value[1]=""),'<span class="pull-right">'+e.value[1]+"</span>"}):"Tenant"==c[0]?u.cellRenderer=function(e){var t=m(e.value);return null==t&&(t=""),'<span class="pull-left">'+t+"</span>"}:(u.suppressSorting=!0,u.cellRenderer=function(e){var t=m(e.value);return null==t&&(t=""),'<span class="pull-right">'+t+"</span>"}),r.push(u)}if(a.tenants.length>0){var d="#myGrid"+e,p=document.querySelector(d),g={enableSorting:!0,columnDefs:r,rowData:a.tenants,onGridReady:function(e){},enableColResize:!0};new agGrid.Grid(p,g)}a.id=a.RR._id,0==e?(a.isActive=!0,a.activeClass="glyphicon-minus"):(a.isActive=!1,a.activeClass="glyphicon-plus"),setTimeout(function(){t('[data-tooltip="tooltip"]').tooltip()},100)}t("#preloader").css("display","none")},500))},function(e){t("#preloader").css("display","none")})}function l(e){h.modelMessage.title="Unlink RentRoll: "+e.RR.properties.fileName,h.modelMessage.message="Are you sure to unlink RentRoll from this property?",h.selection=1,h.rentRollsIds.push(e.RR._id)}function c(e){h.modelMessage.title="Delete RentRoll: "+e.RR.properties.fileName,h.modelMessage.message="Are you sure to delete RentRoll from this property?",h.selection=0,h.rentRollsIds.push(e.RR._id)}function u(){1===h.selection?d():0===h.selection&&p(),h.selection=-1}function d(){t("#preloader").css("display","block"),h.data={propId:parseInt(localStorage.getItem("propertyId")),rentRollsIds:h.rentRollsIds},a.postDataToServer("/rentRolls/unlinkRentRollsById",h.data).then(function(a){a.data.success?(e.$emit("success",a.data.message),s()):e.$emit("error",a.data.message),h.rentRolls=[],t("#preloader").css("display","none")},function(a){t("#preloader").css("display","none"),e.$emit("error",a.data.message)})}function p(){t("#preloader").css("display","block"),h.data={rentRollsIds:h.rentRollsIds},a.postDataToServer("/rentRolls/deleteRentRollsById",h.data).then(function(a){a.data.success?(e.$emit("success",a.data.message),s()):e.$emit("error",a.data.message),h.rentRolls=[],t("#preloader").css("display","none")},function(a){t("#preloader").css("display","none"),e.$emit("error",a.data.message)})}function m(e){return n.numberFormatter(e)}function f(e){return n.keyValMakerForGrid(e)}function g(e){return n.keyValMaker(e)}function v(e){"glyphicon-plus"==e.activeClass?e.activeClass="glyphicon-minus":e.activeClass="glyphicon-plus";for(var t=0;t<h.tableData.length;t++){var a=h.tableData[t];a.id!=e.id&&(a.activeClass="glyphicon-plus")}}var h=this;h.propertiesCount=localStorage.getItem("propertiesCount"),h.IERRProperty=JSON.parse(localStorage.getItem("propertyDetails")),h.propertyId=JSON.parse(localStorage.getItem("propertyId")),h.modelMessage={title:"",message:""},h.toggleActiveClass=v,h.unlinkRentRoll=l,h.deleteRentRoll=c,h.myModelCheck=u,h.rentRollsIds=[],h.numberFormatter=m,h.keyValMakerForGrid=f,h.keyValMaker=g,s()}a.$inject=["$scope","AOTCService","UtilService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s){function l(e){f.modelMessage.title="Unlink "+e.taxBills.properties.fileName,f.modelMessage.message="Are you sure to unlink file from this property?",f.selection=1,f.taxBillIds.push(e.taxBills._id)}function c(e){f.modelMessage.title="Delete "+e.taxBills.properties.fileName,f.modelMessage.message="Are you sure to delete file from this property?",f.selection=0,f.taxBillIds.push(e.taxBills._id)}function u(){1===f.selection?p():0===f.selection&&m(),f.selection=-1}function d(){var e={propId:f.propertyId};t("#preloader").css("display","block"),i.postDataToServer("/taxBills/getTaxBills",e).then(function(e){var a=e.data;a.success&&(f.tableData=a.result,t("#preloader").css("display","none"),setTimeout(function(){t('[data-tooltip="tooltip"]').tooltip()},100))},function(e){t("#preloader").css("display","none")})}function p(){t("#preloader").css("display","block"),f.data={propId:parseInt(localStorage.getItem("propertyId")),taxBillIds:f.taxBillIds},i.postDataToServer("/taxBills/unlinkTaxBillsById",f.data).then(function(e){e.data.success?(a.$emit("success",e.data.message),d()):a.$emit("error",e.data.message),f.taxBillIds=[],t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),a.$emit("error",e.data.message)})}function m(){t("#preloader").css("display","block"),f.data={taxBillIds:f.taxBillIds},i.postDataToServer("/taxBills/deleteTaxBillsById",f.data).then(function(e){e.data.success?(a.$emit("success",e.data.message),d()):a.$emit("error",e.data.message),f.taxBillIds=[],t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),a.$emit("error",e.data.message)})}var f=this;f.propertiesCount=localStorage.getItem("propertiesCount"),f.propertyId=JSON.parse(localStorage.getItem("propertyId")),f.unlinkTaxBill=l,f.deleteTaxBill=c,f.myModelCheck=u,f.modelMessage={title:"",message:""},f.taxBillIds=[],f.selection=-1,d()}a.$inject=["$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p){function m(e){return e===i.path()}function f(){n.go("viewIERR.propertyDetailsTab")}function g(){n.go("viewIERR.income_expense")}function v(){n.go("viewIERR.public_property_tab")}function h(){n.go("viewIERR.rent_role")}function y(){n.go("viewIERR.other_files")}function S(){n.go("viewIERR.tax_bills")}var P=this;P.IERRProperty={},P.IERRProperty=JSON.parse(localStorage.getItem("propertyDetails")),P.propertyId=JSON.parse(localStorage.getItem("propertyId"));var D=localStorage.getItem("role");P.hideTabs="Assessing Authority"!==D,P.isActive=m,P.showRentRole=h,P.showIncomeExpense=g,P.showOtherFiles=y,P.showTaxBills=S,P.showPublicProperty=v,e.success&&t("div.success").fadeIn(1500).delay(500).fadeOut(1500,function(){}),P.showPropertyDetails=f}a.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l){function c(){for(var e=[],t=I.api.getSelectedRows(),a=0;a<t.length;a++){var n=t[a];e.push(n._id)}return e}function u(){C=1,t("#preloader").css("display","block");var e=c(),a={propIds:e};I.api.deselectAll(),o.postDataToServer("/properties/multiAccountLinking",a).then(function(e){C=0,b.showDeleteButton=!1,b.showMultiPartAccount=!1;var a=e.data;t("#preloader").css("display","none"),a.success?(f([]),s.$emit("success",a.message)):s.$emit("error",a.message)},function(e){t("#preloader").css("display","none")})}function d(){C=1;var e=c(),a={propIds:e};I.api.deselectAll(),o.postDataToServer("/properties/multiPartLinking",a).then(function(e){C=0;var a=e.data;b.showDeleteButton=!1,b.showMultiPartAccount=!1,t("#preloader").css("display","none"),a.success?(f([]),s.$emit("success",a.message)):s.$emit("error",a.message)},function(e){t("#preloader").css("display","none")})}function p(){C=1;var e=S();I.api.getSelectedRows().length>0&&I.api.deselectAll(),o.deleteProperties(e).then(function(e){C=0,t("#preloader").css("display","none"),e.success?(f([]),b.showDeleteButton=!1,b.showMultiPartAccount=!1,s.$emit("success",e.message)):s.$emit("error",e.message)},function(e){C=0,s.$emit("error",e.message),t("#preloader").css("display","none")})}function m(e){for(var t=!1,a=!1,n=0;n<e.length;n++){var r=e[n];"multiaccount"==r.relationType?a=!0:"multipart"==r.relationType&&(t=!0)}a&&t?b.showMultiPartAccount=!1:e.length>1?b.showMultiPartAccount=!0:b.showMultiPartAccount=!1}function f(e){var a={rowCount:null,getRows:function(a){C=1;var n={paginationPageSize:b.paginationPageSize,startRow:a.startRow,sortModel:a.sortModel[0]?a.sortModel[0]:{},filterModel:a.filterModel};t("#pri-preloader").css("display","block"),o.getProps(n).then(function(n){C=0;var r=n.data;if(r.success){b.tableData=r.result.data,e=b.tableData;for(var o=0;o<e.length;o++){var i=e[o];i.id=i._id}var s,l=e;s=r.result.totalRecords,a.successCallback(l,s)}t("#preloader").css("display","none"),t("#pri-preloader").css("display","none")})}};I.api.setDatasource(a)}function g(){b.selectedOption=0,S().length>1?(b.modelMessage.title="Delete Properties",b.modelMessage.message="Are you sure you want to delete the selected properties?"):(b.modelMessage.title="Delete Property",b.modelMessage.message="Are you sure you want to delete this property?")}function v(){b.selectedOption=1,b.modelMessage.title="Multi Account Property",b.modelMessage.message="Are you sure to link these properties?"}function h(){b.selectedOption=2,b.modelMessage.title="Multi Part Property",b.modelMessage.message="Are you sure to link these properties?"}function y(){0==b.selectedOption&&p(),1==b.selectedOption&&u(),2==b.selectedOption&&d()}function S(){for(var e=[],t=I.api.getSelectedRows(),a=0;a<t.length;a++)e.push(t[a]._id);return e}function P(){}function D(e){var t=null;return angular.forEach(b.tableData,function(a,n){a._id==e&&(t=a)}),t}var b=this;b.userId=localStorage.getItem("userId"),b.paginationPageSize=25,b.pagesInCash=1,b.showDeleteButton=!1,b.showMultiPartAccount=!1,b.showContractButton=!1,b.userRole=localStorage.getItem("role"),b.hideButtons=!1,b.AJUser=!1,b.headingLabel="View Private Properties",b.userRole==a.AJ_USER&&(b.hideButtons=!0,b.AJUser=!0,b.headingLabel="View Properties in Your Jurisdiction");var C=0;setTimeout(function(){t('[data-tooltip="tooltip"]').tooltip()},1e3);var R=[{headerName:"",field:"",width:50,suppressFilter:!0,suppressSorting:!0,headerCheckboxSelection:!1,checkboxSelection:!b.AJUser},{headerName:"Images",field:"imageFileName",width:65,suppressFilter:!0,suppressSorting:!0,cellRenderer:function(e){if(e.data){if(e.value)var t='<img src="'+e.value+'" class="img-responsive">';else var t='<img src="assets/img/noImageAvailable.jpg" class="img-responsive">';return t}}},{headerName:"Tax Account Number",field:"taxAccountNo",filterParams:{applyButton:!0,clearButton:!0},cellRenderer:function(e){if(e.data){var t=e.value;return null!=e.data.publicProperty&&(t+='<img class="pull-right" title="Public Property" height="27" width="39" aria-hidden="true" src="assets/img/publicProperty.png">'),e.data.relationType==a.MULTI_PART?t+='<i class="fa fa-window-restore fa-lg pull-right my-center" title="Multi-Part" aria-hidden="true"></i> ':e.data.relationType==a.MULTI_ACCOUNT&&(t+='<i class="fa fa-puzzle-piece fa-lg pull-right my-center"  title="Multi-Account" aria-hidden="true"></i> '),t}}},{headerName:"Property Name",field:"propertyName",filter:"text",filterParams:{applyButton:!0,clearButton:!0}},{headerName:"Property Address",field:"streetName",filterParams:{applyButton:!0,clearButton:!0}},{headerName:"Owner Name",field:"recordOwnerName",filterParams:{applyButton:!0,clearButton:!0}},{headerName:"Actions",width:300,suppressResize:!0,cellRenderer:P,suppressFilter:!0,suppressSorting:!0}],I={floatingFilter:!0,enableServerSideSorting:!0,enableServerSideFilter:!0,rowHeight:40,enableColResize:!0,rowSelection:"multiple",rowDeselection:!0,suppressRowClickSelection:b.AJUser,columnDefs:R,rowModelType:"infinite",paginationOverflowSize:2,maxConcurrentDatasourceRequests:2,infiniteInitialRowCount:1,maxPagesInCache:b.pagesInCash,getRowNodeId:function(e){return e.id},onGridReady:function(e){e.api.sizeColumnsToFit()},onSelectionChanged:function(e){var t=I.api.getSelectedRows();1!=C&&(t.length>0&&(b.showContractButton=!0,s.$apply()),t.length>1?(b.showDeleteButton=!0,m(t),s.$$phase||s.$apply()):0==C&&(0==t.length&&(b.showContractButton=!1,b.showDeleteButton=!1,b.showMultiPartAccount=!1),s.$$phase||s.$apply()))}};I.pagination=!0,I.infiniteBlockSize=b.paginationPageSize,I.paginationPageSize=b.paginationPageSize,s.createContract=function(){var e=c();localStorage.setItem("selectedPopertiesId",angular.toJson(e)),o.selectedPropertyList=e,console.log(o.selectedPropertyList),i.go("Contract")};var x=document.querySelector("#myGrid");new agGrid.Grid(x,I),f([]),b.deletePropAlert=g,b.multiAccountAlert=v,b.multiPartAlert=h,b.modalYesAction=y,b.modelMessage={title:"",message:""},s.viewEvaluation=function(){localStorage.setItem("propertyDetails",angular.toJson(property.properties)),localStorage.setItem("propertyId",angular.toJson(property._id)),property.prop=property.masterProperty,i.go("propertyValuation",{property:property})},P.prototype.init=function(r){if(r.data){if(this.eGui=document.createElement("span"),b.userRole==a.AJ_USER)d='<span style="display:block; text-align:center;"><button class="btn btn-info" style="background: #107dda;border: none;    padding: 4px;" data-toggle="tooltip" data-placement="right" title="View details" value="'+r.data._id+'" ><i class="fa  fa-eye fa-lg"></i></button></span>',this.eGui.innerHTML=d,this.viewButton=this.eGui.querySelectorAll(".btn-info")[0];else{var o=r.data.roles.viewPropertyDetails?"inline":"none",s=r.data.roles.viewComparables?"inline":"none",l=r.data.roles.viewValuationForm?"inline":"none",c=r.data.roles.attachFilesToProperty?"inline":"none",u=r.data.roles.assignProperty?"inline":"none",d='<span style="display:block; text-align:center;"><button            class="btn btn-info " style="margin-right: 10px; background: rgba(122, 218, 16, 0.82);            border: none;    padding: 4px;display:'+o+';" data-toggle="tooltip"            data-placement="right" title="View details"            value=" '+r.data._id+' " >            <i class="fa  fa-eye fa-lg"></i> </button>        <button            class="btn btn-info " style="margin-right: 10px; background: #3be4ff ;            border: none;padding: 4px;display:'+c+';" data-toggle="tooltip" data-placement="right"  title="Attach files"             value=" '+r.data._id+' " >            <i class="fa fa-paperclip fa-lg"></i> </button>        <button  class="btn btn-info " style="margin-right: 10px; background:#ff9800 ;            border: none;    padding: 4px;display:'+l+';" data-toggle="tooltip" data-placement="right"            title="Valuation"             value=" '+r.data._id+' ">            <i class="fa fa-list-alt fa-lg"></i> </button>        <button            class="btn btn-info " style="margin-right: 10px; background: rgb(255, 118, 0);            border: none;    padding: 4px;display:'+s+';" data-toggle="tooltip" data-placement="right"  title="Comparables"            value=" '+r.data._id+' " >            <i class="fa fa-exchange fa-lg"></i> </button>        <button        class="btn btn-info " style="margin-right: 5px; background: #f44336;border: none;               padding: 4px;" data-toggle="tooltip" data-placement="right" title="Delete Property"            value=" '+r.data._id+' " >            <i class="fa fa-trash fa-lg"></i> </button>        <button        class="btn btn-info " style="margin-right: 5px; background:  rgba(122, 218, 16, 0.82);border: none;display:'+u+';               padding: 4px;" data-toggle="tooltip" data-placement="right" title="Assign"            value=" '+r.data._id+' " >            <i class="fa fa-hand-o-right fa-lg"></i> </button>    </span>';this.eGui.innerHTML=d,this.viewButton=this.eGui.querySelectorAll(".btn-info")[0],this.attachButton=this.eGui.querySelectorAll(".btn-info")[1],this.valuationButton=this.eGui.querySelectorAll(".btn-info")[2],this.comparablesButton=this.eGui.querySelectorAll(".btn-info")[3],this.deleteButton=this.eGui.querySelectorAll(".btn-info")[4],this.assignButton=this.eGui.querySelectorAll(".btn-info")[5]}b.userRole!=a.AJ_USER&&(this.valuationEventListener=function(t){var a=D(this.value);a&&(e.setPermissions(a.roles,"permissionPerPropertyObj"),localStorage.setItem("propertyDetails",angular.toJson(a)),localStorage.setItem("propertyId",angular.toJson(parseInt(this.value))),n(function(){i.go("propertyValuation")}))},this.attachEventListener=function(t){var a=D(this.value);a&&(e.setPermissions(a.roles,"permissionPerPropertyObj"),localStorage.setItem("propertyDetails",angular.toJson(a)),localStorage.setItem("propertyId",angular.toJson(parseInt(this.value))),n(function(){i.go("updateIERR")}))},this.comparableEventListener=function(t){var a=D(this.value);a&&(e.setPermissions(a.roles,"permissionPerPropertyObj"),localStorage.setItem("propertyDetails",angular.toJson(a)),localStorage.setItem("propertyId",angular.toJson(parseInt(this.value))),n(function(){i.go("comparableSelection")}))},this.deleteEventListener=function(e){g(),t("#myModalquestion").modal("toggle")},this.valuationButton.addEventListener("click",this.valuationEventListener),this.attachButton.addEventListener("click",this.attachEventListener),this.deleteButton.addEventListener("click",this.deleteEventListener),this.comparablesButton.addEventListener("click",this.comparableEventListener)),this.assignEventListener=function(t){var a=D(this.value);a&&(e.setPermissions(a.roles,"permissionPerPropertyObj"),localStorage.setItem("propertyDetails",angular.toJson(a)),localStorage.setItem("propertyId",angular.toJson(parseInt(this.value))),n(function(){i.go("assignedUsersList")}))},this.assignButton.addEventListener("click",this.assignEventListener),this.viewEventListener=function(t){var a=D(this.value);a&&(e.setPermissions(a.roles,"permissionPerPropertyObj"),localStorage.setItem("propertyDetails",angular.toJson(a)),localStorage.setItem("propertyId",angular.toJson(parseInt(this.value))),n(function(){i.go("viewIERR.propertyDetailsTab")}))},this.viewButton.addEventListener("click",this.viewEventListener)}},P.prototype.getGui=function(){return this.eGui},P.prototype.refresh=function(e){this.eValue.innerHTML=e.valueFormatted?e.valueFormatted:e.value},String.prototype.startsWith=function(e){return 0==this.indexOf(e)}}a.$inject=["AOTCPermissions","User_Config","$timeout","$compile","PrivatePropertyService","$state","$scope","$location"],e.exports=a,agGrid.initialiseAgGridWithAngular1(angular)}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){return o("/properties/getMasterProperties",e)}function r(t){var a=localStorage.getItem("token");return e({method:"POST",url:"/properties/deletePropertiesByIds",data:{propIds:t},headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:a}}).then(s,i)}function o(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function i(e){return angular.isObject(e.data)&&e.data.message?t.reject(e.data.message):t.reject("An unknown error occurred.")}function s(e){return e.data}return{getProps:n,deleteProperties:r,postDataToServer:o}}n.$inject=["$http","$q","$location"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c){function u(e,a){var n={rowCount:null,getRows:function(n){f=1,t("#pri-preloader").css("display","block");var r={startRow:(e-1)*a,paginationPageSize:a,state:null};c.postDataToServer("/properties/getAJPublicProperties",r).then(function(r){if(r.data.success){for(var o=r.data.result,i=[],l=0;l<o.properties.length;l++){var c={};c.id=o.properties[l].prop._id,angular.extend(c,o.properties[l].prop.properties),i[l]=c}m.tableData=i;var u;u=o.count,m.totalItems=u,m.PageStartCount=(parseInt(e)-1)*parseInt(a)+1,m.PageEndCount=m.PageStartCount+o.properties.length-1,n.successCallback(i,o.properties.length)}else s.$emit("danger",r.data.message);t("#pri-preloader").css("display","none")},function(e){t("#pri-preloader").css("display","none")})}};v.api.setDatasource(n)}function d(){}function p(e){var t=null;return angular.forEach(m.tableData,function(a,n){a.id==e&&(t=a)}),t}var m=this;m.userId=localStorage.getItem("userId"),m.paginationPageSize=25,m.pagesInCash=1,m.showDeleteButton=!1,m.showMultiPartAccount=!1;var f=0;t("#preloader").css("display","none"),t("#pri-preloader").css("display","none"),s.showInfo=!0;var g=[{headerName:"Tax Account Number",field:"taxAccountNo",filterParams:{applyButton:!0,clearButton:!0},cellRenderer:function(t){return t.data?t.data.relationType==e.MULTI_PART?t.value+'<i class="fa fa-window-restore fa-lg pull-right my-center" aria-hidden="true"></i> ':t.data.relationType==e.MULTI_ACCOUNT?t.value+'<i class="fa fa-puzzle-piece fa-lg pull-right my-center" aria-hidden="true"></i> ':t.value:"No data found"}},{headerName:"Property Name",filterParams:{applyButton:!0,clearButton:!0},field:"propertyName"},{headerName:"Property Address",filterParams:{applyButton:!0,clearButton:!0},field:"streetName"},{headerName:"Owner Name",filterParams:{applyButton:!0,clearButton:!0},field:"recordOwnerName"},{headerName:"Actions",width:100,suppressResize:!0,cellRenderer:d,suppressFilter:!0,suppressSorting:!0}],v={floatingFilter:!0,enableServerSideSorting:!0,enableServerSideFilter:!0,rowHeight:40,enableColResize:!0,suppressPaginationPanel:!0,rowDeselection:!1,columnDefs:g,rowModelType:"infinite",maxConcurrentDatasourceRequests:2,infiniteInitialRowCount:1,maxPagesInCache:m.pagesInCash,getRowNodeId:function(e){return e.id},onGridReady:function(e){e.api.sizeColumnsToFit()},onSelectionChanged:function(e){var t=v.api.getSelectedRows();t.length>0?(m.showDeleteButton=!0,decideToShowMultiAccountMultiPart(t),s.$apply()):0==f&&(m.showDeleteButton=!1,m.showMultiPartAccount=!1,s.$apply())}};v.pagination=!0,v.paginationPageSize=m.paginationPageSize,v.infiniteBlockSize=m.paginationPageSize;var h=document.querySelector("#myGrid");new agGrid.Grid(h,v),u(1,5),m.totalItems=0,m.pageSize=5,m.currentPage=1,m.pageChanged=function(e,t){t=t||m.pageSize||5,e=e||m.currentPage||1,m.currentPage=e||1,u(e,t)},d.prototype.init=function(e){if(e.data){this.eGui=document.createElement("span");var t='<span style="display:block; text-align:center;"><button class="btn btn-info " style="margin-right: 18px; background: rgba(122, 218, 16, 0.82);border: none;padding: 4px;" data-toggle="tooltip" data-placement="right" title="View details" value="'+e.data.id+'" ><i class="fa  fa-eye fa-lg"></i> </button></span>';this.eGui.innerHTML=t,this.viewButton=this.eGui.querySelectorAll(".btn-info")[0],this.viewEventListener=function(e){var t=p(this.value);t&&(localStorage.setItem("propertyDetails",angular.toJson(t)),localStorage.setItem("propertyId",angular.toJson(parseInt(this.value))),i.go("publicPropertyDetailsTab"))},this.viewButton.addEventListener("click",this.viewEventListener)}},d.prototype.getGui=function(){return this.eGui},d.prototype.refresh=function(e){this.eValue.innerHTML=e.valueFormatted?e.valueFormatted:e.value}}a.$inject=["User_Config","PublicPropertyService","$http","$timeout","$compile","$state","$scope","$location","AOTCService"],e.exports=a,agGrid.initialiseAgGridWithAngular1(angular)}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function n(e){return a("/properties/getAJPublicProperties",e)}return{getPublicProps:n}}n.$inject=["$http","$q"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d){function p(e){return e===o.path()}function m(){r.go("PropertyList.private_property_list")}function f(){r.go("PropertyList.pub_property_list")}var g=this;g.isActive=p,g.showPubPropertylist=f,g.showPriPropertylist=m,g.hideTabs=!1,t("#preloader").css("display","block"),localStorage.removeItem("selectedScenario"),JSON.parse(localStorage.getItem("userJson")).userData.role==e.AJ_USER&&(g.hideTabs=!0,r.go("PropertyList.private_property_list")),a.success&&t("div.success").fadeIn(1500).delay(500).fadeOut(1500,function(){})}a.$inject=["User_Config","$stateParams","$anchorScroll","$state","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(t){var a=localStorage.getItem("token");return e({method:"GET",url:t,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:a}})}function n(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function r(t,a){var n=localStorage.getItem("token");return e({method:"PUT",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function o(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function i(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function s(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function l(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function c(t,a){for(var n=localStorage.getItem("token"),r=new FormData,o=0;o<a.length;o++)r.append("file",a[o]);return e.post(t,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0,Authorization:n}})}function u(e){var a=t.defer();return o("/valuation",e).then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}function d(e){var a=t.defer();return o("/incomeExpenses/propertyValuationIE",e).then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}function p(){var e=t.defer();return o("/valuation/get-modal",{id:localStorage.getItem("formId"),propId:parseInt(localStorage.getItem("propertyId"))}).then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise}function m(){var e=t.defer();return o("valuation/get-forms-by-formId",{formId:localStorage.getItem("formId"),propId:parseInt(localStorage.getItem("propertyId"))}).then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise}return{getFormById:m,getPetitionerModalsData:p,getConsolidatedData:d,getEvaluationData:u,getDataFromServer:a,uploadFiles:c,postDataToServer:o,putDataToServer:r,getValuationForms:n,replaceValuationForm:l,appeal:i,deleteForm:s}}n.$inject=["$http","$q"],e.exports=n},function(e,t,a){"use strict";function n(){function e(e,t){return e.sort(function(e,a){var n,r;return e.properties[t]&&a.properties[t]&&(n=e.properties[t].toLowerCase(),r=a.properties[t].toLowerCase()),n<r?-1:n>r?1:0})}function t(e,t){return e.sort(function(e,a){var n,r,o,i;return e.properties[t]&&(o=e.properties[t][1]),a.properties[t]&&(i=a.properties[t][1]),o&&i&&(n=o.toLowerCase(),r=i.toLowerCase()),n<r?-1:n>r?1:0})}var a={};return a.expensesDolar=function(e,t){return e*t},a.expensesPercentage=function(e,t){return e/t},a.annualRent=function(e,t){return e*t},a.vacancy=function(e,t){return e*t},a.effectiveRent=function(e,t){return e-t},a.expenses=function(e,t){return e*t},a.expensesPerSf=function(e,t){return e/t},a.netOperatingIncome=function(e,t){return e-t},a.overAllCapRate=function(e,t){return e+t},a.valueDirectCap=function(e,t){return t/e},a.valuePerSqFt=function(e,t){return e/t},a.vdcPostDeduction=function(e,t){return e-t},a.vdcPostDeductionPerSF=function(e,t){return e/t},{Petitioner:a,sortArrayByKey:t,sortByKey:e}}n.$inject=[],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i){function s(t){e(function(){O.marketRentSets=t.marketRentSets,O.vacancySets=t.vacancySets,O.expenseSets=t.expenseSets,O.BCRSets=t.BCRSets,O.scenarioSets=t.scenarioSets,B=t.marketRentSetsCount,L=t.vacancySetsCount,_=t.expenseSetsCount,U=t.BCRSetsCount,V=t.scenarioSetsCount},10)}function l(){O.showSensitivityTab=!0,O.showScenarioTab=!1,u()}function c(){O.showSensitivityTab=!1,O.showScenarioTab=!0,u()}function u(){O.sensitivityNamesCount=0;for(var e=0;e<O.marketRentSets.length;e++)O.marketRentSets[e].name||O.sensitivityNamesCount++;for(var e=0;e<O.vacancySets.length;e++)O.vacancySets[e].name||O.sensitivityNamesCount++;for(var e=0;e<O.expenseSets.length;e++)O.expenseSets[e].name||O.sensitivityNamesCount++;for(var e=0;e<O.BCRSets.length;e++)O.BCRSets[e].name||O.sensitivityNamesCount++;O.scenarioNamesCount=0;for(var e=0;e<O.scenarioSets.length;e++)O.scenarioSets[e].name||O.scenarioNamesCount++}function d(e){if(u(),O.submitClicked=!0,0!=O.sensitivityNamesCount||0!=O.scenarioNamesCount)return void r.$emit("error","Write workSpace(s) name");for(var a=[],i=0;i<O.marketRentSets.length;i++)a.push(O.marketRentSets[i].name);for(var i=0;i<O.vacancySets.length;i++)a.push(O.vacancySets[i].name);for(var i=0;i<O.expenseSets.length;i++)a.push(O.expenseSets[i].name);for(var i=0;i<O.BCRSets.length;i++)a.push(O.BCRSets[i].name);for(var i=0;i<O.scenarioSets.length;i++)a.push(O.scenarioSets[i].name);var s={propId:parseInt(localStorage.getItem("propertyId")),formId:O.formId,name:a,sensitivityCaluations:[{marketPerSF:O.marketRentSets,vacancyPercent:O.vacancySets,expensePerSF:O.expenseSets,BaseCapRate:O.BCRSets}],scenarios:O.scenarioSets};t("#preloader").css("display","block"),o.saveWorkSpace(s).then(function(a){t("#preloader").css("display","none"),a.data.success?(r.$emit("success",a.data.message),e&&n.go(e)):r.$emit("danger",a.data.message)},function(e){t("#preloader").css("display","none")})}function p(e){localStorage.setItem("selectedScenario",angular.toJson(e)),d("propertyValuation")}function m(){O.scenarioSets.length<10?(V++,O.scenarioSets.push(E(V))):r.$emit("error","Can not add more sets")}function f(e,t){if(O.scenarioSets.length<10){V++;var a=E(V);a[t]=e,h(a,t),O.scenarioSets.push(a)}else r.$emit("error","Can not add more sets")}function g(e,t,a){t[a]=e,h(t,a)}function v(e){O.scenarioSets.splice(e,1)}function h(e,n){var r=0;"marketRentSF"==n?(e.marketRentSF&&t.isNumeric(e.marketRentSF)||(e.marketRentSF=0,O.marketRenPre2=0),0==O.marketRenPre2&&e.marketRentSF>=1&&(e.marketRentSF<10?(e.marketRentSF=e.marketRentSF/10,e.marketRentSF=10*e.marketRentSF,O.marketRenPre2=e.marketRentSF):(e.marketRentSF=e.marketRentSF/10,O.marketRenPre2=e.marketRentSF))):"vacancyPercentage"==n?(e.vacancyPercentage&&t.isNumeric(e.vacancyPercentage)||(e.vacancyPercentage=0,O.vacPre2=0),e.vacancyPercentage>=100&&(e.vacancyPercentage=100),0==O.vacPre2&&e.vacancyPercentage>=1&&(e.vacancyPercentage<10?(e.vacancyPercentage=e.vacancyPercentage/10,e.vacancyPercentage=10*e.vacancyPercentage,O.vacPre2=e.vacancyPercentage):(e.vacancyPercentage=e.vacancyPercentage/10,O.vacPre2=e.vacancyPercentage))):"expenseSF"==n?(r=0,e.expenseSF&&t.isNumeric(e.expenseSF)||(e.expenseSF=0,O.expensePre2=0),0==O.expensePre2&&e.expenseSF>=1&&(e.expenseSF<10?(e.expenseSF=e.expenseSF/10,e.expenseSF=10*e.expenseSF,O.expensePre2=e.expenseSF):(e.expenseSF=e.expenseSF/10,O.expensePre2=e.expenseSF))):"expensePercentage"==n?(r=1,e.expensePercentage&&t.isNumeric(e.expensePercentage)||(e.expensePercentage=0,O.expensePerPre2=0),e.expensePercentage>=100&&(e.expensePercentage=100),0==O.expensePerPre2&&e.expensePercentage>=1&&(e.expensePercentage<10?(e.expensePercentage=e.expensePercentage/10,e.expensePercentage=10*e.expensePercentage,O.expensePerPre2=e.expensePercentage):(e.expensePercentage=e.expensePercentage/10,O.expensePerPre2=e.expensePercentage))):"BCR"==n&&(e.BCR&&t.isNumeric(e.BCR)||(e.BCR=0,O.BCRPre2=0),e.BCR>=100&&(e.BCR=100),0==O.BCRPre2&&e.BCR>=1&&(e.BCR<10?(e.BCR=e.BCR/10,e.BCR=10*e.BCR,O.BCRPre2=e.BCR):(e.BCR=e.BCR/10,O.BCRPre2=e.BCR)));var o=a.Petitioner.annualRent(e.petitionerLeasableSF,e.marketRentSF),i=o,s=a.Petitioner.vacancy(i,e.expenseSF/100),l=o+s;if(1==r){var c=a.Petitioner.expenses(e.expensePercentage,l),u=a.Petitioner.expensesPerSf(c,e.petitionerLeasableSF);e.expenseSF=u}else{var c=a.Petitioner.expensesDolar(e.expenseSF,e.petitionerLeasableSF),d=a.Petitioner.expensesPercentage(c,l);e.expensePercentage=d}var p=a.Petitioner.netOperatingIncome(l,c),m=a.Petitioner.overAllCapRate(parseInt(e.BCR),parseInt(e.petitionerETR)),f=a.Petitioner.valueDirectCap(m,p),g=a.Petitioner.valuePerSqFt(f,e.petitionerLeasableSF);e.vacancyPercentage=e.vacancyPercentage,e.expensePercentage=e.expensePercentage,e.NOI=p,e.value=f,e.valueSF=g,e.assessedValue=M,e.assessedValueSF=N,e.petitionerLeasableSF=e.petitionerLeasableSF,e.petitionerMarketRentSF=e.marketRentSF,e.petitionerAnnualRent=o,e.petitionerGPR=i,e.petitionerVacancyPercentage=e.vacancyPercentage,e.petitionerVacancy=s,e.petitionerEffectiveRent=l,e.petitionerExpensePercentage=e.expensePercentage,e.petitionerExpense=c,e.petitionerExpenseSF=e.expenseSF,e.petitionerNOI=p,e.petitionerBCR=e.BCR,e.petitionerETR=e.petitionerETR,e.petitionerOCR=m,e.petitionerVDC=f,e.petitionerValueSF=g,e.petitionerNOIBySF=p/e.petitionerLeasableSF,I(e,e.vacancyPercentage,e.expensePercentage,e.petitionerBCR)}function y(e){}function S(){O.marketRentActive=!O.marketRentActive,y(O.marketRentActive)}function P(){B++,O.marketRentSets.push(E(B))}function D(e){O.marketRentSets.splice(e,1)}function b(){O.vacancyActive=!O.vacancyActive,y(O.vacancyActive)}function C(){L++,O.vacancySets.push(E(L))}function R(e){O.vacancySets.splice(e,1)}function I(e,t,a,n){var r=t.toString().trim(),o=a.toString().trim(),i=n.toString().trim();if(r.indexOf(".")>=0){r.split(".")[1].length>2&&(e.vacancyPercentage=Math.round(100*e.vacancyPercentage)/1e3,0==e.vacancyPercentage&&(e.vacancyPercentage=0))}if(o.indexOf(".")>=0){o.split(".")[1].length>2&&(e.expensePercentage=Math.round(100*e.expensePercentage)/1e3,0==e.expensePercentage&&(e.expensePercentage=0))}if(i.indexOf(".")>=0){i.split(".")[1].length>2&&(e.petitionerBCR=Math.round(100*e.petitionerBCR)/100,0==e.petitionerBCR&&(e.petitionerBCR=0))}}function x(){O.clickcheck?O.clickcheck=!1:(O.expenseActive=!O.expenseActive,y(O.expenseActive),O.clickcheck=!1)}function w(){_++,O.expenseSets.push(E(_))}function F(e){O.expenseSets.splice(e,1)}function A(){O.baseCapeRateActive=!O.baseCapeRateActive,y(O.baseCapeRateActive)}function T(){U++,O.BCRSets.push(E(U))}function k(e){O.BCRSets.splice(e,1)}function E(e){return{name:"Set "+e,marketRentSF:24,vacancyPercentage:4,expenseSF:-10.89,expensePercentage:-47,NOI:12.5,BCR:7,value:18867631,valueSF:147,assessedValue:31391491,assessedValueSF:244,petitionerLeasableSF:128626,petitionerMarketRentSF:24,petitionerAnnualRent:3087024,petitionerGPR:3087024,petitionerVacancyPercentage:4,petitionerVacancy:-123481,petitionerEffectiveRent:2963543,petitionerExpensePercentage:-47,petitionerExpense:-14e5,petitionerExpenseSF:-10.88,petitionerOI:0,petitionerNOI:1810505,petitionerNOIBySF:14.08,petitionerBCR:7,petitionerETR:1.283,petitionerOCR:8.283,petitionerVDC:21858082,petitionerValueSF:170}}var O=this;O.formId=parseInt(localStorage.getItem("formId")),O.userId=parseInt(localStorage.getItem("userId")),localStorage.removeItem("selectedScenario"),r.col=3,O.sensitivityNamesCount=4,O.scenarioNamesCount=1,O.submitClicked=!1,O.scenarioTwoActive=!1,O.property=JSON.parse(localStorage.getItem("propertyDetails")),O.showSensitivityTab=!0,O.showScenarioTab=!1,O.showScenario=c,O.showSensitivity=l,O.sensitivityErrorCount=u,setTimeout(function(){t('[data-tooltip="tooltip"]').tooltip()},1e3);var $=i.GetValues();r.apple=function(){},"one"==$.scenarioToShow?(e(function(){r.col=3},10),O.scenarioTwoActive=!1,s($)):"two"==$.scenarioToShow?(e(function(){r.col=2},10),O.scenarioTwoActive=!0,s($)):o.getWorkspace().then(function(e){if(e.data.result){var t=e.data.result[0];O.marketRentSets=t.marketPerSF,O.vacancySets=t.vacancyPercent,O.expenseSets=t.expensePerSF,O.BCRSets=t.BaseCapRate,O.scenarioSets=t.scenarios}0==O.marketRentSets.length&&O.marketRentSets.push(E(B)),0==O.vacancySets.length&&O.vacancySets.push(E(L)),0==O.expenseSets.length&&O.expenseSets.push(E(_)),0==O.BCRSets.length&&O.BCRSets.push(E(U)),0==O.scenarioSets.length&&O.scenarioSets.push(E(V))},function(e){}),r.showScenarioOne=function(){r.col=3,O.scenarioTwoActive=!1},r.showScenarioTwo=function(){r.col=2,O.scenarioTwoActive=!0},r.showScenarioThree=function(){r.col=2,O.scenarioTwoActive=!0,i.SetValues(O.marketRentSets,O.vacancySets,O.expenseSets,O.BCRSets,O.scenarioSets,"three",B,L,_,U,V),n.go("SensitivityThree")};var M=561,N=502;O.saveScenario=d,O.useInValuation=p;var V=0;O.addScenarioSet=m,O.addScenarioSetWithValues=f,O.removeScenarioSet=v,O.calculateScenarioSet=h,O.useSetInScenario=g,O.scenarioSets=[],V++,O.scenarioSets.push(E(V)),O.marketRenPre2=-1,O.vacPre2=-1,O.expensePre2=-1,O.expensePerPre2=-1,O.BCRPre2=-1;var B=0;O.marketRentActive=!0,O.toggleMarketRent=S,O.addMarketRentSet=P,O.removeMRSet=D,O.marketRentSets=[],B++,O.marketRentSets.push(E(B));r.col=3,O.pre=-1,O.calculateMarketRentSet=function(e){e.marketRentSF&&t.isNumeric(e.marketRentSF)||(e.marketRentSF=0,O.pre=0),0==e.marketRentSF&&"."!=e.marketRentSF[1]&&(e.marketRentSF=0,O.pre=0),0==O.pre&&e.marketRentSF>=1&&(e.marketRentSF<10?(e.marketRentSF=e.marketRentSF/10,e.marketRentSF=10*e.marketRentSF,O.pre=e.marketRentSF):(e.marketRentSF=e.marketRentSF/10,O.pre=e.marketRentSF));var n=a.Petitioner.annualRent(e.petitionerLeasableSF,e.marketRentSF),r=n,o=a.Petitioner.vacancy(r,e.vacancyPercentage/100),i=n+o,s=a.Petitioner.expenses(i,e.expensePercentage/100),l=a.Petitioner.expensesPerSf(s,e.petitionerLeasableSF),c=a.Petitioner.netOperatingIncome(i,s),u=a.Petitioner.overAllCapRate(parseInt(e.BCR),parseInt(e.petitionerETR)),d=a.Petitioner.valueDirectCap(u,c),p=a.Petitioner.valuePerSqFt(d,e.petitionerLeasableSF);e.expenseSF=l,e.NOI=c/e.petitionerLeasableSF,e.value=d,e.valueSF=p,e.assessedValueSF=e.assessedValue/e.petitionerLeasableSF,e.petitionerMarketRentSF=e.marketRentSF,e.petitionerAnnualRent=n,e.petitionerGPR=r,e.petitionerVacancyPercentage=e.vacancyPercentage,e.petitionerVacancy=o,e.petitionerEffectiveRent=i,e.petitionerExpense=s,e.petitionerExpenseSF=l,e.petitionerNOI=c,e.petitionerOCR=u,e.petitionerVDC=d,e.petitionerValueSF=p,e.petitionerNOIBySF=c/e.petitionerLeasableSF};var L=0;O.vacancyActive=!0,O.addVacancySet=C,O.toggleVacancy=b,O.removeVacancySet=R,O.vacancySets=[],L++,O.vacancySets.push(E(L)),O.vacPre=-1,O.calculateVacancySet=function(e){e.vacancyPercentage&&t.isNumeric(e.vacancyPercentage)||(e.vacancyPercentage=0,O.vacPre=0),0==e.vacancyPercentage&&"."!=e.vacancyPercentage[1]&&(e.vacancyPercentage=0,O.vacPre=0),e.vacancyPercentage>100&&(e.vacancyPercentage=100),0==O.vacPre&&e.vacancyPercentage>=1&&(e.vacancyPercentage<10?(e.vacancyPercentage=e.vacancyPercentage/10,e.vacancyPercentage=10*e.vacancyPercentage,O.vacPre=e.vacancyPercentage):(e.vacancyPercentage=e.vacancyPercentage/10,O.expPre=e.vacancyPercentage));var n=a.Petitioner.annualRent(e.petitionerLeasableSF,e.marketRentSF),r=n,o=a.Petitioner.vacancy(r,e.vacancyPercentage/100),i=n+o,s=a.Petitioner.expenses(i,e.expensePercentage/100),l=a.Petitioner.expensesPerSf(s,e.petitionerLeasableSF),c=a.Petitioner.netOperatingIncome(i,s),u=a.Petitioner.overAllCapRate(parseInt(e.BCR),parseInt(e.petitionerETR)),d=a.Petitioner.valueDirectCap(u,c),p=a.Petitioner.valuePerSqFt(d,e.petitionerLeasableSF);e.expenseSF=l,e.NOI=c/e.petitionerLeasableSF,e.value=d,e.valueSF=p,e.assessedValueSF=e.assessedValue/e.petitionerLeasableSF,e.petitionerMarketRentSF=e.marketRentSF,e.petitionerAnnualRent=n,e.petitionerGPR=r,e.petitionerVacancyPercentage=e.vacancyPercentage,e.petitionerVacancy=o,e.petitionerEffectiveRent=i,e.petitionerExpense=s,e.petitionerExpenseSF=l,e.petitionerNOI=c,e.petitionerOCR=u,e.petitionerVDC=d,e.petitionerValueSF=p,e.petitionerNOIBySF=c/e.petitionerLeasableSF};var _=0;O.expenseActive=!0,O.toggleExpense=x,O.addExpenseSet=w,O.removeExpenseSet=F,O.expenseSets=[],_++,O.expenseSets.push(E(_)),O.expPre,O.expPre2=-1,O.calculateExpenseSet=function(e){O.expenseInputActive?(e.expenseSF&&t.isNumeric(e.expenseSF)||(e.expenseSF=0,O.expPre=0),0==e.expenseSF&&"."!=e.expenseSF[1]&&(e.expenseSF=0,O.expPre=0),0==O.expPre&&e.expenseSF>=1&&(e.expenseSF<10?(e.expenseSF=e.expenseSF/10,e.expenseSF=10*e.expenseSF,O.expPre=e.expenseSF):(e.expenseSF=e.expenseSF/10,O.expPre=e.expenseSF))):(e.expensePercentage&&t.isNumeric(e.expensePercentage)||(e.expensePercentage=0,O.expPre2=0),0==e.expensePercentage&&"."!=e.expensePercentage[1]&&(e.expensePercentage=0,O.expPre2=0),e.expensePercentage>100&&(e.expensePercentage=100),0==O.expPre2&&e.expensePercentage>=1&&(e.expensePercentage<10?(e.expensePercentage=e.expensePercentage/10,e.expensePercentage=10*e.expensePercentage,O.expPre2=e.expensePercentage):(e.expensePercentage=e.expensePercentage/10,O.expPre2=e.expensePercentage)));var n=a.Petitioner.annualRent(e.petitionerLeasableSF,e.marketRentSF),r=n,o=a.Petitioner.vacancy(r,e.vacancyPercentage/100),i=n+o;if(O.expenseInputActive)var s=a.Petitioner.expensesDolar(e.expenseSF,e.petitionerLeasableSF),l=a.Petitioner.expensesPercentage(s,i);else var s=a.Petitioner.expenses(e.expensePercentage,i),c=a.Petitioner.expensesPerSf(s,e.petitionerLeasableSF);var u=a.Petitioner.netOperatingIncome(i,s),d=a.Petitioner.overAllCapRate(parseInt(e.BCR),parseInt(e.petitionerETR)),p=a.Petitioner.valueDirectCap(d,u),m=a.Petitioner.valuePerSqFt(p,e.petitionerLeasableSF);O.expenseInputActive?(e.expensePercentage=l,e.NOI=u/e.petitionerLeasableSF,e.value=p,e.valueSF=m,e.assessedValueSF=e.assessedValue/e.petitionerLeasableSF,e.petitionerMarketRentSF=e.marketRentSF,e.petitionerAnnualRent=n,e.petitionerGPR=r,e.petitionerVacancyPercentage=e.vacancyPercentage,e.petitionerVacancy=o,e.petitionerEffectiveRent=i,e.petitionerExpense=s,e.petitionerExpenseSF=c,e.petitionerNOI=u,e.petitionerBCR=e.BCR,e.petitionerOCR=d,e.petitionerVDC=p,e.petitionerValueSF=m,e.petitionerNOIBySF=u/e.petitionerLeasableSF):(e.expenseSF=c,e.NOI=u/e.petitionerLeasableSF,e.value=p,e.valueSF=m,e.assessedValueSF=e.assessedValue/e.petitionerLeasableSF,e.petitionerMarketRentSF=e.marketRentSF,e.petitionerAnnualRent=n,e.petitionerGPR=r,e.petitionerVacancyPercentage=e.vacancyPercentage,e.petitionerVacancy=o,e.petitionerEffectiveRent=i,e.petitionerExpense=s,e.petitionerExpenseSF=c,e.petitionerNOI=u,e.petitionerBCR=e.BCR,e.petitionerOCR=d,e.petitionerVDC=p,e.petitionerValueSF=m,e.petitionerNOIBySF=u/e.petitionerLeasableSF)},O.expenseInputActive=!0,O.clickcheck=!1,O.ExpenseSFInput=function(){O.clickcheck=!0,O.expenseInputActive=!0},O.ExpensePercentageInput=function(){O.clickcheck=!0,O.expenseInputActive=!1},O.baseCapeRateActive=!0;var U=0;O.toggleBaseCapeRate=A,O.addBCRSet=T,O.removeBCRSet=k,O.BCRSets=[],U++,O.BCRSets.push(E(U)),O.bcrPre=-1,O.calculateBCRSet=function(e){e.BCR&&t.isNumeric(e.BCR)||(e.BCR=0,O.bcrPre=0),0==e.BCR&&"."!=e.BCR[1]&&(e.BCR=0,O.bcrPre=0),e.BCR>=100&&(e.BCR=100),0==O.bcrPre&&e.BCR>=1&&(e.BCR<10?(e.BCR=e.BCR/10,e.BCR=10*e.BCR,O.bcrPre=e.BCR):(e.BCR=e.BCR/10,O.bcrPre=e.BCR));var n=a.Petitioner.annualRent(e.petitionerLeasableSF,e.marketRentSF),r=n,o=a.Petitioner.vacancy(r,e.vacancyPercentage/100),i=n+o,s=a.Petitioner.expenses(i,e.expensePercentage/100),l=a.Petitioner.expensesPerSf(s,e.petitionerLeasableSF),c=a.Petitioner.netOperatingIncome(i,s),u=a.Petitioner.overAllCapRate(parseInt(e.BCR),parseInt(e.petitionerETR)),d=a.Petitioner.valueDirectCap(u,c),p=a.Petitioner.valuePerSqFt(d,e.petitionerLeasableSF);e.expenseSF=l,e.NOI=c/e.petitionerLeasableSF,e.value=d,e.valueSF=p,e.assessedValueSF=e.assessedValue/e.petitionerLeasableSF,e.petitionerMarketRentSF=e.marketRentSF,e.petitionerAnnualRent=n,e.petitionerGPR=r,e.petitionerVacancyPercentage=e.vacancyPercentage,e.petitionerVacancy=o,e.petitionerEffectiveRent=i,e.petitionerExpense=s,e.petitionerExpenseSF=l,e.petitionerNOI=c,e.petitionerBCR=e.BCR,e.petitionerOCR=u,e.petitionerVDC=d,e.petitionerValueSF=p,e.petitionerNOIBySF=c/e.petitionerLeasableSF},O.gotoValuation=function(){setTimeout(function(){n.go("propertyValuation",{messageFrom:"scenario"})},500),t("#myModalquestion").modal("toggle")},O.numberFormatter=function(e,t){return UtilService.numberFormatterValuation(e,t)}}a.$inject=["$timeout","PetitionerFormulae","$state","$scope","SensitivityService","ScenarioDataService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){var n=t.defer();return a.postDataToServer("/valuation/save-work-space",e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function r(){var e={propId:parseInt(localStorage.getItem("propertyId")),formId:parseInt(localStorage.getItem("formId"))},n=t.defer();return a.postDataToServer("/valuation/get-work-space",e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function o(e){var n=t.defer();return a.postDataToServer("/valuation/replace-work-space",e).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return{saveWorkSpace:n,replaceWorkSpace:o,getWorkspace:r}}n.$inject=["$http","$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";function n(){function e(e,t,n,r,o,i,s,l,c,u,d){a.marketRentSets=e,a.vacancySets=t,a.expenseSets=n,a.BCRSets=r,a.scenarioSets=o,a.scenarioToShow=i,a.marketRentSetsCount=s,a.vacancySetsCount=l,a.expenseSetsCount=c,a.BCRSetsCount=u,a.scenarioSetsCount=d}function t(){return a}var a={marketRentSets:[],vacancySets:[],expenseSets:[],BCRSets:[],scenarioSets:[],scenarioToShow:"",marketRentSetsCount:0,vacancySetsCount:0,expenseSetsCount:0,BCRSetsCount:0,scenarioSetsCount:0};return{SetValues:e,GetValues:t}}n.$inject=[],e.exports=n},function(e,t,a){"use strict";function n(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@"},link:function(t,a,n){var r="flexBasis"in document.documentElement.style?"flexBasis":"webkitFlexBasis"in document.documentElement.style?"webkitFlexBasis":"msFlexPreferredSize"in document.documentElement.style?"msFlexPreferredSize":"flexBasis";t.$watch("rWidth",function(e){a[0].style.width=t.rWidth+"px"}),t.$watch("rHeight",function(e){a[0].style.height=t.rHeight+"px"}),a.addClass("resizable");var o,i,s,l,c,u=window.getComputedStyle(a[0],null),d=t.rDirections,p=t.rCenteredX?2:1,m=t.rCenteredY?2:1,f=t.rGrabber?t.rGrabber:'<span class="glyphicon glyphicon-transfer"></span>',g={},v=function(e){g.width=!1,g.height=!1,"x"===c?g.width=parseInt(a[0].style[t.rFlex?r:"width"]):g.height=parseInt(a[0].style[t.rFlex?r:"height"]),g.id=a[0].id,g.evt=e},h=function(n){var u,d="x"===c?s-n.clientX:s-n.clientY;switch(l){case"top":u=t.rFlex?r:"height",a[0].style[u]=i+d*m+"px";break;case"bottom":u=t.rFlex?r:"height",a[0].style[u]=i-d*m+"px";break;case"right":u=t.rFlex?r:"width",a[0].style[u]=o-d*p+"px";break;case"left":u=t.rFlex?r:"width",a[0].style[u]=o+d*p+"px"}v(n),e(function(){t.$emit("angular-resizable.resizing",g)})},y=function(e){v(),t.$emit("angular-resizable.resizeEnd",g),t.$apply(),document.removeEventListener("mouseup",y,!1),document.removeEventListener("mousemove",h,!1),a.removeClass("no-transition")},S=function(e,n){l=n,c="left"===l||"right"===l?"x":"y",s="x"===c?e.clientX:e.clientY,o=parseInt(u.getPropertyValue("width")),i=parseInt(u.getPropertyValue("height")),a.addClass("no-transition"),document.addEventListener("mouseup",y,!1),document.addEventListener("mousemove",h,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,v(e),t.$emit("angular-resizable.resizeStart",g),t.$apply()};d.forEach(function(e){var n=document.createElement("div");n.setAttribute("class","rg-"+e),n.innerHTML=f,a[0].prepend(n),n.ondragstart=function(){return!1},n.addEventListener("mousedown",function(a){"true"===t.rDisabled||1!==a.which||S(a,e)},!1)})}}}n.$inject=[],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i){function s(){A.sensitivityNamesCount=0;for(var e=0;e<A.marketRentSets.length;e++)A.marketRentSets[e].name||A.sensitivityNamesCount++;for(var e=0;e<A.vacancySets.length;e++)A.vacancySets[e].name||A.sensitivityNamesCount++;for(var e=0;e<A.expenseSets.length;e++)A.expenseSets[e].name||A.sensitivityNamesCount++;for(var e=0;e<A.BCRSets.length;e++)A.BCRSets[e].name||A.sensitivityNamesCount++;A.scenarioNamesCount=0;for(var e=0;e<A.scenarioSets.length;e++)A.scenarioSets[e].name||A.scenarioNamesCount++}function l(){if(s(),A.submitClicked=!0,0!=A.sensitivityNamesCount||0!=A.scenarioNamesCount)return void r.$emit("error","Write workSpace(s) name");for(var e=[],n=0;n<A.marketRentSets.length;n++)e.push(A.marketRentSets[n].name);for(var n=0;n<A.vacancySets.length;n++)e.push(A.vacancySets[n].name);for(var n=0;n<A.expenseSets.length;n++)e.push(A.expenseSets[n].name);for(var n=0;n<A.BCRSets.length;n++)e.push(A.BCRSets[n].name);for(var n=0;n<A.scenarioSets.length;n++)e.push(A.scenarioSets[n].name);var i={formId:A.formId,name:e,sensitivityCaluations:[{marketPerSF:A.marketRentSets,vacancyPercent:A.vacancySets,expensePerSF:A.expenseSets,BaseCapRate:A.BCRSets}],scenarios:A.scenarioSets};t("#preloader").css("display","block"),o.saveWorkSpace(i).then(function(e){t("#preloader").css("display","none"),e.data.success?(r.$emit("success",e.data.message),redirect&&a.go(redirect)):r.$emit("danger",e.data.message)},function(e){t("#preloader").css("display","none")})}function c(){A.scenarioSets.length<10?(U++,A.scenarioSets.push(F(U))):r.$emit("error","Can not add more sets")}function u(e,t){if(A.scenarioSets.length<10){U++;var a=F(U);a[t]=e,m(a,t),A.scenarioSets.push(a)}else r.$emit("error","Can not add more sets")}function d(e,t,a){t[a]=e,m(t,a)}function p(e){A.scenarioSets.splice(e,1)}function m(a,n){"marketRentSF"==n?(a.marketRentSF&&t.isNumeric(a.marketRentSF)||(a.marketRentSF=0,A.marketRenPre2=0),0==a.marketRentSF&&"."!=a.marketRentSF[1]&&(a.marketRentSF=0,A.marketRenPre2=0),0==A.marketRenPre2&&a.marketRentSF>=1&&(a.marketRentSF<10?(a.marketRentSF=a.marketRentSF/10,a.marketRentSF=10*a.marketRentSF,A.marketRenPre2=a.marketRentSF):(a.marketRentSF=a.marketRentSF/10,A.marketRenPre2=a.marketRentSF)),_=a.marketRentSF):"vacancyPercentage"==n?(a.vacancyPercentage&&t.isNumeric(a.vacancyPercentage)||(a.vacancyPercentage=0,A.vacPre2=0),0==a.vacancyPercentage&&"."!=a.vacancyPercentage[1]&&(a.vacancyPercentage=0,A.vacPre2=0),a.vacancyPercentage>=100&&(a.vacancyPercentage=100),0==A.vacPre2&&a.vacancyPercentage>=1&&(a.vacancyPercentage<10?(a.vacancyPercentage=a.vacancyPercentage/10,a.vacancyPercentage=10*a.vacancyPercentage,A.vacPre2=a.vacancyPercentage):(a.vacancyPercentage=a.vacancyPercentage/10,A.vacPre2=a.vacancyPercentage)),E=a.vacancyPercentage):"expenseSF"==n?(a.expenseSF&&t.isNumeric(a.expenseSF)||(a.expenseSF=0,A.expensePre2=0),0==a.expenseSF&&"."!=a.expenseSF[1]&&(a.expenseSF=0,A.expensePre2),0==A.expensePre2&&a.expenseSF>=1&&(a.expenseSF<10?(a.expenseSF=a.expenseSF/10,a.expenseSF=10*a.expenseSF,A.expensePre2=a.expenseSF):(a.expenseSF=a.expenseSF/10,A.expensePre2=a.expenseSF)),$=a.expenseSF):"expensePercentage"==n?(a.expensePercentage&&t.isNumeric(a.expensePercentage)||(a.expensePercentage=0,A.expensePerPre2=0),0==a.expensePercentage&&"."!=a.expensePercentage[1]&&(a.expensePercentage=0,A.expensePerPre2=0),a.expensePercentage>=100&&(a.expensePercentage=100),0==A.expensePerPre2&&a.expensePercentage>=1&&(a.expensePercentage<10?(a.expensePercentage=a.expensePercentage/10,a.expensePercentage=10*a.expensePercentage,A.expensePerPre2=a.expensePercentage):(a.expensePercentage=a.expensePercentage/10,A.expensePerPre2=a.expensePercentage)),O=a.expensePercentage):"BCR"==n&&(a.BCR&&t.isNumeric(a.BCR)||(a.BCR=0,A.BCRPre2=0),0==a.BCR&&"."!=a.BCR[1]&&(a.BCR=0,A.BCRPre2=0),a.BCR>=100&&(a.BCR=100),0==A.BCRPre2&&a.BCR>=1&&(a.BCR<10?(a.BCR=a.BCR/10,a.BCR=10*a.BCR,A.BCRPre2=a.BCR):(a.BCR=a.BCR/10,A.BCRPre2=a.BCR)),N=a.BCR);var r=e.Petitioner.annualRent(k,_),o=r,i=e.Petitioner.vacancy(o,E/100),s=e.Petitioner.effectiveRent(r,i/100),l=e.Petitioner.expenses(s,O/100),c=e.Petitioner.expensesPerSf(l,k),u=e.Petitioner.netOperatingIncome(s,l),d=e.Petitioner.overAllCapRate(parseInt(N),parseInt(V)),p=e.Petitioner.valueDirectCap(d,u),m=e.Petitioner.valuePerSqFt(p,k);a.vacancyPercentage=E,a.expenseSF=$,a.expensePercentage=O,a.NOI=u,a.BCR=N,a.value=p,a.valueSF=m,a.assessedValue=B,a.assessedValueSF=L,a.petitionerLeasableSF=k,a.petitionerMarketRentSF=a.marketRentSF,a.petitionerAnnualRent=r,a.petitionerGPR=o,a.petitionerVacancyPercentage=E,a.petitionerVacancy=i,a.petitionerEffectiveRent=s,a.petitionerExpensePercentage=O,a.petitionerExpense=l,a.petitionerExpenseSF=c,a.petitionerOI=M,a.petitionerNOI=u,a.petitionerBCR=N,a.petitionerETR=V,a.petitionerOCR=d,a.petitionerVDC=p,a.petitionerValueSF=m,a.petitionerNOIBySF=u/k}function f(e){}function g(){A.marketRentActive=!A.marketRentActive,f(A.marketRentActive)}function v(){j++,A.marketRentSets.push(F(j))}function h(e){A.marketRentSets.splice(e,1)}function y(){A.vacancyActive=!A.vacancyActive,f(A.vacancyActive)}function S(){q++,A.vacancySets.push(F(q))}function P(e){A.vacancySets.splice(e,1)}function D(){A.expenseActive=!A.expenseActive,f(A.expenseActive)}function b(){J++,A.expenseSets.push(F(J))}function C(e){A.expenseSets.splice(e,1)}function R(){A.baseCapeRateActive=!A.baseCapeRateActive,f(A.baseCapeRateActive)}function I(){z++,A.BCRSets.push(F(z))}function x(e){A.BCRSets.splice(e,1)}function w(e){localStorage.setItem("selectedScenario",angular.toJson(e)),l("propertyValuation")}function F(e){return{name:"Set "+e,marketRentSF:0,vacancyPercentage:0,expenseSF:0,expensePercentage:0,NOI:0,BCR:0,value:0,valueSF:0,assessedValue:0,assessedValueSF:0,petitionerLeasableSF:0,petitionerMarketRentSF:0,petitionerAnnualRent:0,petitionerGPR:0,petitionerVacancyPercentage:0,petitionerVacancy:0,petitionerEffectiveRent:0,petitionerExpensePercentage:0,petitionerExpense:0,petitionerExpenseSF:0,petitionerOI:0,petitionerNOI:0,petitionerNOIBySF:0,petitionerBCR:0,petitionerETR:0,petitionerOCR:0,petitionerVDC:0,petitionerValueSF:0}}var A=this;A.formId=parseInt(localStorage.getItem("formId")),r.col=3,A.sensitivityNamesCount=4,A.scenarioNamesCount=1,A.submitClicked=!1,A.scenarioTwoActive=!1,A.property=JSON.parse(localStorage.getItem("propertyDetails")),A.showSensitivityTab=!0,A.showScenarioTab=!1,A.sensitivityErrorCount=s,setTimeout(function(){t("#paragraphs").cascadingDivs(),t('[data-tooltip="tooltip"]').tooltip()},10);var T=i.GetValues();"three"==T.scenarioToShow&&function(e){n(function(){A.marketRentSets=e.marketRentSets,A.vacancySets=e.vacancySets,A.expenseSets=e.expenseSets,A.BCRSets=e.BCRSets,A.scenarioSets=e.scenarioSets,j=e.marketRentSetsCount,q=e.vacancySetsCount,J=e.expenseSetsCount,z=e.BCRSetsCount,U=e.scenarioSetsCount},10)}(T),r.gotoScenario=function(e){i.SetValues(A.marketRentSets,A.vacancySets,A.expenseSets,A.BCRSets,A.scenarioSets,e,j,q,J,z,U),a.go("ScenarioOne")},r.showScenarioOne=function(){r.col=3,A.scenarioTwoActive=!1},r.showScenarioTwo=function(){r.col=2,A.scenarioTwoActive=!0};var k=255,E=245,O=123,$=123,M=649,N=157,V=649,B=561,L=502,_=345;A.saveScenario=l;var U=0;A.addScenarioSet=c,A.addScenarioSetWithValues=u,A.removeScenarioSet=p,A.calculateScenarioSet=m,A.useSetInScenario=d,A.scenarioSets=[],U++,A.scenarioSets.push(F(U)),A.marketRenPre2=0,A.vacPre2=0,A.expensePre2=0,A.expensePerPre2=0,A.BCRPre2=0;var j=0;A.marketRentActive=!0,A.toggleMarketRent=g,A.addMarketRentSet=v,A.removeMRSet=h,A.marketRentSets=[],j++,A.marketRentSets.push(F(j));r.col=3,A.pre=0,A.calculateMarketRentSet=function(a){a.marketRentSF&&t.isNumeric(a.marketRentSF)||(a.marketRentSF=0),a.marketRentSF&&t.isNumeric(a.marketRentSF)||(a.marketRentSF=0,A.pre=0),0==a.marketRentSF&&"."!=a.marketRentSF[1]&&(a.marketRentSF=0,A.pre=0),0==A.pre&&a.marketRentSF>=1&&(a.marketRentSF<10?(a.marketRentSF=a.marketRentSF/10,a.marketRentSF=10*a.marketRentSF,A.pre=a.marketRentSF):(a.marketRentSF=a.marketRentSF/10,A.pre=a.marketRentSF));var n=e.Petitioner.annualRent(k,a.marketRentSF),r=n,o=e.Petitioner.vacancy(r,E/100),i=e.Petitioner.effectiveRent(n,o/100),s=e.Petitioner.expenses(i,O/100),l=e.Petitioner.expensesPerSf(s,k),c=e.Petitioner.netOperatingIncome(i,s),u=e.Petitioner.overAllCapRate(parseInt(N),parseInt(V)),d=e.Petitioner.valueDirectCap(u,c),p=e.Petitioner.valuePerSqFt(d,k);a.vacancyPercentage=E,a.expenseSF=l,a.expensePercentage=O,a.NOI=c,a.BCR=N,a.value=d,a.valueSF=p,a.assessedValue=B,a.assessedValueSF=L,a.petitionerLeasableSF=k,a.petitionerMarketRentSF=a.marketRentSF,a.petitionerAnnualRent=n,a.petitionerGPR=r,a.petitionerVacancyPercentage=E,a.petitionerVacancy=o,a.petitionerEffectiveRent=i,a.petitionerExpensePercentage=O,a.petitionerExpense=s,a.petitionerExpenseSF=l,a.petitionerOI=M,a.petitionerNOI=c,a.petitionerBCR=N,a.petitionerETR=V,a.petitionerOCR=u,a.petitionerVDC=d,a.petitionerValueSF=p,a.petitionerNOIBySF=c/k};var q=0;A.vacancyActive=!0,A.addVacancySet=S,A.toggleVacancy=y,A.removeVacancySet=P,A.vacancySets=[],q++,A.vacancySets.push(F(q)),A.vacPre=0,A.calculateVacancySet=function(a){a.marketRentSF=_,a.vacancyPercentage&&t.isNumeric(a.vacancyPercentage)||(a.vacancyPercentage=0,A.vacPre=0),0==a.vacancyPercentage&&"."!=a.vacancyPercentage[1]&&(a.vacancyPercentage=0,A.vacPre=0),0==A.vacPre&&a.vacancyPercentage>=1&&(a.vacancyPercentage<10?(a.vacancyPercentage=a.vacancyPercentage/10,a.vacancyPercentage=10*a.vacancyPercentage,A.vacPre=a.vacancyPercentage):(a.vacancyPercentage=a.vacancyPercentage/10,A.expPre=a.vacancyPercentage));var n=e.Petitioner.annualRent(k,a.marketRentSF),r=n,o=e.Petitioner.vacancy(r,a.vacancyPercentage/100),i=e.Petitioner.effectiveRent(n,o/100),s=e.Petitioner.expenses(i,O/100),l=e.Petitioner.expensesPerSf(s,k),c=e.Petitioner.netOperatingIncome(i,s),u=e.Petitioner.overAllCapRate(parseInt(N),parseInt(V)),d=e.Petitioner.valueDirectCap(u,c),p=e.Petitioner.valuePerSqFt(d,k);a.expenseSF=l,a.expensePercentage=O,a.NOI=c,a.BCR=N,a.value=d,a.valueSF=p,a.assessedValue=B,a.assessedValueSF=L,a.petitionerLeasableSF=k,a.petitionerMarketRentSF=a.marketRentSF,a.petitionerAnnualRent=n,a.petitionerGPR=r,a.petitionerVacancyPercentage=a.vacancyPercentage,a.petitionerVacancy=o,a.petitionerEffectiveRent=i,a.petitionerExpensePercentage=O,a.petitionerExpense=s,a.petitionerExpenseSF=l,a.petitionerOI=M,a.petitionerNOI=c,a.petitionerBCR=N,a.petitionerETR=V,a.petitionerOCR=u,a.petitionerVDC=d,a.petitionerValueSF=p,a.petitionerNOIBySF=c/k};var J=0;A.expenseActive=!0,A.toggleExpense=D,A.addExpenseSet=b,A.removeExpenseSet=C,A.expenseSets=[],J++,A.expenseSets.push(F(J)),A.expPre2=0,A.expPre=0,A.calculateExpenseSet=function(a){a.vacancyPercentage=E,a.marketRentSF=_,A.expenseInputActive?(a.expenseSF&&t.isNumeric(a.expenseSF)||(a.expenseSF=0,A.expPre=0),0==a.expenseSF&&"."!=a.expenseSF[1]&&(a.expenseSF=0,A.expPre=0),0==A.expPre&&a.expenseSF>=1&&(a.expenseSF<10?(a.expenseSF=a.expenseSF/10,a.expenseSF=10*a.expenseSF,A.expPre=a.expenseSF):(a.expenseSF=a.expenseSF/10,A.expPre=a.expenseSF)),a.expensePercentage=O):(a.expensePercentage&&t.isNumeric(a.expensePercentage)||(a.expensePercentage=0,A.expPre2=0),0==a.expensePercentage&&"."!=a.expensePercentage[1]&&(a.expensePercentage=0,A.expPre2=0),0==A.expPre2&&a.expensePercentage>=1&&(a.expensePercentage<10?(a.expensePercentage=a.expensePercentage/10,a.expensePercentage=10*a.expensePercentage,A.expPre2=a.expensePercentage):(a.expensePercentage=a.expensePercentage/10,A.expPre2=a.expensePercentage)),O=a.expensePercentage);var n=e.Petitioner.annualRent(k,a.marketRentSF),r=n,o=e.Petitioner.vacancy(r,a.vacancyPercentage/100),i=e.Petitioner.effectiveRent(n,o/100),s=e.Petitioner.expenses(i,O/100),l=e.Petitioner.expensesPerSf(s,k),c=e.Petitioner.netOperatingIncome(i,s),u=e.Petitioner.overAllCapRate(parseInt(N),parseInt(V)),d=e.Petitioner.valueDirectCap(u,c),p=e.Petitioner.valuePerSqFt(d,k);A.expenseInputActive||(a.expenseSF=l),a.NOI=c,a.BCR=N,a.value=d,a.valueSF=p,a.assessedValue=B,a.assessedValueSF=L,a.petitionerLeasableSF=k,a.petitionerMarketRentSF=a.marketRentSF,a.petitionerAnnualRent=n,a.petitionerGPR=r,a.petitionerVacancyPercentage=a.vacancyPercentage,a.petitionerVacancy=o,a.petitionerEffectiveRent=i,a.petitionerExpensePercentage=O,a.petitionerExpense=s,a.petitionerExpenseSF=l,a.petitionerOI=M,a.petitionerNOI=c,a.petitionerBCR=N,a.petitionerETR=V,a.petitionerOCR=u,a.petitionerVDC=d,a.petitionerValueSF=p,a.petitionerNOIBySF=c/k},A.expenseInputActive=!0,A.ExpenseSFInput=function(){A.expenseInputActive=!0},A.ExpensePercentageInput=function(){A.expenseInputActive=!1},A.baseCapeRateActive=!0;var z=0;A.toggleBaseCapeRate=R,A.addBCRSet=I,A.removeBCRSet=x,A.BCRSets=[],z++,A.BCRSets.push(F(z)),A.bcrPre=-1,A.calculateBCRSet=function(a){a.vacancyPercentage=E,a.marketRentSF=_,a.BCR&&t.isNumeric(a.BCR)||(a.BCR=0),a.BCR&&t.isNumeric(a.BCR)||(a.BCR=0,A.bcrPre=0),0==a.BCR&&"."!=a.BCR[1]&&(a.BCR=0,A.bcrPre=0),0==A.bcrPre&&a.BCR>=1&&(a.BCR<10?(a.BCR=a.BCR/10,a.BCR=10*a.BCR,A.bcrPre=a.BCR):(a.BCR=a.BCR/10,A.bcrPre=a.BCR));var n=e.Petitioner.annualRent(k,a.marketRentSF),r=n,o=e.Petitioner.vacancy(r,a.vacancyPercentage/100),i=e.Petitioner.effectiveRent(n,o/100),s=e.Petitioner.expenses(i,O/100),l=e.Petitioner.expensesPerSf(s,k),c=e.Petitioner.netOperatingIncome(i,s),u=e.Petitioner.overAllCapRate(parseInt(a.BCR),parseInt(V)),d=e.Petitioner.valueDirectCap(u,c),p=e.Petitioner.valuePerSqFt(d,k);a.vacancyPercentage=E,a.expenseSF=l,a.expensePercentage=O,a.NOI=c,a.value=d,a.valueSF=p,a.assessedValue=B,a.assessedValueSF=L,a.petitionerLeasableSF=k,a.petitionerMarketRentSF=a.marketRentSF,a.petitionerAnnualRent=n,a.petitionerGPR=r,a.petitionerVacancyPercentage=a.vacancyPercentage,a.petitionerVacancy=o,a.petitionerEffectiveRent=i,a.petitionerExpensePercentage=O,a.petitionerExpense=s,a.petitionerExpenseSF=l,a.petitionerOI=M,a.petitionerNOI=c,a.petitionerBCR=N,a.petitionerETR=V,a.petitionerOCR=u,a.petitionerVDC=d,a.petitionerValueSF=p,a.petitionerNOIBySF=c/k},A.useInValuation=w}a.$inject=["PetitionerFormulae","$state","$timeout","$scope","SensitivityService","ScenarioDataService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d){var p=this;p.fileName=localStorage.getItem("onlyFileName");var m=JSON.parse(localStorage.getItem("targetDataFields")),f=JSON.parse(localStorage.getItem("mapData"));p.mappedData=f,p.targetFields=m.split("|"),p.completeMapping=function(){t("#preloader").css("display","block");var e="/properties/MapPropertiesData?userId="+localStorage.getItem("userId"),a={mapping:p.mappedData,fileName:p.fileName};u.postDataToServer(e,a).then(function(e){t("#preloader").css("display","none"),e.data.success&&n.go("TaskManager")},function(e){t("#preloader").css("display","none")})},setTimeout(function(){var e={};t(".inventor").draggable({helper:"clone",start:function(t,a){e.tr=this,e.helper=a.helper}}),t(".invention").droppable({drop:function(a,n){var r=n.draggable.text().trim();t(this).find("input").val(r),t(e.tr).add(),t(e.helper).add();var o=a.target.getAttribute("id");p.mappedData[o]=r}})},10)}a.$inject=["$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l){function c(){u.rolesForSelectedUsers={viewPropertyPublicData:!1,unlinkPropertyData:!1,viewRentRolls:!1,attachFilesToProperty:!1,viewIncomeExpense:!1,editValuationWorkspace:!1,editValuationForm:!1,viewValuationWorkspace:!1,editPropertyImage:!1,viewComparables:!1,viewValuationForm:!1,viewPropertyDetails:!1,viewTaxBills:!1,assignProperty:!1},u.selectedUsers=[]}var u=this;u.property=JSON.parse(localStorage.getItem("propertyDetails")),u.propertyId=JSON.parse(localStorage.getItem("propertyId")),a(function(){t("#myModal").modal("show")}),u.formsList=[],u.userRoles=JSON.parse(localStorage.getItem("propertyDetails")).roles||{},u.userByRole=[],u.getDatas=function(e){if(e){var a={roleName:e,propId:parseInt(localStorage.getItem("propertyId"))};t("#preloader").css("display","block"),o.postDataToServer("/users/getUserByRole",a).then(function(e){e.data.success&&(u.userByRole=e.data.result,t("#myModal").modal("hide"),c()),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}},u.selectedUsers=[],u.addToselectedUsers=function(e,t){if(t)u.selectedUsers.push(e);else{var a=u.selectedUsers.indexOf(e);u.selectedUsers.splice(a,1)}},u.saveData=function(){var n={propId:parseInt(localStorage.getItem("propertyId")),agentId:u.selectedUsers,roles:u.rolesForSelectedUsers};t("#preloader").css("display","block"),o.postDataToServer("/properties/assignPropertyToAgent",n).then(function(n){n.data.success?(c(),i.$emit("success",n.data.message),a(function(){t("#preloader").css("display","none"),e.go("assignedUsersList")},2e3)):i.$emit("error",n.data.message)},function(e){t("#preloader").css("display","none"),i.$emit("error",e.data.message)})},c(),i.$on("$destroy",function(){t("#myModal").modal("hide"),t("body").removeClass("modal-open"),t(".modal-backdrop").remove()})}a.$inject=["$state","$timeout","$rootScope","$stateParams","AOTCService","$scope","ValuationService","UtilService"],e.exports=a}).call(t,a(2))},function(e,t,a){(function(t){function a(e,a,n,r,o,i,s,l){var c=this;c.property=JSON.parse(localStorage.getItem("propertyDetails")),c.propertyId=JSON.parse(localStorage.getItem("propertyId")),c.showRightsModal=function(){t("#mySelectModal").modal("show")},c.allUserRoles=[],function(){var e={propId:parseInt(localStorage.getItem("propertyId"))};t("#preloader").css("display","block"),o.postDataToServer("/properties/getAssignedUsers",e).then(function(e){e.data.success&&(c.assignedUsers=e.data.result),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}(),c.updateUserRole=function(e,a,n){var i={propId:parseInt(localStorage.getItem("propertyId")),agentId:[a],roles:e};t("#preloader").css("display","block"),o.postDataToServer("/properties/assignPropertyToAgent",i).then(function(e){t("#preloader").css("display","none");var a=e.data;a.success?(n.$setPristine(),r.$emit("success",a.message)):r.$emit("danger",a.message)},function(e){t("#preloader").css("display","none")})},c.deleteUserRole=function(e,a,n){var s={propId:parseInt(localStorage.getItem("propertyId")),agentId:[a]};t("#preloader").css("display","block"),o.postDataToServer("/properties/removeAssignedUser",s).then(function(e){t("#preloader").css("display","none");var a=e.data;a.success?(i(function(){c.assignedUsers.splice(n,1)}),r.$emit("success",a.message)):r.$emit("danger",a.message)},function(e){t("#preloader").css("display","none")})}}a.$inject=["$stateParams","$state","$location","$scope","AOTCService","$timeout","$filter","$q"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d,p,m){l.data=null,l.subData=null,l.show=!0,l.showModal=!1,l.openSign=!1,l.uploadModal=!1,function(){var e={appealYear:2018,userId:9922606};t("#preloader").css("display","block"),p.postDataToServer("/appeal/getPropertyTimelineData",e).then(function(e){t("#preloader").css("display","none"),console.log(e.data),l.data=e.data.result,l.staticTable(1)},function(e){t("#preloader").css("display","none")})}(),l.staticTable=function(e){console.log(e),t(document).ready(function(){t(".JStableOuter table").scroll(function(e){t(".JStableOuter thead").css("left",-t(".JStableOuter tbody").scrollLeft()),t(".JStableOuter thead th:nth-child(1)").css("left",t(".JStableOuter table").scrollLeft()-0),t(".JStableOuter tbody td:nth-child(1)").css("left",t(".JStableOuter table").scrollLeft()),t(".JStableOuter thead").css("top",-t(".JStableOuter tbody").scrollTop()),t(".JStableOuter thead tr th").css("top",t(".JStableOuter table").scrollTop())})})},l.checkMessage=function(e){return{"not-started":"Not Started"==e||!e,done:"Done"==e,applicable:"Not applicable"==e,"in-progress":"In Progress"==e}},l.setWarning=function(e){return"type"in e&&"warning"==e.type?"red-card":"blue-card"},l.buttonComp=function(e){return"warning"in e&&e.warning?"red-button":"flag"in e&&0==e.flag?"disable-button":"blue-button"},l.noteComp=function(e){return console.log("note",e),"warning"in e&&e.warning?(console.log("red"),"red-note"):"blue-note"},l.openModal=function(e,t){"Details"==e.buttonText?(l.showModal=!0,l.modalData=e):"Schedule Review"==e.buttonText||"Execute Signature"==e.buttonText&&(l.openSign=!0),console.log(e)},l.signModal=function(e){l.uploadModal=1==e},l.closeModal=function(){l.showModal=!1,l.openSign=!1,console.log("hide")},l.changeComp=function(e){l.subData=null,l.subData={data:l.data,prop:e.subEvents},console.log(l.subData),l.show=!1},l.uplaodFile=function(e){console.lof(e)}}a.$inject=["UtilService","$stateParams","$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").controller("Signup",a(101).Signup),angular.module("AOTC").directive("pwCheck",a(101).pwCheck)},function(e,t,a){"use strict";angular.module("AOTC").directive("myDraggable",a(65).myDraggable),angular.module("AOTC").filter("nameFilter",a(65).nameFilter),angular.module("AOTC").component("editArrangeSurveyComponent",a(65).editArrangeSurveyComponent),angular.module("AOTC").component("editCreateSurveyComponent",a(287)),angular.module("AOTC").component("editViewSurveyComponent",a(288)),angular.module("AOTC").controller("editSurveyCtrl",a(289)),angular.module("AOTC").controller("FillSurvey",a(290)),angular.module("AOTC").service("FillSurveyService",a(291)),angular.module("AOTC").controller("SubmissionList",a(292)),angular.module("AOTC").service("SubmissionListService",a(293)),angular.module("AOTC").controller("SurveyList",a(294)),angular.module("AOTC").service("SurveylistService",a(295)),angular.module("AOTC").controller("SurveySubmissions",a(296)),angular.module("AOTC").service("SurveySubmissionsService",a(297)),angular.module("AOTC").controller("AddQuestionCtrl",a(298)),angular.module("AOTC").service("AddQuestionService",a(299)),angular.module("AOTC").component("inputFields",a(300)),angular.module("AOTC").controller("ArrangeSurveyCtrl",a(301)),angular.module("AOTC").service("ArrangeSurveyService",a(302)),angular.module("AOTC").service("ArrangeSurveyUtil",a(303)),angular.module("AOTC").component("arrangeSurveyComponent",a(66).arrangeSurveyComponent),angular.module("AOTC").filter("nameFilter",a(66).nameFilter),angular.module("AOTC").directive("myDraggable",a(66).myDraggable),angular.module("AOTC").service("CreateSurveyService",a(304)),angular.module("AOTC").service("CreateSurveyUtil",a(305)),angular.module("AOTC").component("createSurveyComponent",a(306)),angular.module("AOTC").controller("sectionSettingsCtrl",a(307)),angular.module("AOTC").service("sectionSettingsService",a(308)),angular.module("AOTC").component("viewSurveyController",a(309)),angular.module("AOTC").controller("WizardsViewerCtrl",a(310))},function(e,t,a){(function(t){var a={};a={templateUrl:"modules/SurveyModule/EditSurvey/EditableSurveysMenu/EditCreateSurvey/EditCreateSurvey.component.html",controllerAs:"EditCreateSurveyCtrl",controller:["$scope","sharedService","CreateSurveyService","FillSurveyService","$timeout","$stateParams","AddQuestionService","$state",function(e,a,n,r,o,i,s,l){function c(){t("#preloader").css("display","block"),r.getSurveyDetails(i.id).then(function(a){if(t("#preloader").css("display","none"),!a.data.success)return void e.$emit("error",a.data.message);if(e.viewQuestions=a.data.result,n.selectedSections=e.viewQuestions,console.log(e.viewQuestions),0!=n.editQuestions.length)for(var r=0;r<e.data.length;r++)for(var o=0;o<n.editQuestions.length;o++)n.editQuestions[o].id==e.data[r].id&&(e.data[r].check=!0);u()},function(e){t("#preloader").css("display","none")})}function u(){var t=e.viewQuestions,a=e.data,r=JSON.parse(localStorage.getItem("section"));if(e.localHedge=r,console.log(r),localStorage.getItem("section")){for(var o=0;o<e.data.length;o++){var i=0;for(var a in r){console.log(r[a]);for(var s=0;s<r[a].length;s++)if(r[a][s].question&&e.data[o].id==r[a][s].id){i=1,e.data[o].check=!0;break}}0==i&&(e.data[o].check=!1,console.log(a[o]))}for(var l=0;l<e.data.length;l++)for(var o=0;o<n.editQuestions.length;o++)n.editQuestions[o].id==e.data[l].id&&(e.data[l].check=!0,console.log(e.data[l]));for(var l=0;l<e.data.length;l++)for(var o=0;o<n.validateQuestions.length;o++)n.validateQuestions[o].id==e.data[l].id&&(e.data[l].check=!1)}else for(var o=0;o<a.length;o++)for(var c=0;c<t.sections.length;c++)for(var l=0;l<t.sections[c].questions.length;l++)if(a[o].id==t.sections[c].questions[l].questionId){for(var u=0,d=0;d<n.validateQuestions.length;d++)n.validateQuestions[d].id==a[o].id&&(a[o].check=!1,u=1);1!=u&&(a[o].check=!0)}}e.questionOptions=[],e.newQuestion={},e.editQuestion=!1,e.valid=!1,e.questionText="",console.log(n.editQuestions),n.selectedSections=e.viewQuestions,function(){t("#preloader").css("display","block"),n.getAllQuestions().then(function(t){var a=t.data;if(a.success&&a){if(e.data=a.result,0!=n.editQuestions.length&&n.editQuestions&&n.editQuestions[0].question)for(var r=0;r<e.data.length;r++){for(var o=0,i=0;i<n.editQuestions.length;i++)if(n.editQuestions[i].id==e.data[r].id){o=1;break}e.data[r].check=0!=o}c()}},function(e){t("#preloader").css("display","none")})}(),e.selectAllQuestions=function(t){var a=e.data;if(t)for(var r=0;r<a.length;r++){var o={};o.question=a[r].questionText,o.id=a[r].id,o.section=a[r].section,o.sectionId=a[r].sectionId,o.ref_id=a[r].ref_id,o.check=!0,a[r].check=!0,a[r].options?o.options=JSON.parse(a[r].options):o.options=null,o.index=r,n.editQuestions[r]=o}else for(var r=0;r<a.length;r++){var o={};o.question=a[r].questionText,o.id=a[r].id,o.section=a[r].section,o.sectionId=a[r].sectionId,o.ref_id=a[r].ref_id,o.check=!1,a[r].check=!1,a[r].options?o.options=JSON.parse(a[r].options):o.options=null,o.index=r,e.data[r].check=!1,n.editQuestions.pop()}},e.addNewQuestion=function(){s.setSelectedQuestion(null),s.routeDecider=i.id,l.go("AddQuestion")},e.editQuestion=function(e){s.setSelectedQuestion(e),s.routeDecider=i.id,l.go("AddQuestion")},e.selectedCheckbox=function(e,t,a){var r=n.editQuestions;if(console.log(e.id),t){var o={};o.question=e.questionText,o.id=e.id,o.section=e.section,o.sectionId=e.sectionId,o.ref_id=e.ref_id,o.check=t,e.options?o.options=JSON.parse(e.options):o.options=null,o.index=a,n.editQuestions.splice(a,0,o);for(var i=0;i<n.validateQuestions.length;i++)n.validateQuestions[i].id==e.id&&n.validateQuestions.splice(i,1)}else{for(var s=0;s<r.length;s++)e.id==r[s].id&&n.editQuestions.splice(s,1);var o={};o.question=e.questionText,o.id=e.id,o.section=e.section,o.sectionId=e.sectionId,o.ref_id=e.ref_id,o.check=t,e.options?o.options=JSON.parse(e.options):o.options=null,o.index=a,n.validateQuestions.push(o)}console.log(n.editQuestions)}}]},e.exports=a}).call(t,a(2))},function(e,t,a){(function(t){var a={templateUrl:"modules/SurveyModule/EditSurvey/EditableSurveysMenu/EditViewSurvey/EditViewSurvey.component.html",controllerAs:"EditViewSurveyCtrl",controller:["$scope","sharedService","CreateSurveyService","ArrangeSurveyService","AOTCService","$timeout","$state","$stateParams",function(e,a,n,r,o,i,s,l){e.viewQuestions=[],e.viewQuestions=r.selectQuestions,e.sectionData=n.editQuestions,console.log(e.sectionData),e.surveyName="",e.noticesNumber=0,e.noticesDates=[];var c=0;e.dateFormat="MM-dd-yyyy",e.availableDateOptions={formatYear:"yy",startingDay:1,minDate:new Date(1975,1,1),maxDate:new Date(2030,1,1)},this.opneSaveSurveyModal=function(){t("#confirmUpdateModal").modal("show")},this.UpdateSubmissions=function(a){e.saveSurvey(a),t("#confirmUpdateModal").modal("hide")},e.saveSurvey=function(a){t("#preloader").css("display","block");var n=localStorage.getItem("userId"),r=e.viewQuestions,o=[],i=[];for(c in r)r[c][r[c].length-1].sectionID&&(o[c]={sectionId:r[c][r[c].length-1].sectionID,sectionOrder:parseInt(c)});var s=0;for(var c in r){console.log(r[c]);for(var u=0;u<r[c].length;u++)r[c][u].id&&(i[s]={questionId:[r[c][u].id,r[c][u].ref_id],questionOrder:s,sectionId:r[c][r[c].length-1].sectionID},s+=1)}var d={surveyId:l.id,surveyName:e.surveyName,modifiedBy:n,link:"link",sectionOrder:o,surveyItems:i,updateSubmissions:a};e.postData(d),console.log(d)},e.setActive=function(e,t){console.log(t),t.forEach(function(t){1!=t.id&&3!=t.id&&4!=t.id&&5!=t.id||(t.answer.state=e===t)})},e.addCalenderFields=function(e,t){var a=0;if(t.length>e){a=t.length-e;for(var n=0;n<a;n++)t.splice(t.length-1,1)}else{a=e-t.length;for(var n=0;n<a;n++){var r={opened:!1,value:""};t.push(r)}}},e.dateValidation=function(e){console.log(e)},e.postData=function(a){o.postDataToServer("surveys/updateSurvey",a).then(function(a){t("#preloader").css("display","none"),console.log("Survwey: ",a),e.surveyName="",localStorage.removeItem("section"),a.data.success?(e.$emit("success",a.data.message),s.go("SurveyList")):e.$emit("danger",a.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})},e.setNotices=function(t){if(e.noticesDates.length>t){c=e.noticesDates.length-t;for(var a=0;a<c;a++)e.noticesDates.splice(a,1)}else{c=t-e.noticesDates.length;for(var a=0;a<c;a++){var n={opened:!1,value:""};e.noticesDates.push(n)}}}}]};e.exports=a}).call(t,a(2))},function(e,t){function a(e,t){console.log("editSurvey"),localStorage.removeItem("section"),t.editQuestions[0]&&(t.editQuestions.length=0),t.validateQuestions&&(t.validateQuestions.length=0),e.createSurveyRoute=!0,e.viewSurveyRoute=!1,e.arrangeQuestionsRoute=!1,e.createSurvey=function(){e.createSurveyRoute=!0,e.viewSurveyRoute=!1,e.arrangeQuestionsRoute=!1,e.loading=!0},e.viewSurvey=function(){e.createSurveyRoute=!1,e.viewSurveyRoute=!0,e.arrangeQuestionsRoute=!1,e.loading=!0},e.arrangeQuestions=function(){console.log("ss"),e.createSurveyRoute=!1,e.viewSurveyRoute=!1,e.arrangeQuestionsRoute=!0,e.loading=!0}}a.$inject=["$scope","CreateSurveyService"],e.exports=a},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o){console.log("SurveyAnswer controller",a.id),n.viewQuestions=[],n.dateFormat="MM-dd-yyyy",n.opened=!1,n.availableDateOptions={formatYear:"yy",startingDay:1,minDate:new Date(1975,1,1),maxDate:new Date(2030,1,1)},n.intervieweeInformation={},function(){t("#preloader").css("display","block"),o.getUSstates().then(function(e){t("#preloader").css("display","none"),console.log(e.data.result),n.states=e.data.result,n.intervieweeInformation.state=n.states[0].States},function(e){console.log(e),t("#preloader").css("display","none")})}(),n.addCalenderFields=function(e,t){r.getSurveyDetails(a.id).then(function(a){console.log(a);var n=0;if(t.length>e){n=t.length-e;for(var r=0;r<n;r++)t.splice(t.length-1,1)}else{n=e-t.length;for(var r=0;r<n;r++){var o={opened:!1,value:""};t.push(o)}}})},n.setActive=function(e,t){t.forEach(function(t){1!=t.id&&3!=t.id&&4!=t.id&&5!=t.id||(t.answer.state=e===t)})},t("#preloader").css("display","block"),r.getSurveyDetails(a.id).then(function(e){if(console.log(e),t("#preloader").css("display","none"),!e.data.success)return void n.$emit("error",e.data.message);n.$emit("success",e.data.message),n.viewQuestions=e.data.result},function(e){console.log(e),t("#preloader").css("display","none")}),n.intervieweeInformation={},n.saveSurveySubmission=function(o){t("#preloader").css("display","block");var i={surveyId:a.id,sections:n.viewQuestions.sections,information:n.intervieweeInformation};console.log(i),r.saveSubmission(i).then(function(r){if(t("#preloader").css("display","none"),console.log(r),!r.data.success)return void n.$emit("danger",r.data.message);n.$emit("success",r.data.message),setTimeout(function(){e.go("SubmissionList",{id:a.id})},2e3)},function(e){console.log(e),t("#preloader").css("display","none")})},n.dropDownClose=function(e,a){n.intervieweeInformation.state=a,t("#menu").hide(),console.log(e)}}a.$inject=["$state","$stateParams","$scope","FillSurveyService","SurveySubmissionsService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(a){var n="/surveys/getSurveyById?id="+a,r=e.defer();return t.getDataFromServer(n).then(function(e){r.resolve(e)},function(e){r.reject(e),console.log(e)}),r.promise}function n(a){var n="/surveys/getEditedSurveyById?id="+a,r=e.defer();return t.getDataFromServer(n).then(function(e){r.resolve(e)},function(e){r.reject(e),console.log(e)}),r.promise}function r(a){var n=e.defer();return t.postDataToServer("/surveys/submitSurvey",a).then(function(e){n.resolve(e)},function(e){n.reject(e),console.log(e)}),n.promise}return{getSurveyDetails:a,saveSubmission:r,getEditSurveyDetails:n}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r){a.GotoSurveySubmission=function(t){console.log("212"+t.id),n.go("SurveySubmissions",{id:t.id,surveyId:e.id})},a.GotoSurveyDeletion=function(e){t("#preloader").css("display","block");var n={id:e.id};r.deleteSubmission(n).then(function(e){e.data.success?a.getSubmissions():a.$emit("error",e.data.message)},function(e){t("#preloader").css("display","none")})},a.gotoSurveyAnswers=function(){n.go("FillSurvey",{id:e.id})},a.getSubmissions=function(){t("#preloader").css("display","block"),r.getSubmissions(e.id).then(function(e){e.data.success||a.$emit("error",e.data.message),a.submissionData=e.data.result,t("#preloader").css("display","none")},function(e){console.log(e),t("#preloader").css("display","none")})}}a.$inject=["$stateParams","$scope","$state","SubmissionListService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(a){var n="/surveys/getSubmittedSurveys?id="+a,r=e.defer();return t.getDataFromServer(n).then(function(e){r.resolve(e)},function(e){r.reject(e),console.log(e)}),r.promise}function n(a){var n=e.defer();return t.postDataToServer("/surveys/deleteSubmission",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return{getSubmissions:a,deleteSubmission:n}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";(function(t){function a(e,a,n,r){console.log("SurveyList controller"),e.surveyData=[],e.searchText="",e.getSurveyList=function(){t("#preloader").css("display","block"),r.getAllSurvey().then(function(a){t("#preloader").css("display","none");var n=a.data;console.log(n),n.success&&n&&(e.surveyData=n.result)},function(e){t("#preloader").css("display","none")})},e.selectedSurvey={},e.onClickDeleteSurvey=function(a){e.selectedSurvey=a,t("#ConfirmModalquestion").modal("toggle")},e.GotoViewReports=function(e){r.name=e.surveyName,n.go("Reports",{id:e.id})},e.deleteSurvey=function(){var a={id:e.selectedSurvey.id};t("#preloader").css("display","block"),r.deleteSurvey(a).then(function(a){t("#preloader").css("display","none");var n=a.data;if(n.success){if(n)return e.getSurveyList(),void e.$emit("success",n.message);e.$emit("danger",n.message)}},function(e){t("#preloader").css("display","none")})},e.GotoEditSurvey=function(e){localStorage.removeItem("section"),n.go("EditSurvey",{id:e.id})},e.GotoSubmitAnswer=function(e){n.go("FillSurvey",{id:e.id})},e.GotoViewSubmission=function(e){console.log(e),n.go("SubmissionList",{id:e.id})}}a.$inject=["$scope","$location","$state","SurveylistService"],e.exports=a}).call(t,a(2))},function(e,t){function a(e,t){function a(){var a=e.defer();return t.getDataFromServer("/surveys/getSurveysList").then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}function n(a){var n=e.defer();return t.postDataToServer("/surveys/deleteSurvey",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return{getAllSurvey:a,deleteSurvey:n}}a.$inject=["$q","AOTCService"],e.exports=a},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s){function l(){t("#preloader").css("display","block"),i.getSurveySubmissions(r.id).then(function(e){t("#preloader").css("display","none"),e.data.success?(o.submissionData=e.data.result,o.submissionData.information.dateCalled=new Date(o.submissionData.information.dateCalled)):o.$emit("danger",e.data.message)})}console.log("SurveySubmissions",r),o.states=[],o.opened=!1,o.availableDateOptions=a.AVAILABLE_DATE_OPTIONS,o.dateFormat=a.DATE_FORMAT,o.surveyId=r.surveyId,o.enableEdit=!1,o.selectedNewOrUpdate=0,o.Date=function(e){if(e)return new Date(e)},o.setActive=function(e,t){t.forEach(function(t){1!=t.id&&3!=t.id&&4!=t.id&&5!=t.id||(t.answer.state=e===t)})},o.addCalenderFields=function(e,t){var a=0;if(t.length>e){a=t.length-e;for(var n=0;n<a;n++)t.splice(t.length-1,1)}else{a=e-t.length;for(var n=0;n<a;n++){var r={opened:!1,value:""};t.push(r)}}},o.fetchData=function(){t("#preloader").css("display","block"),n.all([i.getSurveySubmissions(r.id),i.getUSstates()]).then(function(e){t("#preloader").css("display","none"),console.log(e);var a=e[0];a.data.success?(o.submissionData=a.data.result,o.submissionData.information.dateCalled=new Date(o.submissionData.information.dateCalled)):o.$emit("danger",a.data.message),o.states=e[1].data.result})},o.AddNewSurveyMetaData=function(){console.log("AddMewSurveyMetaData"),console.log(o.submissionData);var a={surveyId:o.surveyId,sections:o.submissionData.sections,information:o.submissionData.information};t("#preloader").css("display","block"),s.saveSubmission(a).then(function(a){if(t("#preloader").css("display","none"),console.log(a),!a.data.success)return void o.$emit("danger",a.data.message);o.$emit("success",a.data.message),setTimeout(function(){e.go("SubmissionList",{id:o.surveyId})},2e3)},function(e){console.log(e),t("#preloader").css("display","none")})},o.UpdateSurveyMetaData=function(e){if(console.log("UpdateSurveyMetaData"),!e.$valid)return angular.element("[name='"+e.$name+"']").find(".ng-invalid:visible:first").focus(),!1;console.log(o.submissionData),t("#preloader").css("display","block"),i.updateSubmittedForm(o.submissionData).then(function(e){t("#preloader").css("display","none"),console.log(e),e.data.success?(o.$emit("success",e.data.message),l()):o.$emit("danger",e.data.message)},function(e){console.log(e),t("#preloader").css("display","none")})},o.dropDownClose=function(e,a){o.submissionData.information.state=a,t("#menu").hide(),console.log(e)}}a.$inject=["$state","User_Config","$q","$stateParams","$scope","SurveySubmissionsService","FillSurveyService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(a){var n="/surveys/getSubmittedSurveyById?id="+a,r=e.defer();return t.getDataFromServer(n).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}function n(a){var n=e.defer();return t.postDataToServer("/surveys/updateSubmittedForm",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function r(){var a=e.defer();return t.getDataFromServer("/surveys/getUSstates").then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}return{updateSubmittedForm:n,getSurveySubmissions:a,getUSstates:r}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){(function(t){function a(e,a,n,r){function o(n){n.questionText?(e.valid=!1,n.options=JSON.stringify(i.questionOptions),t("#preloader").css("display","block"),a.addNewQuestion(n).then(function(n){if(console.log("result: ",n),t("#preloader").css("display","none"),!n.data.success)return void e.$emit("error",n.data.message);e.$emit("success",n.data.message),i.questionOptions=[],setTimeout(function(){var e=a.routeDecider;console.log(e),"Surveys"!=e?r.go(r.go("EditSurvey",{id:e})):r.go("Survey")},2e3)},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})):e.valid=!0}console.log("AddQuestionCtrl controller"),e.dateFormat=n.DATE_FORMAT,e.availableDateOptions=n.AVAILABLE_DATE_OPTIONS,e.dropDownOptions=n.DROPDOWN_OPTIONS_ANSWER_FIELD_TYPE;var i=this;i.questionOptions=[],e.newQuestion={},i.SaveNewQuestion=o,i.editQuestion=!1;var s=a.getSelectedQuestion();console.log(s),s&&(i.editQuestion=!0,e.newQuestion=s,s.options&&(i.questionOptions=JSON.parse(s.options))),e.SaveEditQuestion=function(n){t("#preloader").css("display","block"),console.log(n),n.options=JSON.stringify(i.questionOptions),a.SaveEditedQuestion(n).then(function(n){if(t("#preloader").css("display","none"),!n.data.success)return void e.$emit("error",n.data.message);e.$emit("success",n.data.message),i.questionOptions=[],setTimeout(function(){var e=a.routeDecider;"Surveys"!=e?r.go(r.go("EditSurvey",{id:e})):r.go("Survey")},2e3)},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})},e.valid=!1,e.questionText=""}a.$inject=["$scope","AddQuestionService","User_Config","$state"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(e){i=e}function n(){return i}function r(a){var n=e.defer();return t.postDataToServer("/surveys/updateQuestion",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function o(a){var n=e.defer();return t.postDataToServer("/surveys/addQuestion",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}var i=null;return{setSelectedQuestion:a,getSelectedQuestion:n,addNewQuestion:o,SaveEditedQuestion:r}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t){var a={templateUrl:"modules/SurveyModule/Wizards/AddQuestion/generic-question-options.component.html",controllerAs:"inputFields",bindings:{questionOptions:"="},controller:["$scope","sharedService","CreateSurveyService",function(e,t,a){var n=this;e.addOption=function(e){var t={};switch(e){case 0:t={id:e,inputValue:""};break;case 1:t={id:e,radioLabel:"Text"};break;case 2:t={id:e,checkboxLabel:"Text"};break;case 3:t={id:e,radioLabel:"Text",inputValue:""};break;case 4:t={id:e,radioLabel1:"Text",inputValue:"",radioLabel2:"Text"};break;case 5:t={id:e,radioLabel:"Text",dropDownOptions:[]};break;case 6:t={id:e,checkboxLabel:"Text",dropDownOptions:[]};break;case 7:t={id:e,label:"Text",inputValue:""};break;case 8:t={id:e,inputValue:""};break;case 9:t={id:e,label:"Text",radioLabel1:"Text",radioLabel2:"Text"};break;case 10:t={id:e,label1:"Text",inputValue:"",label2:"Text",radioLabel1:"Text",radioLabel2:"Text"}}n.questionOptions.push(t)}}]};e.exports=a},function(e,t,a){"use strict";function n(e,t,a){}n.$inject=["CreateSurveyService","ArrangeSurveyService","$scope"],e.exports=n},function(e,t,a){"use strict";function n(e,t){function a(){var a=e.defer();return t.getDataFromServer("/surveys/getSections").then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}function n(a){var n=e.defer();return t.postDataToServer("/surveys/addSection",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return this.selectQuestions={},{getAllSections:a,addSection:n}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").service("ArrangeSurveyUtil",function(){})},function(e,t,a){"use strict";function n(e,t){function a(){var a=e.defer();return t.getDataFromServer("/surveys/getQuestions").then(function(e){a.resolve(e)},function(e){a.reject(e),console.log(e)}),a.promise}function n(a){var n=e.defer();return t.postDataToServer("/surveys/deleteQuestion",a).then(function(e){n.resolve(e)},function(e){n.reject(e),console.log(e)}),n.promise}return this.selectQuestions={},{getAllQuestions:a,deleteQuestion:n,questions:[{}],editQuestions:[{}],selectedSections:[{}],defaultModel:{},validateQuestions:[],variableSelected:[{}]}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").service("CreateSurveyUtil",function(){})},function(e,t,a){(function(t){var a={templateUrl:"modules/SurveyModule/Wizards/CreateSurvey/CreateSurvey.html",controllerAs:"CreateSurveyCtrl",controller:["$scope","$state","CreateSurveyService","$timeout","AddQuestionService",function(e,a,n,r,o){function i(){t("#preloader").css("display","block"),n.getAllQuestions().then(function(e){t("#preloader").css("display","none");var a=e.data;if(a.success&&a&&(s.data=a.result,console.log(n.questions),console.log(s.data),0!=n.questions.length&&n.questions&&n.questions[0].question))for(var r=0;r<s.data.length;r++){for(var o=0,i=0;i<n.questions.length;i++)if(n.questions[i].id==s.data[r].id){console.log(r),o=1;break}s.data[r].check=0!=o}},function(e){t("#preloader").css("display","none")})}console.log("Create Survey controller");var s=this;i(),e.selectAll=!1,e.selectAllQuestions=function(e){var t=s.data;if(e)for(var a=0;a<t.length;a++){var r={};r.question=t[a].questionText,r.id=t[a].id,r.section=t[a].section,r.sectionId=t[a].sectionId,r.ref_id=t[a].ref_id,r.check=!0,t[a].check=!0,t[a].options?r.options=JSON.parse(t[a].options):r.options=null,r.index=a,n.questions[a]=r}else{console.log("untick");for(var a=0;a<t.length;a++){var r={};r.question=t[a].questionText,r.id=t[a].id,r.section=t[a].section,r.sectionId=t[a].sectionId,r.ref_id=t[a].ref_id,r.check=!1,t[a].check=!1,t[a].options?r.options=JSON.parse(t[a].options):r.options=null,r.index=a,s.data[a].check=!1,console.log(s.data[a]),n.questions.pop()}}},s.selectedCheckbox=function(e,t,a){var r=n.questions;if(console.log(e.id),t){var o={};o.question=e.questionText,o.id=e.id,o.section=e.section,o.sectionId=e.sectionId,o.ref_id=e.ref_id,o.check=t,e.options?o.options=JSON.parse(e.options):o.options=null,o.index=a,n.questions.splice(a,0,o),console.log("inserting:---"+o.question+" "+a)}else{console.log(a);for(var i=0;i<r.length;i++)e.id==r[i].id&&(console.log(e),console.log(i),n.questions.splice(i,1))}console.log(n.questions)},e.deleteQuestions=function(a){t("#preloader").css("display","none"),n.deleteQuestion(a).then(function(t){if(console.log("result: ",t),!t.data.success)return void e.$emit("error",t.data.message);e.$emit("success",t.data.message),i()},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})},e.addNewQuestion=function(){o.setSelectedQuestion(null),o.routeDecider="Surveys",a.go("AddQuestion")},e.editQuestion=function(e){o.setSelectedQuestion(e),o.routeDecider="Surveys",a.go("AddQuestion")},t("#closemodal").click(function(){t("#modalwindow").modal("hide")})}]};e.exports=a}).call(t,a(2))},function(e,t,a){(function(t){function a(e,a,n,r){console.log("sectionSettings controllersssssssssssssssssssssss"),t("#preloader").css("display","block"),e.getallSections=function(){console.log("data"),a.getAllSections().then(function(a){var n=a.data;n.success&&n&&(e.sections=n.result,console.log(e.sections)),t("#preloader").css("display","none")},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})},e.openModal=function(a){e.postSection={id:null,sectionText:null},console.log(a),e.postSection.id=a.sectionId,e.postSection.sectionText=a.section,console.log(e.postSection),t("#myModalquestion").modal("show")},e.editSection=function(n){t("#preloader").css("display","none"),console.log(n),a.addSection(n).then(function(a){var n=a.data;t("#myModalquestion").modal("toggle"),n.success?(e.$emit("success",a.data.message),n&&e.getallSections()):e.$emit("danger",a.data.message),t("#preloader").css("display","none")},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})},e.removeSection=function(n){postData={id:n.sectionId},console.log("removing"),t("#preloader").css("display","none"),console.log(n),a.deleteSection(postData).then(function(a){var n=a.data;n.success?(e.$emit("success",a.data.message),n&&e.getallSections()):e.$emit("danger",a.data.message),t("#preloader").css("display","none")},function(e){console.log("Error: ",e),t("#preloader").css("display","none")})},e.goback=function(){r.go("Survey")}}a.$inject=["$scope","sectionSettingsService","CreateSurveyService","$state"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t){function a(){var a=e.defer();return t.getDataFromServer("/surveys/getSections").then(function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}function n(a){var n=e.defer();return t.postDataToServer("/surveys/updateSection",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function r(a){var n=e.defer();return t.postDataToServer("/surveys/deleteSection",a).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return this.selectQuestions={},{getAllSections:a,addSection:n,deleteSection:r}}n.$inject=["$q","AOTCService"],e.exports=n},function(e,t,a){(function(t){var a={templateUrl:"modules/SurveyModule/Wizards/ViewSurvey/ViewSurvey.html",controllerAs:"ViewSurveyCtrl",controller:["$scope","sharedService","CreateSurveyService","ArrangeSurveyService","AOTCService","$timeout","$state",function(e,a,n,r,o,i,s){e.viewQuestions=[],e.viewQuestions=r.selectQuestions,e.surveyName="",e.noticesNumber=0,e.noticesDates=[];var l=0;e.dateFormat="MM-dd-yyyy",e.availableDateOptions={formatYear:"yy",startingDay:1,minDate:new Date(1975,1,1),maxDate:new Date(2030,1,1)},e.saveSurvey=function(){t("#preloader").css("display","block");var a=localStorage.getItem("userId"),n=e.viewQuestions,r=[],o=[];for(s in n)n[s][n[s].length-1].sectionID&&(r[s]={sectionId:n[s][n[s].length-1].sectionID,sectionOrder:parseInt(s)});var i=0;for(var s in n){console.log(n[s]);for(var l=0;l<n[s].length;l++)n[s][l].id&&(o[i]={questionId:n[s][l].id,questionOrder:i,sectionId:n[s][n[s].length-1].sectionID},i+=1)}t("#myModalquestion").modal("toggle");var c={surveyName:e.surveyName,createdBy:a,link:"link",sectionOrder:r,surveyItems:o};e.postData(c),console.log(c)},e.setActive=function(e,t){console.log(t),t.forEach(function(t){1!=t.id&&3!=t.id&&4!=t.id&&5!=t.id||(t.answer.state=e===t)})},e.addCalenderFields=function(e,t){var a=0;if(t.length>e){a=t.length-e;for(var n=0;n<a;n++)t.splice(t.length-1,1)}else{a=e-t.length;for(var n=0;n<a;n++){var r={opened:!1,value:""};t.push(r)}}},e.dateValidation=function(e){console.log(e)},e.postData=function(a){o.postDataToServer("surveys/addSurvey",a).then(function(a){t("#preloader").css("display","none"),console.log("Survwey: ",a),e.surveyName="",a.data.success?(e.$emit("success",a.data.message),s.go("SurveyList")):e.$emit("danger",a.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})},e.setNotices=function(t){if(e.noticesDates.length>t){l=e.noticesDates.length-t;for(var a=0;a<l;a++)e.noticesDates.splice(a,1)}else{l=t-e.noticesDates.length;for(var a=0;a<l;a++){var n={opened:!1,value:""};e.noticesDates.push(n)}}}}]};e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(e){return e===t.path()}function r(){e.createSurveyRoute=!0,e.viewSurveyRoute=!1,e.arrangeQuestionsRoute=!1,e.loading=!0}function o(){e.createSurveyRoute=!1,e.viewSurveyRoute=!0,e.arrangeQuestionsRoute=!1,e.loading=!0}function i(){console.log("ss"),e.createSurveyRoute=!1,e.viewSurveyRoute=!1,e.arrangeQuestionsRoute=!0,e.loading=!0}console.log("WizardsViewerCtrl controller");var s=this;s.isActive=n,s.arrangeQuestions=i,s.createSurvey=r,s.viewSurvey=o,e.loading=!1,e.createSurveyRoute=!0,e.viewSurveyRoute=!1,e.arrangeQuestionsRoute=!1}n.$inject=["$scope","$location","$state"],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").controller("TaskManagerCtrl",a(312)),angular.module("AOTC").service("taskService",a(313))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d){function p(e){e.success&&(r.tasks=[],r.tasks=e.result),t("#preloader").css("display","none")}d(function(){e.messageFrom&&r.$emit("success",e.message)},500);t("#preloader").css("display","block");var m=function(){i.getTasks().then(function(e){p(e)})};m();var f=o(m,5e3);r.$on("$destroy",function(){o.cancel(f)}),r.getDayDifference=function(e){var t=new Date(e.uploadTime),a=new Date,n=Math.abs(a.getTime()-t.getTime()),r=Math.ceil(n/864e5),o=!1;return r>1&&(o=!0),o},r.gotoProperties=function(e){t("#preloader").css("display","block"),localStorage.setItem("propertyId",e.propertyId);localStorage.getItem("propertyId");i.getPropertyDetails().then(function(n){t("#preloader").css("display","none"),"IE"==e.type&&"-1"!==e.propertyId?(localStorage.setItem("propertyDetails",angular.toJson(n.result[0].n.properties)),a.go("viewIERR.income_expense")):"RR"==e.type&&"-1"!==e.propertyId?(localStorage.setItem("propertyDetails",angular.toJson(n.result[0].n.properties)),a.go("viewIERR.rent_role")):a.go("PropertyList.private_property_list")})},r.gotoPrivateProps=function(e){a.go("PropertyList.private_property_list")}}a.$inject=["$stateParams","$state","$location","$scope","$interval","taskService","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";function n(e,t,a){function n(){return e({method:"get",url:"/taskManager/getTasksByUserId",params:{action:"get"}}).then(i,o)}function r(){return e({method:"POST",url:"/properties/getPropertiesById",data:{propId:parseInt(localStorage.getItem("propertyId"))}}).then(i,o)}function o(e){return angular.isObject(e.data)&&e.data.message?t.reject(e.data.message):t.reject("An unknown error occurred.")}function i(e){return e.data}return{getTasks:n,getPropertyDetails:r}}n.$inject=["$http","$q","$location"],e.exports=n},function(e,t,a){"use strict";angular.module("AOTC").controller("UserRegistration",a(315)),angular.module("AOTC").controller("Registered",a(316)),angular.module("AOTC").controller("UserRolesListCtrl",a(317)),angular.module("AOTC").controller("InventoryCtrl",a(318))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d){function p(){t("#myModalinvite").modal("toggle"),t("#preloader").css("display","block");for(var e=new Date,n=(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),[]),r=0;r<v.usersToBeRegistered.length;r++){var o=v.usersToBeRegistered[r];if(1==o.state){var i={name:o.firstName,lastName:o.lastName,company:o.company,city:o.city,email1:o.userEmail,role:o.role};n.push(i)}}var s={bulkUsers:n,emailSubject:v.emailSubject};u.postDataToServer("/users/addBulkUsersRef",s).then(function(e){e.data.success&&(t("#preloader").css("display","none"),a.go("Registered",{messageFrom:"bulkUserRegistration"}))},function(e){t("#preloader").css("display","none")})}function m(){d(function(){v.checkAll=+!v.checkAll,v.checkAll?f(v.usersToBeRegistered,1):f(v.usersToBeRegistered,0)},100)}function f(e,t){for(var a=0;a<e.length;a++)e[a].state=t}function g(e){e.state=+!e.state,v.checkAll=0}var v=this;i.popup_custom_success="";localStorage.getItem("userId");v.dtOptions=n.newOptions().withOption("order",[[1,"asc"]]).withOption("lengthMenu",[[20,50,100,-1],[20,50,100,"All"]]).withDisplayLength(20),v.dtColumnDefs=[r.newColumnDef(0).notSortable()],v.showTableRelatedDivs=!1,v.old=o.hash(),v.myFile="",v.fileName="",v.checkAll=1,v.emailSubject="We'd like you to add as designee",v.usersToBeRegistered=[],v.data="none",v.toggleCheckAll=m,v.toggleState=g,v.submitUserRegistrationData=p,v.upload=function(e){},i.fileNameChanged=function(){v.usersToBeRegistered=[];i.$digest();var e=document.getElementById("file-1").files;v.fileName=e[0].name;i.$apply(),u.uploadFiles("/users/uploadUserFile",e).then(function(e){e.data.success?(v.showTableRelatedDivs=!0,v.usersToBeRegistered=e.data.result):(v.showTableRelatedDivs=!1,t("#error_main").fadeIn(1500).delay(500).fadeOut(500)),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none"),v.fileName=file.name})},i.uploadFile=function(e){}}a.$inject=["$anchorScroll","$state","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i,s,l,c,u,d){function p(){var e="/users/getAllInvitedUsers?adminId="+h;t("#preloader").css("display","block"),u.getDataFromServer(e).then(function(e){e.data.success?(v.tableData=e.data.result,t("#preloader").css("display","none"),0==v.tableData.length&&i.$emit("error","No Data Found")):i.$emit("error",e.data.message)},function(e){})}function m(){v.emailSubject="We'd like you to add as Designee",t("#myModal").modal("toggle"),t("#myModalinvite").modal("toggle")}function f(){t("#myModalinvite").modal("toggle");var e=[];e.push(v.data);var a={bulkUsers:e,emailSubject:v.emailSubject};t("#preloader").css("display","block"),u.postDataToServer("/users/addBulkUsersRef",a).then(function(e){e.data.success&&(t("#preloader").css("display","none"),v.data={name:"",lastName:"",company:"",city:"",email1:"",role:""},i.inviteForm.$setPristine(),i.inviteForm.$setUntouched(),v.anotherUserActive&&t("#myModal").modal("toggle"),i.$emit("success","Invitation sent successfully"),p())},function(e){t("#preloader").css("display","none")})}function g(){v.anotherUserActive=!+v.anotherUserActive}var v=this;"bulkUserRegistration"==e.messageFrom&&d(function(){i.$emit("success","Invitation sent successfully")},100);var h=localStorage.getItem("userId");v.dtOptions=n.newOptions().withDisplayLength(20).withOption("lengthMenu",[[20,50,100,-1],[20,50,100,"All"]]).withOption("order",[[2,"desc"]]),v.dtColumnDefs=[],v.tableData=[],v.emailSubject="",v.anotherUserActive=0,v.data={name:"",lastName:"",company:"",city:"",email1:"",role:""},v.showEmailPopup=m,v.addNewUser=f,v.anotherUserToggle=g,p(),angular.element(document).ready(function(){t(".pushme").click(function(){t(this).text(function(e,t){return"Show less information"===t?"Show more information":"Show less information"})})})}a.$inject=["$stateParams","$rootScope","DTOptionsBuilder","DTColumnDefBuilder","$location","$scope","$http","__env","$log","AOTCService","$timeout"],e.exports=a}).call(t,a(2))},function(e,t,a){(function(t){function a(e,a,n,r,o,i,s,l){function c(){t("#preloader").css("display","block"),o.getDataFromServer("/admin/getAllUserRoles").then(function(e){e.data.success&&(u.allUserRoles=e.data.result),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}var u=this;u.showNewRightModal=function(){t("#newRightModal").modal("show")},u.allUserRoles=[],r.uRole={contracts:!1,createContract:!1,masterSlave:!1,name:"",newsFeed:!1,properties:!1,publicData:!1,surveys:!1,taskmanager:!1,timeline:!1,uploadProperties:!1},c(),u.updateUserRole=function(e,a,n){var i={roleId:a,role:e};t("#preloader").css("display","block"),o.postDataToServer("/admin/updateUserRole",i).then(function(e){t("#preloader").css("display","none");var a=e.data;a.success?(n.$setPristine(),r.$emit("success",a.message)):r.$emit("danger",a.message)},function(e){t("#preloader").css("display","none")})},u.addNewRole=function(e,a){var n=e;t("#preloader").css("display","block"),o.postDataToServer("/admin/addNewRole",n).then(function(e){t("#preloader").css("display","none");var a=e.data;a.success?(t("#newRightModal").modal("hide"),c(),r.$emit("success",a.message)):r.$emit("danger",a.message)},function(e){t("#preloader").css("display","none")})}}a.$inject=["$stateParams","$state","$location","$scope","AOTCService","$timeout","$filter","$q"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";(function(t){function a(e,a,n,r){var o=this;o.properties=null,o.year="2012",function(){var e={id:"9916454"};t("#preloader").css("display","block"),r.postDataToServer("/properties/getFileStatusIE",e).then(function(e){t("#preloader").css("display","none");var n=e.data;n.success?(o.properties=n.result,console.log(o.properties),angular.forEach(o.properties,function(e,t){console.log(e,t)})):a.$emit("danger",n.message)},function(e){t("#preloader").css("display","none")})}()}a.$inject=["$state","$location","$scope","AOTCService"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").factory("AOTCService",a(320)),angular.module("AOTC").factory("DataMappingService",a(321)),angular.module("AOTC").config(a(322)),angular.module("AOTC").factory("fileReader",a(323)),angular.module("AOTC").factory("UtilService",a(324)),angular.module("AOTC").factory("AOTCPermissions",a(325)),angular.module("AOTC").factory("AOTCAuth",a(326))},function(e,t,a){"use strict";function n(e,t){function a(t){var a=localStorage.getItem("token");return e({method:"GET",url:t,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:a}})}function n(t,a){var n=localStorage.getItem("token");return e({method:"PUT",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function r(t,a){var n=localStorage.getItem("token");return e({method:"POST",url:t,data:a,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:n}})}function o(t,a){for(var n=localStorage.getItem("token"),r=new FormData,o=0;o<a.length;o++)r.append("file",a[o]);return e.post(t,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0,Authorization:n}})}function i(t,a,n){for(var r=localStorage.getItem("token"),o=new FormData,i=0;i<a.length;i++)o.append("file",a[i]);return o.append("description",n),e.post(t,o,{transformRequest:angular.identity,headers:{"Content-Type":void 0,Athorization:r}})}function s(){t.unreadNotifications=0;a("timeline/getNotifications").then(function(e){try{if(e.data.success){t.allNotifications={external:[],internal:[]};for(var a=e.data.result,n=0;n<a.length;n++){var r=a[n];0==r.notification.properties.readFlag&&t.unreadNotifications++,-1!=r.notifications.properties.eventType.indexOf("inter")?t.allNotifications.internal.push(r):t.allNotifications.external.push(r)}}}catch(e){}},function(e){})}return{getDataFromServer:a,uploadFilesWithDescription:i,uploadFiles:o,postDataToServer:r,putDataToServer:n,getNotifications:s}}n.$inject=["$http","$rootScope"],e.exports=n},function(e,t){function a(){var e,t={},a={},n="",r=0;return t.setVariables=function(t,o,i,s){a=t,e=o,n=i,r=s},t.getDictionary=function(){return a},t.getRows=function(){return e},t.getHeaders=function(){return n},t.getIndex=function(){return r},t.checkVariables=function(){console.log(a),console.log(e),console.log(n),console.log(r)},t}a.$inject=[],e.exports=a},function(e,t){function a(e,t){e.factory("MyHttpInterceptor",["$q","$injector","$log",function(e,t,a){return{request:function(t){return t||e.when(t)},requestError:function(t){return e.reject(t)},response:function(t){return t||e.when(t)},responseError:function(a){return 401==a.status&&t.get("$state").transitionTo("login"),e.reject(a)}}}]),t.interceptors.push("MyHttpInterceptor")}a.$inject=["$provide","$httpProvider"],e.exports=a},function(e,t,a){"use strict";function n(e,t){var a=function(e,t,a){return function(){a.$apply(function(){t.resolve(e.result)})}},n=function(e,t,a){return function(){a.$apply(function(){t.reject(e.result)})}},r=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}},o=function(e,t){var o=new FileReader;return o.onload=a(o,e,t),o.onerror=n(o,e,t),o.onprogress=r(0,t),o};return{readAsDataUrl:function(t,a){var n=e.defer();return o(n,a).readAsDataURL(t),n.promise}}}n.$inject=["$q","$log"],e.exports=n},function(e,t,a){"use strict";function n(e){return!!e&&e.constructor===Array}function r(e,t){return e[2]=parseInt(e[2]),t[2]=parseInt(t[2]),e[2]===t[2]?0:e[2]<t[2]?-1:1}function o(e,t){return e[Object.keys(e)[0]][2]=parseInt(e[Object.keys(e)[0]][2]),t[Object.keys(t)[0]][2]=parseInt(t[Object.keys(t)[0]][2]),e[Object.keys(e)[0]][2]===t[Object.keys(t)[0]][2]?0:e[Object.keys(e)[0]][2]<t[Object.keys(t)[0]][2]?-1:1}function i(e,t){function a(e){var a=e[1];if(console.log(e),"null"!=e[1]&&""!=e[1]&&null!=e[1])switch(e[3]){case"1":var n;n=-1!=a.indexOf(",")?a:Number(parseFloat(e[1]).toFixed(0)).toLocaleString(),a=n;break;case"2":a=-1!=a.indexOf("-")?"$("+a.replace("-","")+")":"$ "+a+" ";break;case"3":a+=" %";break;case"4":var r;if(r=-1!=a.indexOf("/")?new Date(a):new Date(parseInt(a))){a=t("date")(r,"MM/dd/yyyy")}break;case"5":break;default:a=a}else a=null;return a}function i(e,t){return e>=0?e="$"+t:e<0?(t=t.slice(1),e="$("+t+")"):e=e,e}function s(e){var t=[];for(var a in e)n(e[a])&&void 0!==e[a][2]&&void 0!==e[a][3]&&t.push(e[a]);return t.sort(r)}function l(e){var t=[];for(var a in e)if(n(e[a])&&void 0!==e[a][2]&&void 0!==e[a][3]){var r={};r[a]=e[a],t.push(r)}return t.sort(o)}function c(e){var t=[];for(var a in e[0])n(e[a])&&void 0!==e[a][2]&&void 0!==e[a][3]&&t.push(e[a]);var o=t.sort(r);return console.log(o),o}function u(){angular.forEach(angular.element("input[type='file']"),function(e){angular.element(e).val(null)})}return{clearFile:u,numberFormatter:a,keyValMakerForGrid:l,numberFormatterValuation:i,keyValMaker:s,reducedData:c}}i.$inject=["$http","$filter"],e.exports=i},function(e,t,a){"use strict";function n(e){function t(e,t){return e=e.trim(),n[t][e]}function a(t,a){n[a]=t,e.$broadcast("permissionsChangedFor"+a)}var n;try{n={permissionMainObj:{},permissionPerPropertyObj:JSON.parse(localStorage.getItem("propertyDetails")).roles}}catch(e){n={permissionMainObj:{},permissionPerPropertyObj:{}}}return{setPermissions:a,hasPermission:t}}n.$inject=["$rootScope"],e.exports=n},function(e,t,a){"use strict";function n(e,t,a,n,r){function o(e){if(e){var o=t.defer();return localStorage.setItem("token",e),a.defaults.headers.common.Authorization=e,a.defaults.headers.common["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",a.defaults.headers.common["Cache-Control"]="no-cache",a.defaults.headers.common.Pragma="no-cache",n(function(){try{r.getNotifications()}catch(e){}o.resolve()}),o.promise}}function i(){var e=t.defer();return a.defaults.headers.common.Authorization="",localStorage.removeItem("token"),n(function(){e.resolve()}),e.promise}return{setToken:o,removeToken:i}}n.$inject=["$rootScope","$q","$http","$timeout","AOTCService"],e.exports=n},function(e,t,a){"use strict";a(102).module("AOTC").constant("User_Config",a(329)())},,function(e,t){function a(){return{DROPDOWN_OPTIONS_ANSWER_FIELD_TYPE:[{type:"text"},{type:"number"}],DATE_FORMAT:"MM-dd-yyyy",AVAILABLE_DATE_OPTIONS:{formatYear:"yy",startingDay:1,minDate:new Date(1969,1,1),maxDate:new Date(2030,1,1)},PMF_USER:"Asset Manager",AJ_USER:"Assessing Authority",RESIDENTIAL_USER:"Residential User",MULTI_PART:"multipart",MULTI_ACCOUNT:"multiaccount",NO_DATA:"No Data Found",Admin:"Admin",NO_IMAGE_AVAILABLE:"assets/img/noImageAvailable.jpg"}}e.exports=a},function(e,t,a){"use strict";angular.module("AOTC").controller("ViewReportsCtrl",a(331)),angular.module("AOTC").service("ReportService",a(103).ReportService),angular.module("AOTC").factory("Excel",a(103).Excel)},function(e,t,a){"use strict";(function(t){function a(e,a,n,r,o,i){function s(e){f=l(f),f=c(e,f),m=u(e),g.columnDefs=f,g.rowData=m,r(function(){var e=document.querySelector("#myGridContracts");new agGrid.Grid(e,g)})}function l(e){return[{headerName:"Question",field:"question",width:250,pinned:"left",cellStyle:{color:"black","font-weight":"bold","white-space":"normal","border-right":"1px solid #d6d6d6"}},{headerName:"Options",field:"options",width:150,pinned:"left",cellRenderer:d,cellStyle:{"border-right":"1px solid #d6d6d6"}}]}function c(e,t){for(var a=0;a<e.jurisdictions.length;a++){var n=a+"jur",r={headerName:e.jurisdictions[a],field:n,cellRenderer:p};t.push(r)}return t}function u(e){for(var t=[],a=0;a<e.questions.length;a++){for(var n={question:e.questions[a].question,options:e.questions[a].options},r=0;r<e.questions[a].answers.length;r++)n[r+"jur"]=e.questions[a].answers[r];t.push(n)}return t}function d(e){try{for(var t=document.createElement("div"),a=(e.column.colId,""),n=0;n<e.data.options.length;n++)a+='<span class="fa fa-square fa-1x font-set" > &nbsp;<span style="font-family: Open Sans, Helvetica Neue,Arial"> '+(e.data.options[n]||"")+"</span> </span><br>";return t.innerHTML=a,t}catch(e){return""}}function p(e){try{for(var t=document.createElement("div"),a=e.column.colId,n="",r=0;r<e.data[a].length;r++)n+='<span ng-show="val" class="fa fa-chevron-right"></span>&nbsp;'+(e.data[a][r]||"")+"<br>";return t.innerHTML=n,t}catch(e){return""}}a.data=null,a.switch=!1,a.surveyName="Download",a.switchTable=function(){a.switch?a.switch=!1:a.switch=!0},a.exportToExcel=function(){var e=n.tableToExcel("#myGridContracts","WireWorkbenchDataExport");r(function(){var t=document.createElement("a");t.href=e,t.download=a.surveyName+".xls",document.body.appendChild(t),t.click(),t.remove()},100)},a.initTest=function(){a.surveyName=e.name,t("#preloader").css("display","block"),o.getSurveyReports(i.id).then(function(e){t("#preloader").css("display","none"),e.data.success?(a.data=e.data,s(angular.copy(a.data.result))):a.$emit("danger",e.data.message)})};var m=[],f=[],g={columnDefs:[],rowData:[],headerHeight:25,rowHeight:40,suppressCellSelection:!0,enableColResize:!0,getRowHeight:function(e){return 21*(Math.floor(e.data.question.length/17)+1)}};a.exportReport=function(){var e=n.tableToExcel("#tableToExport1","WireWorkbenchDataExport");r(function(){var t=document.createElement("a");t.href=e,t.download="Survey Report.xls",document.body.appendChild(t),t.click(),t.remove()},100)}}a.$inject=["SurveylistService","$scope","Excel","$timeout","ReportService","$stateParams"],e.exports=a,agGrid.initialiseAgGridWithAngular1(angular)}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").controller("timelineGraphicalCtrl",a(333))},function(e,t,a){(function(t){function a(e,a,n,r,o,i,s,l,c){function u(e){try{return e.deadline=s("date")(e.deadline,"M/d/yyyy"),e}catch(t){return e}}function d(e){var t;return angular.forEach(b.allPropertiesTimelineStatus,function(a,n){a.propertyName==e&&(t=a)}),t}function p(e){var t;return angular.forEach(b.allPropertiesTimelineStatus,function(a,n){a.propertyName==e&&(t=a.jurisdiction)}),t}function m(e){t("#preloader").css("display","block");var a=l.defer(),n={jurisdictionName:e};return o.postDataToServer("timeline/getJurisdictionTimeline",n).then(function(e){e.data.success?(b.jurisdictionTimeline=e.data.result,h(b.jurisdictionTimeline),a.resolve()):(r.$emit("danger",e.data.message),a.reject())},function(e){t("#preloader").css("display","none")}),a.promise}function f(){var e=[];angular.forEach(b.allPropertiesTimelineStatus,function(t,a){0==a&&(b.selectedJurisdiction=t.jurisdiction,b.selectedByproperty=t.propertyName,-1==e.indexOf(t.jurisdiction)&&e.push(t.jurisdiction))}),b.allJurisdictionNames=e}function g(e){b.selectedEvents=[];for(var t=[],a=e["data-info2"],n=e["data-info1"],r=0;r<b.jurisdictionTimeline.length;r++){var o=b.jurisdictionTimeline[r].event._id;if(n.indexOf(o)!=_-1){var s=v(b.selectedEvents,b.jurisdictionTimeline,r,a);t.push(s)}}i(function(){b.selectedEvents=t})}function v(e,t,a,n){var o,i;if("by-property"==r.viewFormat){var s=[];angular.forEach(t[a].internalEvents,function(e){-1!=e.propertyNames.indexOf(b.selectedByproperty)&&s.push(e)}),o=t[a].event.properties,i=t[a].event._id,angular.extend(o,{internalEvents:s,nodeCodes:n,id:i})}else o=t[a].event.properties,i=t[a].event._id,angular.extend(o,{internalEvents:t[a].internalEvents,nodeCodes:n,id:i});return o}function h(e){b.myConfig.options.values=[],b.myConfig.options.day.items={};for(var t=0;t<e.length;t++){var a=e[t],n=s("date")(new Date(a.event.properties.deadlineStart),"yyyy-MM-dd"),r=s("date")(new Date(a.event.properties.deadlineEnd),"yyyy-MM-dd");b.myConfig.options.day.items["d-"+n]={backgroundColor:"green",color:"white"},b.myConfig.options.day.items["d-"+r]={backgroundColor:"orange",color:"white"};var o=S(b.myConfig.options.values,n,r);o.s.length?y(n,"<br><br>Event Code: "+String.fromCharCode(65+t%25)+"<br>Deadline Start: "+n+"<br>Event Name: "+a.event.properties.eventName,a.event._id,String.fromCharCode(65+t%25),o.s,b.myConfig.options.day.items,b.myConfig.options.values):b.myConfig.options.values.push([n,1,"Event Code: "+String.fromCharCode(65+t%25)+"<br>Deadline Start: "+n+"<br>Event Name: "+a.event.properties.eventName,[a.event._id],[String.fromCharCode(65+t%25)]]),o.e.length?y(r,"<br><br>Event Code: "+String.fromCharCode(65+t%25)+"<br>Deadline End: "+n+"<br>Event Name: "+a.event.properties.eventName,a.event._id,String.fromCharCode(65+t%25),o.e,b.myConfig.options.day.items,b.myConfig.options.values):b.myConfig.options.values.push([r,1,"Event Code: "+String.fromCharCode(65+t%25)+"<br>Deadline End: "+n+"<br>Event Name: "+a.event.properties.eventName,[a.event._id],[String.fromCharCode(65+t%25)]])}}function y(e,t,a,n,r,o,i){for(var s=0;s<r.length;s++){var l=r[s],c=i[l][2],u=i[l][3],d=i[l][4];c+=t,u.push(a),d.push(n),i[l][2]=c,i[l][3]=u,i[l][4]=d}o["d-"+e]={backgroundColor:"purple",color:"white",fontSize:10}}function S(e,t,a){for(var n=[],r=[],o=0;o<e.length;o++){var i=e[o];i[0]==t?n.push(o):i[0]==a&&r.push(o)}return{s:n,e:r}}function P(){try{var e=[];angular.forEach(b.allPropertiesTimelineStatus,function(t){t.jurisdiction==b.selectedJurisdiction&&e.push(t)}),b.allPropertiesinJurisdiction=e}catch(e){}}function D(){i(function(){zingchart.exec("myChart","destroy"),zingchart.complete=function(e){t("#preloader").css("display","none")},zingchart.loadModules("calendar",function(){zingchart.render({id:"myChart",data:b.myConfig,height:250})}),zingchart.node_click=function(e){g(e)}},0)}var b=this;r.viewFormat="all-properties",b.jurisdictionTimeline=[],b.selectedEvent={},b.currentYear="2018",b.yearChange=function(e){try{t("#preloader").css("display","block"),e=parseInt(e),b.myConfig.options.year.text=""+e,D()}catch(e){}},b.previousYear=function(){try{t("#preloader").css("display","block");var e=parseInt(b.currentYear)-1;b.currentYear=e,b.myConfig.options.year.text=""+e,D()}catch(e){}},b.nextYear=function(){try{t("#preloader").css("display","block");var e=parseInt(b.currentYear)+1;b.currentYear=e,b.myConfig.options.year.text=""+e,D()}catch(e){}},b.selectedJurisdiction="",b.selectedByproperty="",b.showEventModal=function(){t("#mySaveModal").modal("show")},b.allInternalEvents=[],b.showSelectModal=function(e){t("#mySelectModal").modal("show");try{if(b.selectedExternalId=e.id,0==b.allInternalEvents.length){t("#preloader").css("display","block");o.getDataFromServer("timeline/getInternalEvent").then(function(e){e.data.success?b.allInternalEvents=e.data.result:r.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}}catch(e){}},b.$selectedInternalEvents=[],b.addToSelected=function(e,t){if(t)-1==b.$selectedInternalEvents.indexOf(e)&&b.$selectedInternalEvents.push(e);else{var a=b.$selectedInternalEvents.indexOf(e);b.$selectedInternalEvents.splice(a,1)}},b.$selectedPropsForInternalEvents=[],b.addToSelectedProperties=function(e,t){if(t)-1==b.$selectedPropsForInternalEvents.indexOf(e)&&b.$selectedPropsForInternalEvents.push(e);else{var a=b.$selectedPropsForInternalEvents.indexOf(e);b.$selectedPropsForInternalEvents.splice(a,1)}},b.saveInternalEvents=function(){if(b.selectedExternalId&&b.$selectedInternalEvents.length&&b.$selectedPropsForInternalEvents.length){t("#preloader").css("display","block");var e={externalId:b.selectedExternalId,internalIds:b.$selectedInternalEvents,propertyIds:b.$selectedPropsForInternalEvents};o.postDataToServer("timeline/linkInternalEvent",e).then(function(e){e.data.success?(r.$emit("success",e.data.message),t("#mySelectModal").modal("hide")):r.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}},r.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],r.format=r.formats[0],r.altInputFormats=["M!/d!/yyyy"],r.popup1={opened:!1},r.open1=function(){r.popup1.opened=!0},b.createNewInternalEvent=function(e){t("#preloader").css("display","block");var a={internalEvent:u(e)};o.postDataToServer("timeline/createNewInternalEvent",a).then(function(e){if(e.data.success){r.$emit("success",e.data.message),t("#mySaveModal").modal("hide"),t("#preloader").css("display","block");o.getDataFromServer("timeline/getInternalEvent").then(function(e){e.data.success?b.allInternalEvents=e.data.result:r.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}else r.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})};!function(){t("#preloader").css("display","block");var e={};o.postDataToServer("timeline/getAllPropertiesTimelineStatus",e).then(function(e){e.data.success?(b.allPropertiesTimelineStatus=e.data.result,f()):r.$emit("danger",e.data.message),t("#preloader").css("display","none")},function(e){t("#preloader").css("display","none")})}();b.tabChangeFunc=function(e){try{if(r.viewFormat=e,"by-jurisdiction"==e)if(b.jurisdictionTimeline.length)c.$on("$includeContentLoaded",function(e,t){-1!=t.indexOf("jurisdiction")&&D()}),t("#preloader").css("display","block"),D();else{var a=b.selectedJurisdiction||"Maryland";m(a).then(function(){P(),D()})}else if("by-property"==e)if(b.jurisdictionTimeline.length){t("#preloader").css("display","block"),c.$on("$includeContentLoaded",function(e,t){-1!=t.indexOf("by-property")&&D()});var n=d(b.selectedByproperty);b.allPropertiesinJurisdiction=[n]}else{var a=p(b.selectedByproperty);m(a).then(function(){D();var e=d(b.selectedByproperty);e.cbox=!0,b.allPropertiesinJurisdiction=[e]})}}catch(e){}},b.propertiesFromDropdown=function(e){m(p(b.selectedByproperty)).then(function(){D()});var t=d(b.selectedByproperty);t.cbox=!0,b.allPropertiesinJurisdiction=[t]},b.getJurisdictionTimeline=function(e){m(e).then(function(){P(),D()})},b.allJurisdictionNames=[],b.selectedEvents=[],b.myConfig={type:"calendar",options:{year:{text:"2018",visible:!1},startMonth:1,endMonth:12,palette:["none","red"],month:{item:{fontColor:"gray",fontSize:9}},day:{items:{},inactive:{backgroundColor:"#fafafa"}},weekday:{values:["","M","","W","","F",""],item:{fontColor:"gray",fontSize:9}},values:[]},labels:[],tooltip:{text:"%data-info0"},plotarea:{marginTop:"8%",marginBottom:"10%",marginLeft:"-2%",marginRight:"0%"},plot:{valueBox:[{fontColor:"gray",fontFamily:"Courier New",fontSize:8,fontWeight:"normal",rules:[{rule:"%data-info1 != null",visible:"false"}],text:"%data-monthday"},{fontColor:"white",fontFamily:"Courier New",fontSize:12,fontWeight:"normal",rules:[{rule:"%data-info1 == null",visible:"false"}],text:"%data-info2"}]}}}a.$inject=["$stateParams","$state","$location","$scope","AOTCService","$timeout","$filter","$q","$rootScope"],e.exports=a}).call(t,a(2))},function(e,t,a){"use strict";angular.module("AOTC").directive("hasPermission",a(335)),angular.module("AOTC").directive("permissionPerProperty",a(336))},function(e,t){function a(e){return{link:function(t,a,n){function r(){try{var t;if("userObj"==i){t="Admin"==e.hasPermission(o,i).trim()}else t=e.hasPermission(o,i);t||(a[0].style.display="none")}catch(e){}}var o=n.hasPermission.trim(),i="permissionMainObj";try{i=n.permissionObject.trim()||"permissionMainObj"}catch(e){i="permissionMainObj"}r(),t.$on("permissionsChanged",r)}}}a.$inject=["AOTCPermissions"],e.exports=a},function(e,t){function a(e){return{link:function(t,a,n){var r=n.permissionPerProperty.trim(),o=n.behaviourType.trim();!function(){try{e.hasPermission(r,"permissionPerPropertyObj")||("hide"==o&&(a[0].style.display="none"),"disable"==o&&a[0].setAttribute("disabled",!0))}catch(e){}}()}}}a.$inject=["AOTCPermissions"],e.exports=a}],[138]);